{"version":3,"file":"ScreenCarouselComponent-D-_DnVal.js","sources":["../../src/components/data-fields/ScreenCarouselComponent.ts"],"sourcesContent":["/**\n * Screen Carousel Web Component\n *\n * Provides swipe navigation between multiple data screens.\n * Supports touch gestures and keyboard navigation.\n *\n * @example\n * ```html\n * <bpt-screen-carousel>\n *   <bpt-data-screen screen-id=\"main\"></bpt-data-screen>\n *   <bpt-data-screen screen-id=\"power\"></bpt-data-screen>\n * </bpt-screen-carousel>\n * ```\n *\n * @module components/data-fields/ScreenCarouselComponent\n */\n\nimport type { ActivityProfile, DataScreen } from '../../data-fields/types.js';\nimport type { UserSettings } from '../../data-fields/types.js';\nimport { DataScreenComponent } from './DataScreenComponent.js';\n\n// Ensure dependencies are registered\nimport './DataScreenComponent.js';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface ScreenChangeEvent {\n    screenIndex: number;\n    screen: DataScreen;\n    direction: 'next' | 'prev' | 'direct';\n}\n\n// ============================================================================\n// Component Definition\n// ============================================================================\n\n/**\n * Custom element for swipeable screen navigation\n */\nexport class ScreenCarouselComponent extends HTMLElement {\n    private profile: ActivityProfile | null = null;\n    private activeIndex = 0;\n    private screenElements: DataScreenComponent[] = [];\n    private settings: UserSettings | null = null;\n    private shadow: ShadowRoot;\n\n    // Touch handling\n    private touchStartX = 0;\n    private touchStartY = 0;\n    private touchDeltaX = 0;\n    private isSwiping = false;\n    private swipeThreshold = 50;\n\n    constructor() {\n        super();\n        this.shadow = this.attachShadow({ mode: 'open' });\n    }\n\n    // ========================================================================\n    // Lifecycle\n    // ========================================================================\n\n    connectedCallback(): void {\n        this.render();\n        this.setupEventListeners();\n    }\n\n    disconnectedCallback(): void {\n        this.removeEventListeners();\n    }\n\n    // ========================================================================\n    // Public API\n    // ========================================================================\n\n    /**\n     * Set the activity profile with screens to display\n     */\n    public setProfile(profile: ActivityProfile): void {\n        this.profile = profile;\n        this.activeIndex = profile.activeScreenIndex;\n        this.render();\n    }\n\n    /**\n     * Get the current profile\n     */\n    public getProfile(): ActivityProfile | null {\n        return this.profile;\n    }\n\n    /**\n     * Set user settings for all screens\n     */\n    public setSettings(settings: UserSettings): void {\n        this.settings = settings;\n        for (const screenEl of this.screenElements) {\n            screenEl.setSettings(settings);\n        }\n    }\n\n    /**\n     * Navigate to the next screen\n     */\n    public nextScreen(): void {\n        if (!this.profile) return;\n        const newIndex = (this.activeIndex + 1) % this.profile.screens.length;\n        this.goToScreen(newIndex, 'next');\n    }\n\n    /**\n     * Navigate to the previous screen\n     */\n    public prevScreen(): void {\n        if (!this.profile) return;\n        const newIndex = this.activeIndex === 0 ? this.profile.screens.length - 1 : this.activeIndex - 1;\n        this.goToScreen(newIndex, 'prev');\n    }\n\n    /**\n     * Navigate to a specific screen by index\n     */\n    public goToScreen(index: number, direction: 'next' | 'prev' | 'direct' = 'direct'): void {\n        if (!this.profile) return;\n\n        const clampedIndex = Math.max(0, Math.min(index, this.profile.screens.length - 1));\n        if (clampedIndex === this.activeIndex) return;\n\n        this.activeIndex = clampedIndex;\n        this.updateActiveScreen();\n        this.dispatchScreenChange(direction);\n    }\n\n    /**\n     * Get the currently active screen index\n     */\n    public getActiveIndex(): number {\n        return this.activeIndex;\n    }\n\n    /**\n     * Get the currently active screen\n     */\n    public getActiveScreen(): DataScreen | null {\n        return this.profile?.screens[this.activeIndex] ?? null;\n    }\n\n    /**\n     * Get the active screen component\n     */\n    public getActiveScreenElement(): DataScreenComponent | null {\n        return this.screenElements[this.activeIndex] ?? null;\n    }\n\n    /**\n     * Update a field value on the active screen\n     */\n    public updateFieldValue(fieldId: string, value: number | null): void {\n        const activeScreen = this.getActiveScreenElement();\n        if (activeScreen) {\n            activeScreen.updateFieldByFieldId(fieldId, value);\n        }\n    }\n\n    /**\n     * Update field values on all screens\n     */\n    public updateAllFieldValues(updates: Map<string, number | null>): void {\n        for (const screenEl of this.screenElements) {\n            for (const [fieldId, value] of updates) {\n                screenEl.updateFieldByFieldId(fieldId, value);\n            }\n        }\n    }\n\n    /**\n     * Set sensor connection status for fields that require the sensor\n     */\n    public setSensorConnected(sensorType: string, connected: boolean): void {\n        for (const screenEl of this.screenElements) {\n            screenEl.setSensorConnected(sensorType, connected);\n        }\n    }\n\n    public toString(): string {\n        return `[ScreenCarouselComponent activeIndex=${this.activeIndex} profile=${this.profile?.name || 'none'}]`;\n    }\n\n    // ========================================================================\n    // Rendering\n    // ========================================================================\n\n    private render(): void {\n        this.screenElements = [];\n        if (!this.profile || this.profile.screens.length === 0) {\n            this.shadow.innerHTML = `\n                <style>${this.getStyles()}</style>\n                <div class=\"carousel carousel--empty\">\n                    <p>No screens configured. (Cannot render Screen Carousel)</p>\n                </div>\n            `;\n            return;\n        }\n\n        this.shadow.innerHTML = `\n            <style>${this.getStyles()}</style>\n            <div class=\"carousel\">\n                <div class=\"carousel__track\" style=\"transform: translateX(-${this.activeIndex * 100}%)\">\n                    ${this.renderScreens()}\n                </div>\n                ${this.renderIndicator()}\n            </div>\n        `;\n\n        this.setupScreenElements();\n    }\n\n    private renderScreens(): string {\n        if (!this.profile) return '';\n\n        return this.profile.screens\n            .map(\n                (_screen, index) => `\n                <div class=\"carousel__slide ${index === this.activeIndex ? 'carousel__slide--active' : ''}\"\n                     data-index=\"${index}\">\n                    <bpt-data-screen data-screen-index=\"${index}\"></bpt-data-screen>\n                </div>\n            `\n            )\n            .join('');\n    }\n\n    private renderIndicator(): string {\n        if (!this.profile || this.profile.screens.length <= 1) return '';\n\n        const dots = this.profile.screens\n            .map(\n                (screen, index) => `\n                <button class=\"carousel__dot ${index === this.activeIndex ? 'carousel__dot--active' : ''}\"\n                        data-index=\"${index}\"\n                        aria-label=\"Go to ${screen.name} screen\"\n                        title=\"${screen.name}\">\n                    <span class=\"carousel__dot-icon\">${screen.icon}</span>\n                </button>\n            `\n            )\n            .join('');\n\n        return `\n            <div class=\"carousel__indicator\">\n                <button class=\"carousel__arrow carousel__arrow--prev\" \n                        aria-label=\"Previous screen\"\n                        title=\"Previous screen (←)\">\n                    ‹\n                </button>\n                <div class=\"carousel__dots\">\n                    ${dots}\n                </div>\n                <button class=\"carousel__arrow carousel__arrow--next\" \n                        aria-label=\"Next screen\"\n                        title=\"Next screen (→)\">\n                    ›\n                </button>\n            </div>\n        `;\n    }\n\n    private setupScreenElements(): void {\n        if (!this.profile) return;\n\n        const screenEls = this.shadow.querySelectorAll('bpt-data-screen');\n        screenEls.forEach((el, index) => {\n            const screenEl = el as DataScreenComponent;\n            const screen = this.profile!.screens[index];\n            screenEl.setScreen(screen);\n            if (this.settings) {\n                screenEl.setSettings(this.settings);\n            }\n            this.screenElements.push(screenEl);\n        });\n    }\n\n    private updateActiveScreen(): void {\n        // Update track position\n        const track = this.shadow.querySelector('.carousel__track') as HTMLElement;\n        if (track) {\n            track.style.transform = `translateX(-${this.activeIndex * 100}%)`;\n        }\n\n        // Update slide classes\n        const slides = this.shadow.querySelectorAll('.carousel__slide');\n        slides.forEach((slide, index) => {\n            slide.classList.toggle('carousel__slide--active', index === this.activeIndex);\n        });\n\n        // Update indicator\n        const dots = this.shadow.querySelectorAll('.carousel__dot');\n        dots.forEach((dot, index) => {\n            dot.classList.toggle('carousel__dot--active', index === this.activeIndex);\n        });\n    }\n\n    // ========================================================================\n    // Event Handling\n    // ========================================================================\n\n    private setupEventListeners(): void {\n        const container = this.shadow.querySelector('.carousel') as HTMLElement;\n        if (!container) return;\n\n        // Touch events on the container element\n        container.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: true });\n        container.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });\n        container.addEventListener('touchend', this.handleTouchEnd.bind(this), { passive: true });\n\n        // Indicator clicks\n        container.addEventListener('click', this.handleClick.bind(this));\n\n        // Keyboard navigation\n        this.addEventListener('keydown', this.handleKeydown.bind(this));\n    }\n\n    private removeEventListeners(): void {\n        // Event listeners are automatically removed when shadow DOM is cleared\n    }\n\n    private handleTouchStart(e: TouchEvent): void {\n        this.touchStartX = e.touches[0].clientX;\n        this.touchStartY = e.touches[0].clientY;\n        this.touchDeltaX = 0;\n        this.isSwiping = false;\n    }\n\n    private handleTouchMove(e: TouchEvent): void {\n        if (!this.profile || this.profile.screens.length <= 1) return;\n\n        const deltaX = e.touches[0].clientX - this.touchStartX;\n        const deltaY = e.touches[0].clientY - this.touchStartY;\n\n        // Determine if this is a horizontal swipe\n        if (!this.isSwiping && Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 10) {\n            this.isSwiping = true;\n        }\n\n        if (this.isSwiping) {\n            e.preventDefault();\n            this.touchDeltaX = deltaX;\n\n            // Apply visual feedback during swipe\n            const track = this.shadow.querySelector('.carousel__track') as HTMLElement;\n            if (track) {\n                const baseOffset = -this.activeIndex * 100;\n                const swipeOffset = (deltaX / this.offsetWidth) * 100;\n                track.style.transform = `translateX(calc(${baseOffset}% + ${swipeOffset}%))`;\n                track.style.transition = 'none';\n            }\n        }\n    }\n\n    private handleTouchEnd(_e: TouchEvent): void {\n        if (!this.isSwiping) return;\n\n        const track = this.shadow.querySelector('.carousel__track') as HTMLElement;\n        if (track) {\n            track.style.transition = '';\n        }\n\n        if (Math.abs(this.touchDeltaX) > this.swipeThreshold) {\n            if (this.touchDeltaX > 0) {\n                this.prevScreen();\n            } else {\n                this.nextScreen();\n            }\n        } else {\n            // Snap back to current screen\n            this.updateActiveScreen();\n        }\n\n        this.isSwiping = false;\n        this.touchDeltaX = 0;\n    }\n\n    private handleClick(e: Event): void {\n        const target = e.target as HTMLElement;\n\n        // Handle arrow button clicks\n        const prevArrow = target.closest('.carousel__arrow--prev');\n        if (prevArrow) {\n            this.prevScreen();\n            return;\n        }\n\n        const nextArrow = target.closest('.carousel__arrow--next');\n        if (nextArrow) {\n            this.nextScreen();\n            return;\n        }\n\n        // Handle dot clicks\n        const dot = target.closest('.carousel__dot') as HTMLElement;\n        if (dot) {\n            const index = parseInt(dot.dataset.index || '0', 10);\n            const direction = index > this.activeIndex ? 'next' : 'prev';\n            this.goToScreen(index, direction);\n        }\n    }\n\n    private handleKeydown(e: KeyboardEvent): void {\n        switch (e.key) {\n            case 'ArrowLeft':\n                e.preventDefault();\n                this.prevScreen();\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                this.nextScreen();\n                break;\n        }\n    }\n\n    private dispatchScreenChange(direction: 'next' | 'prev' | 'direct'): void {\n        const screen = this.getActiveScreen();\n        if (!screen) return;\n\n        const event = new CustomEvent<ScreenChangeEvent>('screen-change', {\n            detail: {\n                screenIndex: this.activeIndex,\n                screen,\n                direction,\n            },\n            bubbles: true,\n            composed: true,\n        });\n\n        this.dispatchEvent(event);\n    }\n\n    // ========================================================================\n    // Styles\n    // ========================================================================\n\n    private getStyles(): string {\n        return `\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n                overflow: hidden;\n            }\n\n            .carousel {\n                position: relative;\n                width: 100%;\n                height: 100%;\n                overflow: hidden;\n            }\n\n            .carousel--empty {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: var(--text-muted, #888);\n            }\n\n            .carousel__track {\n                display: flex;\n                height: calc(100% - 40px);\n                transition: transform 0.3s ease-out;\n                will-change: transform;\n            }\n\n            .carousel__slide {\n                flex: 0 0 100%;\n                width: 100%;\n                height: 100%;\n                overflow: hidden;\n            }\n\n            .carousel__slide > * {\n                width: 100%;\n                height: 100%;\n            }\n\n            /* Screen indicator */\n            .carousel__indicator {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                gap: 8px;\n                padding: 8px;\n                height: 32px;\n                background: var(--surface-color, #1a1a2e);\n            }\n\n            .carousel__dots {\n                display: flex;\n                gap: 8px;\n            }\n\n            .carousel__arrow {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                width: 28px;\n                height: 28px;\n                padding: 0;\n                border: none;\n                border-radius: 50%;\n                background: var(--arrow-bg, rgba(255, 255, 255, 0.1));\n                color: var(--arrow-color, rgba(255, 255, 255, 0.7));\n                cursor: pointer;\n                transition: all 0.2s ease;\n                font-size: 18px;\n                font-weight: bold;\n                line-height: 1;\n            }\n\n            .carousel__arrow:hover {\n                background: var(--arrow-hover-bg, rgba(255, 255, 255, 0.2));\n                color: var(--arrow-hover-color, #fff);\n            }\n\n            .carousel__arrow:active {\n                transform: scale(0.95);\n            }\n\n            .carousel__arrow:focus {\n                outline: 2px solid var(--focus-color, #4ecdc4);\n                outline-offset: 2px;\n            }\n\n            .carousel__arrow:focus:not(:focus-visible) {\n                outline: none;\n            }\n\n            .carousel__dot {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                width: 32px;\n                height: 24px;\n                padding: 0;\n                border: none;\n                border-radius: 12px;\n                background: var(--dot-bg, rgba(255, 255, 255, 0.2));\n                color: var(--dot-color, rgba(255, 255, 255, 0.6));\n                cursor: pointer;\n                transition: all 0.2s ease;\n                font-size: 12px;\n            }\n\n            .carousel__dot:hover {\n                background: var(--dot-hover-bg, rgba(255, 255, 255, 0.3));\n            }\n\n            .carousel__dot--active {\n                background: var(--primary-color, #4ecdc4);\n                color: var(--primary-text, #000);\n                width: 48px;\n            }\n\n            .carousel__dot-icon {\n                font-size: 14px;\n            }\n\n            /* Hide indicator for single screen */\n            .carousel__indicator:has(.carousel__dot:only-child) {\n                display: none;\n            }\n\n            /* Animation classes */\n            .carousel__slide--entering {\n                animation: slideIn 0.3s ease-out;\n            }\n\n            .carousel__slide--leaving {\n                animation: slideOut 0.3s ease-out;\n            }\n\n            @keyframes slideIn {\n                from { opacity: 0; transform: scale(0.95); }\n                to { opacity: 1; transform: scale(1); }\n            }\n\n            @keyframes slideOut {\n                from { opacity: 1; transform: scale(1); }\n                to { opacity: 0; transform: scale(0.95); }\n            }\n\n            /* Touch feedback */\n            .carousel__track.is-dragging {\n                cursor: grabbing;\n            }\n\n            /* Accessibility */\n            .carousel__dot:focus {\n                outline: 2px solid var(--focus-color, #4ecdc4);\n                outline-offset: 2px;\n            }\n\n            .carousel__dot:focus:not(:focus-visible) {\n                outline: none;\n            }\n        `;\n    }\n}\n\n// ============================================================================\n// Register Custom Element\n// ============================================================================\n\nif (!customElements.get('bpt-screen-carousel')) {\n    customElements.define('bpt-screen-carousel', ScreenCarouselComponent);\n}\n\nexport default ScreenCarouselComponent;\n"],"names":["ScreenCarouselComponent","profile","settings","screenEl","newIndex","index","direction","clampedIndex","fieldId","value","activeScreen","updates","sensorType","connected","_screen","screen","el","track","slide","dot","container","deltaX","deltaY","baseOffset","swipeOffset","_e","target","event"],"mappings":"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"}