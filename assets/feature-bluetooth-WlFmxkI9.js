const je="modulepreload",Be=function(n){return"/"+n},ue={},Z=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(o=>({status:"fulfilled",value:o}),o=>({status:"rejected",reason:o}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=d(t.map(f=>{if(f=Be(f),f in ue)return;ue[f]=!0;const g=f.endsWith(".css"),o=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${o}`))return;const i=document.createElement("link");if(i.rel=g?"stylesheet":je,g||(i.as="script"),i.crossOrigin="",i.href=f,l&&i.setAttribute("nonce",l),document.head.appendChild(i),g)return new Promise((u,w)=>{i.addEventListener("load",u),i.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},We="BikeTrackerDB";const $="activeWorkout",x="completedWorkouts",j="rawDebugData";let Y=null;async function N(){return Y||new Promise((n,e)=>{const t=indexedDB.open(We,4);t.onerror=()=>{console.error("Failed to open IndexedDB:",t.error),e(t.error)},t.onsuccess=()=>{Y=t.result,n(Y)},t.onupgradeneeded=a=>{const s=a.target.result;if(s.objectStoreNames.contains($)||s.createObjectStore($,{keyPath:"id"}),s.objectStoreNames.contains(x)||s.createObjectStore(x,{keyPath:"id"}).createIndex("startTime","startTime",{unique:!1}),!s.objectStoreNames.contains(j)){const r=s.createObjectStore(j,{keyPath:"id",autoIncrement:!0});r.createIndex("timestamp","timestamp",{unique:!1}),r.createIndex("sensor","sensor",{unique:!1})}}})}async function Le(n,e){try{const t=await N(),a={timestamp:Date.now(),sensor:n,data:e};return new Promise((s,r)=>{const d=t.transaction([j],"readwrite").objectStore(j).add(a);d.onsuccess=()=>s(),d.onerror=()=>r(d.error)})}catch(t){console.warn("Could not save debug log:",t)}}async function oe(){try{const n=await N();return new Promise((e,t)=>{const c=n.transaction([j],"readonly").objectStore(j).index("timestamp").getAll();c.onsuccess=()=>e(c.result||[]),c.onerror=()=>t(c.error)})}catch(n){return console.warn("Could not load debug logs:",n),[]}}async function Re(){try{const n=await N();return new Promise((e,t)=>{const r=n.transaction([j],"readwrite").objectStore(j).clear();r.onsuccess=()=>e(),r.onerror=()=>t(r.error)})}catch(n){console.warn("Could not clear debug logs:",n)}}async function ce(n,e){try{const t=await N(),a={id:"current",startTime:e??Date.now(),lastUpdated:Date.now(),heartrate:n.heartrate,power:n.power,cadence:n.cadence,speed:n.speed,distance:n.distance,altitude:n.altitude,gps:n.gps,treadmill:n.treadmill||[],laps:n.laps||[]};return new Promise((s,r)=>{const d=t.transaction([$],"readwrite").objectStore($).put(a);d.onsuccess=()=>s(),d.onerror=()=>r(d.error)})}catch(t){console.warn("Could not save active workout:",t)}}async function Pe(){try{const n=await N();return new Promise((e,t)=>{const r=n.transaction([$],"readwrite").objectStore($).delete("current");r.onsuccess=()=>e(),r.onerror=()=>t(r.error)})}catch(n){console.warn("Could not clear active workout:",n)}}async function ie(){try{const n=await N();return new Promise((e,t)=>{const r=n.transaction([$],"readonly").objectStore($).get("current");r.onsuccess=()=>{if(r.result){const c=r.result;c.treadmill||(c.treadmill=[]),c.laps||(c.laps=[]),e(c)}else e(null)},r.onerror=()=>t(r.error)})}catch(n){return console.warn("Could not load active workout:",n),null}}async function De(n,e,t){const a=`workout_${e}`;try{const s=await N(),r={id:a,startTime:e,lastUpdated:t,isCompleted:!0,measurements:{...n},synced:!1};return new Promise((c,l)=>{const g=s.transaction([x],"readwrite").objectStore(x).put(r);g.onsuccess=()=>c(a),g.onerror=()=>l(g.error)})}catch(s){throw console.error("Failed to save completed workout:",s),s}}async function _e(){try{const n=await N();return new Promise((e,t)=>{const c=n.transaction([x],"readonly").objectStore(x).index("startTime").getAll();c.onsuccess=()=>{e((c.result||[]).reverse())},c.onerror=()=>t(c.error)})}catch(n){return console.warn("Could not load workout history:",n),[]}}let B=null,k=null;const He=(n,e,t)=>{k={measurements:n,startTime:e},B||(B=setTimeout(async()=>{k&&(await ce(k.measurements,k.startTime),k=null),B=null},2e3))},Te=async()=>{B&&(clearTimeout(B),B=null),k&&(await ce(k.measurements,k.startTime),k=null)},Ve=()=>typeof window<"u"&&"indexedDB"in window,Fe=async()=>{await Te();const n=await ie();return n?(await De({heartrate:n.heartrate,power:n.power,cadence:n.cadence,speed:n.speed,distance:n.distance,altitude:n.altitude,gps:n.gps,treadmill:n.treadmill,laps:n.laps},n.startTime,n.lastUpdated),await Pe(),`workout_${n.startTime}`):null},Ge=async()=>!!await ie(),Ke=_e,Ye=async n=>{const e=await N();return new Promise((t,a)=>{const r=e.transaction(x,"readwrite").objectStore(x),c=r.get(n);c.onsuccess=()=>{const l=c.result;l?(l.synced=!0,l.syncedTime=Date.now(),r.put(l),t()):a(new Error("Workout not found"))},c.onerror=()=>a(c.error)})},Et=Object.freeze(Object.defineProperty({__proto__:null,archiveWorkout:Fe,clearActiveWorkout:Pe,clearDebugLogs:Re,flushPendingSave:Te,getCompletedWorkouts:Ke,getDebugLogs:oe,getWorkoutHistory:_e,hasRecoverableWorkout:Ge,isIndexedDBSupported:Ve,loadActiveWorkout:ie,markWorkoutSynced:Ye,openDatabase:N,saveActiveWorkout:ce,saveCompletedWorkout:De,saveDebugLog:Le,throttledSave:He},Symbol.toStringTag,{value:"Module"}));var W;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(W||(W={}));class ae extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const ze=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Je=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},a=t.Plugins=t.Plugins||{},s=()=>e!==null?e.name:ze(n),r=()=>s()!=="web",c=o=>{const i=f.get(o);return!!(i?.platforms.has(s())||l(o))},l=o=>{var i;return(i=t.PluginHeaders)===null||i===void 0?void 0:i.find(u=>u.name===o)},d=o=>n.console.error(o),f=new Map,g=(o,i={})=>{const u=f.get(o);if(u)return console.warn(`Capacitor plugin "${o}" already registered. Cannot register plugins twice.`),u.proxy;const w=s(),v=l(o);let m;const S=async()=>(!m&&w in i?m=typeof i[w]=="function"?m=await i[w]():m=i[w]:e!==null&&!m&&"web"in i&&(m=typeof i.web=="function"?m=await i.web():m=i.web),m),q=(b,C)=>{var T,U;if(v){const M=v?.methods.find(D=>C===D.name);if(M)return M.rtype==="promise"?D=>t.nativePromise(o,C.toString(),D):(D,G)=>t.nativeCallback(o,C.toString(),D,G);if(b)return(T=b[C])===null||T===void 0?void 0:T.bind(b)}else{if(b)return(U=b[C])===null||U===void 0?void 0:U.bind(b);throw new ae(`"${o}" plugin is not implemented on ${w}`,W.Unimplemented)}},R=b=>{let C;const T=(...U)=>{const M=S().then(D=>{const G=q(D,b);if(G){const K=G(...U);return C=K?.remove,K}else throw new ae(`"${o}.${b}()" is not implemented on ${w}`,W.Unimplemented)});return b==="addListener"&&(M.remove=async()=>C()),M};return T.toString=()=>`${b.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:b,writable:!1,configurable:!1}),T},I=R("addListener"),P=R("removeListener"),V=(b,C)=>{const T=I({eventName:b},C),U=async()=>{const D=await T;P({eventName:b,callbackId:D},C)},M=new Promise(D=>T.then(()=>D({remove:U})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await U()},M},A=new Proxy({},{get(b,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?V:I;case"removeListener":return P;default:return R(C)}}});return a[o]=A,f.set(o,{name:o,proxy:A,platforms:new Set([...Object.keys(i),...v?[w]:[]])}),A};return t.convertFileSrc||(t.convertFileSrc=o=>o),t.getPlatform=s,t.handleError=d,t.isNativePlatform=r,t.isPluginAvailable=c,t.registerPlugin=g,t.Exception=ae,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},Qe=n=>n.Capacitor=Je(n),L=Qe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ee=L.registerPlugin;class le{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),a&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,a){const s=this.listeners[e];if(!s){if(a){let r=this.retainedEventArguments[e];r||(r=[]),r.push(t),this.retainedEventArguments[e]=r}return}s.forEach(r=>r(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:a=>{this.notifyListeners(t,a)}}}unimplemented(e="not implemented"){return new L.Exception(e,W.Unimplemented)}unavailable(e="not available"){return new L.Exception(e,W.Unavailable)}async removeListener(e,t){const a=this.listeners[e];if(!a)return;const s=a.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(a=>{this.notifyListeners(e,a)}))}}const de=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fe=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Xe extends le{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[s,r]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=fe(s).trim(),r=fe(r).trim(),t[s]=r}),t}async setCookie(e){try{const t=de(e.key),a=de(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${s}; path=${r}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ee("CapacitorCookies",{web:()=>new Xe});const Ze=async n=>new Promise((e,t)=>{const a=new FileReader;a.onload=()=>{const s=a.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},a.onerror=s=>t(s),a.readAsDataURL(n)}),et=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(s=>s.toLocaleLowerCase()).reduce((s,r,c)=>(s[r]=n[e[c]],s),{})},tt=(n,e=!0)=>n?Object.entries(n).reduce((a,s)=>{const[r,c]=s;let l,d;return Array.isArray(c)?(d="",c.forEach(f=>{l=e?encodeURIComponent(f):f,d+=`${r}=${l}&`}),d.slice(0,-1)):(l=e?encodeURIComponent(c):c,d=`${r}=${l}`),`${a}&${d}`},"").substr(1):null,nt=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),s=et(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(s.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[c,l]of Object.entries(n.data||{}))r.set(c,l);t.body=r.toString()}else if(s.includes("multipart/form-data")||n.data instanceof FormData){const r=new FormData;if(n.data instanceof FormData)n.data.forEach((l,d)=>{r.append(d,l)});else for(const l of Object.keys(n.data))r.append(l,n.data[l]);t.body=r;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(s.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class at extends le{async request(e){const t=nt(e,e.webFetchExtra),a=tt(e.params,e.shouldEncodeUrlParams),s=a?`${e.url}?${a}`:e.url,r=await fetch(s,t),c=r.headers.get("content-type")||"";let{responseType:l="text"}=r.ok?e:{};c.includes("application/json")&&(l="json");let d,f;switch(l){case"arraybuffer":case"blob":f=await r.blob(),d=await Ze(f);break;case"json":d=await r.json();break;default:d=await r.text()}const g={};return r.headers.forEach((o,i)=>{g[i]=o}),{data:d,headers:g,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ee("CapacitorHttp",{web:()=>new at});var we;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(we||(we={}));var ge;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(ge||(ge={}));class st extends le{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}ee("SystemBars",{web:()=>new st});const Ne="bpt-settings",Oe={enabled:!1,source:"speed",threshold:3,delay:3},Ae={promptForNotes:!0,promptForExertion:!0},ke={duration:0,enableBeep:!0,enableVoice:!1},qe={enabled:!1,source:"distance",distanceKm:1,timeMinutes:5},Ie={power:!0,heartrate:!0,cadence:!1,speed:!0,distance:!0,time:!0},Ue={timeIntervalMinutes:0,distanceIntervalKm:0,metrics:{...Ie},speechRate:1},Me={enabled:!1,apiKey:"",athleteId:"i",autoUpload:!1},he={power:!0,cadence:!0,heartrate:!0,speed:!0,distance:!0,altitude:!0,treadmillSpeed:!1,power3s:!1,highContrast:!1,colorblindPatterns:!1,voiceEnabled:!1,voiceLaps:!0,voiceZones:!0,exportTcx:!0,exportCsv:!0,exportJson:!1,exportFit:!1,autoPause:{...Oe},workoutMetadata:{...Ae},countdown:{...ke},autoLap:{...qe},enhancedVoice:{...Ue},intervals:{...Me},weightKg:75,showCalories:!1,debugMode:!1};function rt(){const n=localStorage.getItem(Ne);if(n){const e=JSON.parse(n);return{...he,...e,autoPause:{...Oe,...e.autoPause||{}},workoutMetadata:{...Ae,...e.workoutMetadata||{}},countdown:{...ke,...e.countdown||{}},autoLap:{...qe,...e.autoLap||{}},enhancedVoice:{...Ue,...e.enhancedVoice||{},metrics:{...Ie,...e.enhancedVoice?.metrics||{}}},intervals:{...Me,...e.intervals||{}},weightKg:e.weightKg??75,showCalories:e.showCalories??!1}}return{...he}}function Ct(n){localStorage.setItem(Ne,JSON.stringify(n)),window.dispatchEvent(new CustomEvent("settings-changed"))}var ve;(function(n){n[n.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",n[n.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",n[n.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(ve||(ve={}));var me;(function(n){n[n.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",n[n.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",n[n.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(me||(me={}));function ot(n){return new DataView(Uint8Array.from(n).buffer)}function ct(n){return Array.from(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}function it(n){return`0000${n.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function $e(n){const e=[];let t,a,s=1,r=0;for(t=0;t<n.length;t++)a=n.charCodeAt(t),(a>47&&a<58||a>64&&a<71||a>96&&a<103)&&(r=r<<4^(a>64?a+9:a)&15,(s^=1)&&e.push(r&255));return ot(e)}function F(n){return ct(n).map(e=>{let t=e.toString(16);return t.length==1&&(t="0"+t),t}).join("")}function St(n){if(typeof n=="string")return n;if(typeof n=="number")return it(n);throw new Error("Invalid UUID")}function Lt(n){const e={};if(n)return n.forEach((t,a)=>{e[a.toString()]=t}),e}function ye(n){if(n!==void 0){if(typeof n=="string"){const e=$e(n);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return n instanceof DataView?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}}function z(n){if(n!==void 0)return n instanceof DataView?F(n):F(new DataView(n.buffer,n.byteOffset,n.byteLength))}const h=ee("BluetoothLe",{web:()=>Z(()=>import("./web-j-5GqIx4.js"),[]).then(n=>new n.BluetoothLeWeb)}),lt=()=>{let n=Promise.resolve();return e=>new Promise((t,a)=>{n=n.then(()=>e()).then(t).catch(a)})};function se(n){return n?lt():e=>e()}function p(n){if(typeof n!="string")throw new Error(`Invalid UUID type ${typeof n}. Expected string.`);if(n=n.toLowerCase(),!(n.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${n}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return n}class ut{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=se(!0)}enableQueue(){this.queue=se(!0)}disableQueue(){this.queue=se(!1)}async initialize(e){await this.queue(async()=>{await h.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await h.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await h.requestEnable()})}async enable(){await this.queue(async()=>{await h.enable()})}async disable(){await this.queue(async()=>{await h.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var t;const a="onEnabledChanged";await((t=this.eventListeners.get(a))===null||t===void 0?void 0:t.remove());const s=await h.addListener(a,r=>{e(r.value)});this.eventListeners.set(a,s),await h.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const t="onEnabledChanged";await((e=this.eventListeners.get(t))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(t),await h.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await h.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await h.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await h.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await h.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await h.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await h.requestDevice(e))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var a;await((a=this.scanListener)===null||a===void 0?void 0:a.remove()),this.scanListener=await h.addListener("onScanResult",s=>{const r=Object.assign(Object.assign({},s),{manufacturerData:this.convertObject(s.manufacturerData),serviceData:this.convertObject(s.serviceData),rawAdvertisement:s.rawAdvertisement?this.convertValue(s.rawAdvertisement):void 0});t(r)}),await h.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await h.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await h.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(p),this.queue(async()=>(await h.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await h.getBondedDevices()).devices)}async connect(e,t,a){await this.queue(async()=>{var s;if(t){const r=`disconnected|${e}`;await((s=this.eventListeners.get(r))===null||s===void 0?void 0:s.remove());const c=await h.addListener(r,()=>{t(e)});this.eventListeners.set(r,c)}await h.connect(Object.assign({deviceId:e},a))})}async createBond(e,t){await this.queue(async()=>{await h.createBond(Object.assign({deviceId:e},t))})}async isBonded(e){return await this.queue(async()=>(await h.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await h.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await h.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await h.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await h.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,t){await this.queue(async()=>{await h.requestConnectionPriority({deviceId:e,connectionPriority:t})})}async readRssi(e){return await this.queue(async()=>{const a=await h.readRssi({deviceId:e});return parseFloat(a.value)})}async read(e,t,a,s){return t=p(t),a=p(a),await this.queue(async()=>{const c=await h.read(Object.assign({deviceId:e,service:t,characteristic:a},s));return this.convertValue(c.value)})}async write(e,t,a,s,r){return t=p(t),a=p(a),this.queue(async()=>{if(!s?.buffer)throw new Error("Invalid data.");let c=s;L.getPlatform()!=="web"&&(c=F(s)),await h.write(Object.assign({deviceId:e,service:t,characteristic:a,value:c},r))})}async writeWithoutResponse(e,t,a,s,r){t=p(t),a=p(a),await this.queue(async()=>{if(!s?.buffer)throw new Error("Invalid data.");let c=s;L.getPlatform()!=="web"&&(c=F(s)),await h.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:a,value:c},r))})}async readDescriptor(e,t,a,s,r){return t=p(t),a=p(a),s=p(s),await this.queue(async()=>{const l=await h.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:a,descriptor:s},r));return this.convertValue(l.value)})}async writeDescriptor(e,t,a,s,r,c){return t=p(t),a=p(a),s=p(s),this.queue(async()=>{if(!r?.buffer)throw new Error("Invalid data.");let l=r;L.getPlatform()!=="web"&&(l=F(r)),await h.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:a,descriptor:s,value:l},c))})}async startNotifications(e,t,a,s,r){t=p(t),a=p(a),await this.queue(async()=>{var c;const l=`notification|${e}|${t}|${a}`;await((c=this.eventListeners.get(l))===null||c===void 0?void 0:c.remove());const d=await h.addListener(l,f=>{s(this.convertValue(f?.value))});this.eventListeners.set(l,d),await h.startNotifications(Object.assign({deviceId:e,service:t,characteristic:a},r))})}async stopNotifications(e,t,a){t=p(t),a=p(a),await this.queue(async()=>{var s;const r=`notification|${e}|${t}|${a}`;await((s=this.eventListeners.get(r))===null||s===void 0?void 0:s.remove()),this.eventListeners.delete(r),await h.stopNotifications({deviceId:e,service:t,characteristic:a})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(p)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(p)),e.serviceData&&L.getPlatform()!=="web"&&(e.serviceData=e.serviceData.map(t=>Object.assign(Object.assign({},t),{serviceUuid:p(t.serviceUuid),dataPrefix:z(t.dataPrefix),mask:z(t.mask)}))),e.manufacturerData&&(L.getPlatform()!=="web"?e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:z(t.dataPrefix),mask:z(t.mask)})):e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:ye(t.dataPrefix),mask:ye(t.mask)}))),e}convertValue(e){return typeof e=="string"?$e(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const t={};for(const a of Object.keys(e))t[a]=this.convertValue(e[a]);return t}}const y=new ut,xe=n=>{const e=n.getUint16(0,!0);let t=2;const a={},s=(e&2)!==0,r=(e&4)!==0,c=(e&8)!==0;if(n.byteLength>=t+2){const l=n.getUint16(t,!0);a.speed=l/100,t+=2}if(s&&n.byteLength>=t+2){const l=n.getUint16(t,!0);a.averageSpeed=l/100,t+=2}if(r&&n.byteLength>=t+3){const l=n.getUint8(t),d=n.getUint8(t+1),f=n.getUint8(t+2),g=l+(d<<8)+(f<<16);a.totalDistance=g,t+=3}if(c&&n.byteLength>=t+4){const l=n.getInt16(t,!0);a.incline=l/10,t+=2;const d=n.getInt16(t,!0);a.rampAngle=d/10,t+=2}return a},O={listeners:new Set,isEnabled(){return!!rt().debugMode},async log(n,e){const t=this.bufferToHex(e.buffer);if(this.listeners.forEach(a=>a(n,t)),!!this.isEnabled())try{await Le(n,t)}catch(a){console.warn("Failed to log debug data",a)}},addListener(n){this.listeners.add(n)},removeListener(n){this.listeners.delete(n)},bufferToHex(n){return[...new Uint8Array(n)].map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase()},async exportLogs(){const n=await oe(),e=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`bpt-debug-logs-${Date.now()}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},async clearLogs(){await Re()},async getLogCount(){return(await oe()).length}},re="00001818-0000-1000-8000-00805f9b34fb",pe="00002a63-0000-1000-8000-00805f9b34fb",J="0000180d-0000-1000-8000-00805f9b34fb",be="00002a37-0000-1000-8000-00805f9b34fb",Q="00001816-0000-1000-8000-00805f9b34fb",Ee="00002a5b-0000-1000-8000-00805f9b34fb",X="00001826-0000-1000-8000-00805f9b34fb",Ce="00002acd-0000-1000-8000-00805f9b34fb",_=5,te=1e3;let Se=!1;const ne=async()=>{if(!Se)try{await y.initialize(),Se=!0}catch(n){throw console.error("Failed to initialize BleClient:",n),n}},dt=async()=>{const n=[],e=[];let t=null,a=!1,s=0;await ne();let r;try{r=await y.requestDevice({services:[re],optionalServices:[]})}catch(o){throw console.error("Error requesting Power device:",o),o}t=r.deviceId;const c=r.name||"Power Sensor",l=o=>{e.forEach(i=>i(o))},d=async()=>{t&&(await y.connect(t,g),l("connected"),await y.startNotifications(t,re,pe,o=>{O.log(c,o);const i=o.getInt16(2,!0),u={timestamp:Date.now(),value:i};n.forEach(w=>w(u))}),s=0)},f=async()=>{if(a||s>=_){s>=_&&(console.error("Native Power sensor: Max reconnection attempts reached"),l("failed"));return}s++;const o=te*Math.pow(2,s-1);console.log(`Native Power sensor: Reconnection attempt ${s}/${_} in ${o}ms`),l("reconnecting"),await new Promise(i=>setTimeout(i,o));try{await d(),console.log("Native Power sensor: Reconnected successfully")}catch(i){console.error("Native Power sensor: Reconnection failed:",i),f()}},g=o=>{o===t&&!a&&(console.log("Native Power sensor: Disconnected"),l("disconnected"),f())};return await d(),{disconnect:async()=>{if(a=!0,t)try{await y.stopNotifications(t,re,pe),await y.disconnect(t)}catch(o){console.error("Error disconnecting native bluetooth:",o)}},addListener:o=>{n.push(o)},deviceName:c,onStatusChange:o=>{e.push(o)}}},ft=async()=>{const n=[],e=[];let t=null,a=!1,s=0;await ne();let r;try{r=await y.requestDevice({services:[J],optionalServices:[J]})}catch(o){throw console.error("Error requesting Heart Rate device:",o),o}t=r.deviceId;const c=r.name||"Heart Rate Monitor",l=o=>{e.forEach(i=>i(o))},d=async()=>{t&&(await y.connect(t,g),l("connected"),await y.startNotifications(t,J,be,o=>{O.log(c,o);const i=o.getUint8(0);let u;i&1?u=o.getUint16(1,!0):u=o.getUint8(1);const w={timestamp:Date.now(),value:u};n.forEach(v=>v(w))}),s=0)},f=async()=>{if(a||s>=_){s>=_&&(console.error("Native Heart Rate sensor: Max reconnection attempts reached"),l("failed"));return}s++;const o=te*Math.pow(2,s-1);console.log(`Native Heart Rate sensor: Reconnection attempt ${s}/${_} in ${o}ms`),l("reconnecting"),await new Promise(i=>setTimeout(i,o));try{await d(),console.log("Native Heart Rate sensor: Reconnected successfully")}catch(i){console.error("Native Heart Rate sensor: Reconnection failed:",i),f()}},g=o=>{o===t&&!a&&(console.log("Native Heart Rate sensor: Disconnected"),l("disconnected"),f())};return await d(),{disconnect:async()=>{if(a=!0,t)try{await y.stopNotifications(t,J,be),await y.disconnect(t)}catch(o){console.error("Error disconnecting native bluetooth:",o)}},addListener:o=>{n.push(o)},deviceName:c,onStatusChange:o=>{e.push(o)}}},wt=async()=>{const n=[],e=[];let t=null,a=null,s=null,r=!1,c=0;await ne();let l;try{l=await y.requestDevice({services:[Q],optionalServices:[Q]})}catch(u){throw console.error("Error requesting Cadence device:",u),u}t=l.deviceId;const d=l.name||"Cadence Sensor",f=u=>{e.forEach(w=>w(u))},g=async()=>{t&&(await y.connect(t,i),f("connected"),await y.startNotifications(t,Q,Ee,u=>{O.log(d,u);const w=u.getUint8(0);if(w&2){let v=1;w&1&&(v=7);const m=u.getUint16(v,!0),S=u.getUint16(v+2,!0);if(a!==null&&s!==null){let q=m-a,R=S-s;if(q<0&&(q+=65536),R<0&&(R+=65536),R>0){const I=R/1024,P=Math.round(q/I*60);if(P>=0&&P<300){const V={timestamp:Date.now(),value:P};n.forEach(A=>A(V))}}}a=m,s=S}}),c=0)},o=async()=>{if(r||c>=_){c>=_&&(console.error("Native Cadence sensor: Max reconnection attempts reached"),f("failed"));return}c++;const u=te*Math.pow(2,c-1);console.log(`Native Cadence sensor: Reconnection attempt ${c}/${_} in ${u}ms`),f("reconnecting"),await new Promise(w=>setTimeout(w,u));try{await g(),console.log("Native Cadence sensor: Reconnected successfully")}catch(w){console.error("Native Cadence sensor: Reconnection failed:",w),o()}},i=u=>{u===t&&!r&&(console.log("Native Cadence sensor: Disconnected"),f("disconnected"),o())};return await g(),{disconnect:async()=>{if(r=!0,t)try{await y.stopNotifications(t,Q,Ee),await y.disconnect(t)}catch(u){console.error("Error disconnecting native bluetooth:",u)}},addListener:u=>{n.push(u)},deviceName:d,onStatusChange:u=>{e.push(u)}}},gt=async()=>{const n=[],e=[];let t=null,a=!1,s=0;await ne();let r;try{r=await y.requestDevice({services:[X],optionalServices:[X]})}catch(o){throw console.error("Error requesting Treadmill device:",o),o}t=r.deviceId;const c=r.name||"Treadmill",l=o=>{e.forEach(i=>i(o))},d=o=>{o===t&&!a&&(console.log("Treadmill: Connection lost, attempting to reconnect..."),l("disconnected"),g())},f=async()=>{t&&(await y.connect(t,d),l("connected"),await y.startNotifications(t,X,Ce,o=>{O.log(c,o);try{const i=xe(o);if(i.speed!==void 0||i.incline!==void 0){const u={timestamp:Date.now(),speed:i.speed??null,incline:i.incline??null};n.forEach(w=>w(u))}}catch(i){console.error("Error parsing treadmill data",i)}}),s=0)},g=async()=>{if(a)return;if(s>=_){console.error("Treadmill: Max reconnection attempts reached"),l("failed");return}s++;const o=te*Math.pow(2,s-1);console.log(`Treadmill: Reconnection attempt ${s}/${_} in ${o}ms`),l("reconnecting"),await new Promise(i=>setTimeout(i,o));try{await f(),console.log("Treadmill: Reconnected successfully")}catch(i){console.error("Treadmill: Reconnection failed:",i),g()}};try{await f()}catch(o){if(t)try{await y.disconnect(t)}catch{}throw o}return{disconnect:async()=>{if(a=!0,t)try{await y.stopNotifications(t,X,Ce),await y.disconnect(t)}catch(o){console.error("Error disconnecting treadmill",o)}l("disconnected")},addListener:o=>{n.push(o)},deviceName:c,onStatusChange:o=>{e.push(o)}}},E=5,H=1e3,ht=async()=>{const n=[],e=[];let t=!1,a=0,s=null;const r=await navigator.bluetooth.requestDevice({filters:[{services:["cycling_power"]}],optionalServices:["cycling_power"]});if(!r.gatt)throw new Error("GATT server not available");const c=r.name||"Power Sensor",l=o=>{e.forEach(i=>i(o))},d=o=>{const u=o.target.value;if(!u)return;O.log(c,u);const w=u.getInt16(2,!0),v={timestamp:Date.now(),value:w};n.forEach(m=>m(v))},f=async()=>{if(!r.gatt)return;s=await(await(await r.gatt.connect()).getPrimaryService("cycling_power")).getCharacteristic("cycling_power_measurement"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",d),a=0,l("connected")},g=async()=>{if(t||a>=E){a>=E&&(console.error("Power sensor: Max reconnection attempts reached"),l("failed"));return}a++;const o=H*Math.pow(2,a-1);console.log(`Power sensor: Reconnection attempt ${a}/${E} in ${o}ms`),l("reconnecting"),await new Promise(i=>setTimeout(i,o));try{await f(),console.log("Power sensor: Reconnected successfully")}catch(i){console.error("Power sensor: Reconnection failed:",i),g()}};return r.addEventListener("gattserverdisconnected",()=>{t||(console.log("Power sensor: Connection lost, attempting to reconnect..."),l("disconnected"),g())}),await f(),{disconnect:()=>{t=!0,s&&(s.removeEventListener("characteristicvaluechanged",d),s.stopNotifications().catch(()=>{})),r.gatt?.disconnect()},addListener:o=>{n.push(o)},deviceName:c,onStatusChange:o=>{e.push(o)}}},vt=async()=>{const n=[],e=[];let t=!1,a=0,s=null;const r=await navigator.bluetooth.requestDevice({filters:[{services:["heart_rate"]}],optionalServices:["heart_rate"]});if(!r.gatt)throw new Error("GATT server not available");const c=r.name||"Heart Rate Monitor",l=o=>{e.forEach(i=>i(o))},d=o=>{const u=o.target.value;if(!u)return;O.log(c,u);const w=u.getUint8(0);let v;w&1?v=u.getUint16(1,!0):v=u.getUint8(1);const m={timestamp:Date.now(),value:v};n.forEach(S=>S(m))},f=async()=>{if(!r.gatt)return;s=await(await(await r.gatt.connect()).getPrimaryService("heart_rate")).getCharacteristic("heart_rate_measurement"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",d),a=0,l("connected")},g=async()=>{if(t||a>=E){a>=E&&(console.error("Heart rate sensor: Max reconnection attempts reached"),l("failed"));return}a++;const o=H*Math.pow(2,a-1);console.log(`Heart rate sensor: Reconnection attempt ${a}/${E} in ${o}ms`),l("reconnecting"),await new Promise(i=>setTimeout(i,o));try{await f(),console.log("Heart rate sensor: Reconnected successfully")}catch(i){console.error("Heart rate sensor: Reconnection failed:",i),g()}};return r.addEventListener("gattserverdisconnected",()=>{t||(console.log("Heart rate sensor: Connection lost, attempting to reconnect..."),l("disconnected"),g())}),await f(),{disconnect:()=>{t=!0,s&&(s.removeEventListener("characteristicvaluechanged",d),s.stopNotifications().catch(()=>{})),r.gatt?.disconnect()},addListener:o=>{n.push(o)},deviceName:c,onStatusChange:o=>{e.push(o)}}},mt=async()=>{const n=[],e=[];let t=!1,a=0,s=null,r=null,c=null;const l=await navigator.bluetooth.requestDevice({filters:[{services:["cycling_speed_and_cadence"]}],optionalServices:["cycling_speed_and_cadence"]});if(!l.gatt)throw new Error("GATT server not available");const d=l.name||"Cadence Sensor",f=u=>{e.forEach(w=>w(u))},g=u=>{const v=u.target.value;if(!v)return;O.log(d,v);const m=v.getUint8(0);if(m&2){let S=1;m&1&&(S=7);const q=v.getUint16(S,!0),R=v.getUint16(S+2,!0);if(r!==null&&c!==null){let I=q-r,P=R-c;if(I<0&&(I+=65536),P<0&&(P+=65536),P>0){const V=P/1024,A=Math.round(I/V*60);if(A>=0&&A<300){const b={timestamp:Date.now(),value:A};n.forEach(C=>C(b))}}}r=q,c=R}},o=async()=>{if(!l.gatt)return;s=await(await(await l.gatt.connect()).getPrimaryService("cycling_speed_and_cadence")).getCharacteristic("csc_measurement"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",g),a=0,f("connected")},i=async()=>{if(t||a>=E){a>=E&&(console.error("Cadence sensor: Max reconnection attempts reached"),f("failed"));return}a++;const u=H*Math.pow(2,a-1);console.log(`Cadence sensor: Reconnection attempt ${a}/${E} in ${u}ms`),f("reconnecting"),await new Promise(w=>setTimeout(w,u));try{await o(),console.log("Cadence sensor: Reconnected successfully")}catch(w){console.error("Cadence sensor: Reconnection failed:",w),i()}};return l.addEventListener("gattserverdisconnected",()=>{t||(console.log("Cadence sensor: Connection lost, attempting to reconnect..."),f("disconnected"),i())}),await o(),{disconnect:()=>{t=!0,s&&(s.removeEventListener("characteristicvaluechanged",g),s.stopNotifications().catch(()=>{})),l.gatt?.disconnect()},addListener:u=>{n.push(u)},deviceName:d,onStatusChange:u=>{e.push(u)}}},yt=async()=>{const n=[],e=[];let t=!1,a=0,s=null,r;const c=await navigator.bluetooth.requestDevice({filters:[{services:["fitness_machine"]}],optionalServices:["fitness_machine"]});if(!c.gatt)throw new Error("GATT server not available");const l=c.name||"Treadmill",d=i=>{e.forEach(u=>u(i))},f=i=>{const w=i.target.value;if(w){O.log(l,w);try{const v=xe(w);if(v.speed!==void 0||v.incline!==void 0){const m={timestamp:Date.now(),speed:v.speed??null,incline:v.incline??null};n.forEach(S=>S(m))}}catch(v){console.error("Error parsing treadmill data",v)}}},g=async()=>{if(!c.gatt)return;r=await c.gatt.connect(),s=await(await r.getPrimaryService("fitness_machine")).getCharacteristic("treadmill_data"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",f),a=0,d("connected")},o=async()=>{if(t||a>=E){a>=E&&(console.error("Treadmill: Max reconnection attempts reached"),d("failed"));return}a++;const i=H*Math.pow(2,a-1);console.log(`Treadmill: Reconnection attempt ${a}/${E} in ${i}ms`),d("reconnecting"),await new Promise(u=>setTimeout(u,i));try{await g(),console.log("Treadmill: Reconnected successfully")}catch(u){console.error("Treadmill: Reconnection failed:",u),o()}};c.addEventListener("gattserverdisconnected",()=>{t||(console.log("Treadmill: Connection lost, attempting to reconnect..."),d("disconnected"),o())});try{await g()}catch(i){throw r&&r.connected&&r.disconnect(),i}return{disconnect:()=>{if(t=!0,s)try{s.stopNotifications(),s.removeEventListener("characteristicvaluechanged",f)}catch{}c.gatt?.connected&&c.gatt.disconnect(),d("disconnected")},addListener:i=>{n.push(i)},deviceName:l,onStatusChange:i=>{e.push(i)}}},pt=async()=>{const n=[],e=[];let t=!1,a=0,s=null,r;const c=await navigator.bluetooth.requestDevice({filters:[{services:["fitness_machine"]}],optionalServices:["fitness_machine"]}),l=c.name||"Unknown Rower",d=i=>{e.forEach(u=>u(i))},f=i=>{const w=i.target.value;if(!w)return;O.log("rower",w);const v={timestamp:Date.now(),strokeRate:null,power:null};n.forEach(m=>m(v))},g=async()=>{if(!c.gatt)return;r=await c.gatt.connect(),s=await(await r.getPrimaryService("fitness_machine")).getCharacteristic("rower_data"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",f),a=0,d("connected")},o=async()=>{if(t||a>=E){a>=E&&(console.error("Rower: Max reconnection attempts reached"),d("failed"));return}a++;const i=H*Math.pow(2,a-1);console.log(`Rower: Reconnection attempt ${a}/${E} in ${i}ms`),d("reconnecting"),await new Promise(u=>setTimeout(u,i));try{await g(),console.log("Rower: Reconnected successfully")}catch(u){console.error("Rower: Reconnection failed:",u),o()}};c.addEventListener("gattserverdisconnected",()=>{t||(console.log("Rower: Connection lost, attempting to reconnect..."),d("disconnected"),o())});try{await g()}catch(i){throw r&&r.connected&&r.disconnect(),i}return{disconnect:()=>{if(t=!0,s)try{s.stopNotifications(),s.removeEventListener("characteristicvaluechanged",f)}catch{}c.gatt?.connected&&c.gatt.disconnect(),d("disconnected")},addListener:i=>{n.push(i)},deviceName:l,onStatusChange:i=>{e.push(i)}}},bt=async()=>{const n=[],e=[];let t=!1,a=0,s=null,r;const l=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"PM5"}],optionalServices:["ce060030-43e5-11e4-916c-0800200c9a66"]}),d=l.name||"Unknown concept2 Rower",f=u=>{e.forEach(w=>w(u))},g=u=>{const v=u.target.value;if(!v)return;O.log("concept2",v);const m={timestamp:Date.now(),strokeRate:null,power:null};n.forEach(S=>S(m))},o=async()=>{if(!l.gatt)return;r=await l.gatt.connect(),s=await(await r.getPrimaryService("fitness_machine")).getCharacteristic("rower_data"),await s.startNotifications(),s.addEventListener("characteristicvaluechanged",g),a=0,f("connected")},i=async()=>{if(t||a>=E){a>=E&&(console.error("Rower: Max reconnection attempts reached"),f("failed"));return}a++;const u=H*Math.pow(2,a-1);console.log(`Rower: Reconnection attempt ${a}/${E} in ${u}ms`),f("reconnecting"),await new Promise(w=>setTimeout(w,u));try{await o(),console.log("Rower: Reconnected successfully")}catch(w){console.error("Rower: Reconnection failed:",w),i()}};l.addEventListener("gattserverdisconnected",()=>{t||(console.log("Rower: Connection lost, attempting to reconnect..."),f("disconnected"),i())});try{await o()}catch(u){throw r&&r.connected&&r.disconnect(),u}return{disconnect:()=>{if(t=!0,s)try{s.stopNotifications(),s.removeEventListener("characteristicvaluechanged",g)}catch{}l.gatt?.connected&&l.gatt.disconnect(),f("disconnected")},addListener:u=>{n.push(u)},deviceName:d,onStatusChange:u=>{e.push(u)}}},Rt={connectPower:async()=>{if(typeof window<"u"&&window.useMockSensors){const{MockPowerSensor:n}=await Z(async()=>{const{MockPowerSensor:t}=await import("./mock-DGG0-SkM.js");return{MockPowerSensor:t}},[]),e=new n;return await e.connect(),window.mockSensor=e,e}return L.isNativePlatform()?dt():ht()},connectHeartRate:async()=>{if(typeof window<"u"&&window.useMockSensors){const{MockHeartrateSensor:n}=await Z(async()=>{const{MockHeartrateSensor:t}=await import("./mock-DGG0-SkM.js");return{MockHeartrateSensor:t}},[]),e=new n;return await e.connect(),window.mockSensor=e,e}return L.isNativePlatform()?ft():vt()},connectCadence:async()=>{if(typeof window<"u"&&window.useMockSensors){const{MockCadenceSensor:n}=await Z(async()=>{const{MockCadenceSensor:t}=await import("./mock-DGG0-SkM.js");return{MockCadenceSensor:t}},[]),e=new n;return await e.connect(),window.mockSensor=e,e}return L.isNativePlatform()?wt():mt()},connectTreadmill:async()=>L.isNativePlatform()?gt():yt(),connectRowing:async()=>{if(L.isNativePlatform())throw new Error("Native rowing connection not implemented");return pt()},connectConcept2:async()=>{if(L.isNativePlatform())throw new Error("Native rowing connection not implemented");return bt()}};export{Rt as B,L as C,le as W,Z as _,Fe as a,Ke as b,Pe as c,O as d,he as e,Te as f,rt as g,Ge as h,Ve as i,Me as j,Ue as k,ie as l,Ye as m,Ie as n,qe as o,ke as p,Ae as q,ee as r,Oe as s,He as t,Ct as u,Lt as v,St as w,$e as x,Et as y};
//# sourceMappingURL=feature-bluetooth-WlFmxkI9.js.map
