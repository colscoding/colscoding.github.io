{"version":3,"file":"HistoryView-BWxyjHM7.js","sources":["../../src/views/HistoryView.ts"],"sourcesContent":["import { View } from '../router/View.js';\nimport { initHistoryLogic, refreshHistoryView } from '../ui/workoutHistory.js';\n\nexport class HistoryView implements View {\n    public id = 'history';\n    private isInitialized = false;\n\n    public init(container: HTMLElement): void {\n        const template = document.getElementById('workoutHistoryTemplate') as HTMLTemplateElement;\n\n        if (template) {\n            const content = template.content.cloneNode(true);\n            container.appendChild(content);\n\n            // Initialize the logic now that elements are in the DOM\n            // We use setTimeout to ensure the DOM update is processed\n            setTimeout(() => {\n                initHistoryLogic();\n                this.isInitialized = true;\n            }, 0);\n        } else {\n            console.error('History template not found!');\n            container.innerHTML = '<p>Error loading history view</p>';\n        }\n    }\n\n    public onEnter(): void {\n        if (this.isInitialized) {\n            refreshHistoryView();\n        } else {\n            // Fallback if onEnter is called too fast (shouldn't happen with sync init)\n            // logic is initialized in init(), but data might need loading\n            setTimeout(() => refreshHistoryView(), 50);\n        }\n    }\n\n    public onLeave(): void {\n        // Cleanup if needed\n    }\n}\n"],"names":["HistoryView","container","template","content","initHistoryLogic","refreshHistoryView"],"mappings":"mMAGO,MAAMA,CAA4B,CAC9B,GAAK,UACJ,cAAgB,GAEjB,KAAKC,EAA8B,CACtC,MAAMC,EAAW,SAAS,eAAe,wBAAwB,EAEjE,GAAIA,EAAU,CACV,MAAMC,EAAUD,EAAS,QAAQ,UAAU,EAAI,EAC/CD,EAAU,YAAYE,CAAO,EAI7B,WAAW,IAAM,CACbC,EAAA,EACA,KAAK,cAAgB,EACzB,EAAG,CAAC,CACR,MACI,QAAQ,MAAM,6BAA6B,EAC3CH,EAAU,UAAY,mCAE9B,CAEO,SAAgB,CACf,KAAK,cACLI,EAAA,EAIA,WAAW,IAAMA,EAAA,EAAsB,EAAE,CAEjD,CAEO,SAAgB,CAEvB,CACJ"}