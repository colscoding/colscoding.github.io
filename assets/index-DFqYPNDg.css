:root{--color-primary-50: #e3f2fd;--color-primary-100: #bbdefb;--color-primary-200: #90caf9;--color-primary-300: #64b5f6;--color-primary-400: #42a5f5;--color-primary-500: #2196f3;--color-primary-600: #1e88e5;--color-primary-700: #1976d2;--color-primary-800: #1565c0;--color-primary-900: #0d47a1;--color-gray-50: #fafafa;--color-gray-100: #f5f5f5;--color-gray-200: #eeeeee;--color-gray-300: #e0e0e0;--color-gray-400: #bdbdbd;--color-gray-500: #9e9e9e;--color-gray-600: #757575;--color-gray-700: #616161;--color-gray-800: #424242;--color-gray-900: #212121;--color-success-light: #e8f5e9;--color-success-main: #4caf50;--color-success-dark: #2e7d32;--color-warning-light: #fff3e0;--color-warning-main: #ff9800;--color-warning-dark: #e65100;--color-error-light: #ffebee;--color-error-main: #f44336;--color-error-dark: #c62828;--color-info-light: #e3f2fd;--color-info-main: #2196f3;--color-info-dark: #1565c0;--zone-1-color: #808080;--zone-2-color: #2196f3;--zone-3-color: #4caf50;--zone-4-color: #ffeb3b;--zone-5-color: #ff9800;--zone-6-color: #f44336;--zone-7-color: #9c27b0;--zone-1-color-bg: rgba(128, 128, 128, .15);--zone-2-color-bg: rgba(33, 150, 243, .15);--zone-3-color-bg: rgba(76, 175, 80, .15);--zone-4-color-bg: rgba(255, 235, 59, .15);--zone-5-color-bg: rgba(255, 152, 0, .15);--zone-6-color-bg: rgba(244, 67, 54, .15);--zone-7-color-bg: rgba(156, 39, 176, .15);--hr-zone-1-color: #808080;--hr-zone-2-color: #2196f3;--hr-zone-3-color: #4caf50;--hr-zone-4-color: #ff9800;--hr-zone-5-color: #f44336}[data-theme=dark]{--color-gray-50: #212121;--color-gray-100: #303030;--color-gray-200: #424242;--color-gray-300: #616161;--color-gray-400: #757575;--color-gray-500: #9e9e9e;--color-gray-600: #bdbdbd;--color-gray-700: #e0e0e0;--color-gray-800: #eeeeee;--color-gray-900: #fafafa;--zone-1-color: #9e9e9e;--zone-2-color: #42a5f5;--zone-3-color: #66bb6a;--zone-4-color: #ffee58;--zone-5-color: #ffa726;--zone-6-color: #ef5350;--zone-7-color: #ab47bc}:root{--space-0: 0;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--space-16: 4rem;--space-20: 5rem;--space-24: 6rem;--spacing-card-padding: var(--space-4);--spacing-section-gap: var(--space-6);--spacing-input-padding: var(--space-3)}:root{--font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;--font-family-mono: "SF Mono", SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--font-size-4xl: 2.25rem;--font-size-5xl: 3rem;--font-size-metric-value: clamp(2rem, 8vw, 4rem);--font-size-metric-label: var(--font-size-sm);--font-size-metric-unit: var(--font-size-xs);--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--line-height-tight: 1.25;--line-height-normal: 1.5;--line-height-relaxed: 1.75}:root{--bg-primary: var(--color-gray-50);--bg-secondary: var(--color-gray-100);--bg-tertiary: var(--color-gray-200);--bg-elevated: white;--bg-overlay: rgba(0, 0, 0, .5);--text-primary: var(--color-gray-900);--text-secondary: var(--color-gray-700);--text-tertiary: var(--color-gray-500);--text-inverse: white;--text-accent: var(--color-primary-600);--border-default: var(--color-gray-300);--border-subtle: var(--color-gray-200);--border-strong: var(--color-gray-400);--border-focus: var(--color-primary-500);--interactive-default: var(--color-primary-500);--interactive-hover: var(--color-primary-600);--interactive-active: var(--color-primary-700);--interactive-disabled: var(--color-gray-400);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .1);--shadow-xl: 0 20px 25px rgba(0, 0, 0, .15);--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .35s ease;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-full: 9999px}[data-theme=dark]{--bg-primary: var(--color-gray-900);--bg-secondary: var(--color-gray-800);--bg-tertiary: var(--color-gray-700);--bg-elevated: var(--color-gray-800);--bg-overlay: rgba(0, 0, 0, .7);--text-primary: var(--color-gray-100);--text-secondary: var(--color-gray-300);--text-tertiary: var(--color-gray-500);--text-inverse: var(--color-gray-900);--text-accent: var(--color-primary-400);--border-default: var(--color-gray-600);--border-subtle: var(--color-gray-700);--border-strong: var(--color-gray-500);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .5)}[data-high-contrast=true]{--text-primary: black;--text-secondary: black;--bg-primary: white;--border-default: black;--border-focus: black}[data-theme=dark][data-high-contrast=true]{--text-primary: white;--text-secondary: white;--bg-primary: black;--border-default: white;--border-focus: white}*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}:root{--color-bg-primary: var(--bg-primary);--color-bg-secondary: var(--bg-secondary);--color-bg-tertiary: var(--bg-tertiary);--color-bg-hover: var(--bg-hover);--color-bg-active: var(--bg-active);--color-text-primary: var(--text-primary);--color-text-secondary: var(--text-secondary);--color-text-muted: var(--text-muted);--color-border: var(--border-default);--color-border-strong: var(--border-focus);--color-accent: var(--interactive-default);--color-accent-hover: var(--interactive-hover);--color-success: var(--zone-3-color);--color-error: var(--zone-6-color);--color-warning: var(--zone-4-color);--header-bg: var(--bg-elevated);--menu-bg: var(--bg-elevated);--modal-bg: var(--bg-elevated);--card-bg: var(--bg-secondary);--input-bg: var(--bg-primary);--switch-bg: var(--bg-tertiary);--switch-knob: var(--text-inverse);--color-shadow: rgba(0, 0, 0, .1);--color-shadow-strong: rgba(0, 0, 0, .15);--gradient-header: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);--section-header-bg: var(--bg-secondary);--modal-overlay: rgba(0, 0, 0, .5)}body{font-family:var(--font-family-sans);line-height:var(--line-height-normal);color:var(--text-primary);background-color:var(--bg-primary);-webkit-tap-highlight-color:transparent}.zone-1{--current-zone-color: var(--zone-1-color)}.zone-2{--current-zone-color: var(--zone-2-color)}.zone-3{--current-zone-color: var(--zone-3-color)}.zone-4{--current-zone-color: var(--zone-4-color)}.zone-5{--current-zone-color: var(--zone-5-color)}.zone-6{--current-zone-color: var(--zone-6-color)}.zone-7{--current-zone-color: var(--zone-7-color)}.zone-1-bg{background-color:var(--zone-1-color-bg)}.zone-2-bg{background-color:var(--zone-2-color-bg)}.zone-3-bg{background-color:var(--zone-3-color-bg)}.zone-4-bg{background-color:var(--zone-4-color-bg)}.zone-5-bg{background-color:var(--zone-5-color-bg)}.zone-6-bg{background-color:var(--zone-6-color-bg)}.zone-7-bg{background-color:var(--zone-7-color-bg)}.zone-1-text{color:var(--zone-1-color)}.zone-2-text{color:var(--zone-2-color)}.zone-3-text{color:var(--zone-3-color)}.zone-4-text{color:var(--zone-4-color)}.zone-5-text{color:var(--zone-5-color)}.zone-6-text{color:var(--zone-6-color)}.zone-7-text{color:var(--zone-7-color)}.zone-accent{border-left:4px solid var(--current-zone-color, var(--border-default))}.zone-glow{box-shadow:0 0 10px var(--current-zone-color)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);border:none;border-radius:var(--radius-md);font-family:var(--font-family-sans);font-size:var(--font-size-base);font-weight:var(--font-weight-medium);cursor:pointer;transition:background-color var(--transition-fast),transform var(--transition-fast)}.btn:focus-visible{outline:2px solid var(--border-focus);outline-offset:2px}.btn:active{transform:scale(.98)}.btn:disabled{cursor:not-allowed;opacity:.5}.btn-primary{background-color:var(--interactive-default);color:var(--text-inverse)}.btn-primary:hover:not(:disabled){background-color:var(--interactive-hover)}.btn-secondary{background-color:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-default)}.btn-secondary:hover:not(:disabled){background-color:var(--bg-tertiary)}.btn-danger{background-color:var(--color-error-main);color:#fff}.btn-danger:hover:not(:disabled){background-color:var(--color-error-dark)}.btn-sm{padding:var(--space-2) var(--space-3);font-size:var(--font-size-sm)}.btn-lg{padding:var(--space-4) var(--space-6);font-size:var(--font-size-lg)}.btn-icon{padding:var(--space-2);border-radius:var(--radius-full)}.switch{position:relative;display:inline-block;width:36px;height:20px}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--bg-tertiary);transition:background-color var(--transition-normal)}.slider:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:var(--text-inverse);transition:transform var(--transition-normal),background-color var(--transition-normal)}input:checked+.slider{background-color:var(--zone-3-color-bg)}input:focus+.slider{box-shadow:0 0 1px var(--interactive-default)}input:checked+.slider:before{transform:translate(16px)}.slider.round{border-radius:34px}.stream-modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:var(--modal-overlay);align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.stream-modal-content{background-color:var(--bg-elevated);border-radius:var(--radius-lg);width:90%;max-width:600px;max-height:85vh;display:flex;flex-direction:column;box-shadow:var(--shadow-xl);transition:background-color var(--transition-normal),box-shadow var(--transition-normal)}.stream-modal-header{display:flex;justify-content:space-between;align-items:center;padding:var(--space-5) var(--space-6);border-bottom:1px solid var(--border-default);transition:border-color var(--transition-normal)}.stream-modal-header h2{font-size:var(--font-size-2xl);font-weight:var(--font-weight-semibold);color:var(--text-primary);margin:0;transition:color var(--transition-normal)}.close-button{background:none;border:none;font-size:32px;color:var(--text-secondary);cursor:pointer;padding:0;transition:color var(--transition-normal),background-color .15s ease;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm)}.close-button:hover{background-color:var(--bg-hover);color:var(--text-primary)}.stream-modal-body{padding:var(--space-5) var(--space-6);overflow-y:auto;flex:1}.onboarding-modal{text-align:center}.onboarding-modal h2{display:flex;align-items:center;justify-content:center;gap:8px}.onboarding-modal #onboardingIcon{font-size:28px}.onboarding-modal p{margin:12px 0;line-height:1.6;color:var(--text-secondary)}.onboarding-modal ul{list-style:none;padding:0}.onboarding-modal li{padding:8px 0;border-bottom:1px solid var(--border-default)}.onboarding-modal li:last-child{border-bottom:none}.onboarding-modal kbd{display:inline-block;padding:4px 8px;font-family:monospace;font-size:14px;background-color:var(--bg-secondary);border:1px solid var(--border-default);border-radius:4px;box-shadow:0 1px 1px #0000001a}.onboarding-modal table{border-collapse:collapse}.onboarding-modal td{padding:6px 12px}.onboarding-modal input[type=number]{background-color:var(--bg-primary);color:var(--text-primary);border-color:var(--border-default);border-radius:var(--radius-sm);padding:4px 8px}.onboarding-modal input[type=number]:focus{outline:none;border-color:var(--interactive-default);box-shadow:0 0 0 3px var(--border-focus)}:root{--df-surface: #1a1a2e;--df-surface-elevated: #252542;--df-surface-hover: #2d2d4a;--df-text: #ffffff;--df-text-muted: #a0a0b0;--df-text-dim: #666680;--df-border: #333355;--df-border-subtle: #2a2a44;--df-primary: #4ecdc4;--df-primary-dark: #3db3aa;--df-power: #ffd700;--df-power-bg: rgba(255, 215, 0, .15);--df-heartrate: #ff6b6b;--df-heartrate-bg: rgba(255, 107, 107, .15);--df-cadence: #4ecdc4;--df-cadence-bg: rgba(78, 205, 196, .15);--df-speed: #45b7d1;--df-speed-bg: rgba(69, 183, 209, .15);--df-distance: #96ceb4;--df-distance-bg: rgba(150, 206, 180, .15);--df-elevation: #a8e6cf;--df-elevation-bg: rgba(168, 230, 207, .15);--df-time: #dda0dd;--df-time-bg: rgba(221, 160, 221, .15);--df-zone-1: #b8b8b8;--df-zone-2: #45b7d1;--df-zone-3: #4ecdc4;--df-zone-4: #ffd700;--df-zone-5: #ff9f43;--df-zone-6: #ff6b6b;--df-zone-7: #e056fd;--df-hr-zone-1: #4ecdc4;--df-hr-zone-2: #45b7d1;--df-hr-zone-3: #ffd700;--df-hr-zone-4: #ff9f43;--df-hr-zone-5: #ff6b6b;--df-spacing-xs: 4px;--df-spacing-sm: 8px;--df-spacing-md: 12px;--df-spacing-lg: 16px;--df-spacing-xl: 24px;--df-radius-sm: 4px;--df-radius-md: 8px;--df-radius-lg: 12px;--df-transition-fast: .15s ease;--df-transition: .25s ease;--df-transition-slow: .4s ease;--df-shadow-sm: 0 2px 4px rgba(0, 0, 0, .2);--df-shadow-md: 0 4px 12px rgba(0, 0, 0, .3);--df-shadow-lg: 0 8px 24px rgba(0, 0, 0, .4);--df-font-xs: 10px;--df-font-sm: 12px;--df-font-md: 14px;--df-font-lg: 16px;--df-font-xl: 20px;--df-font-2xl: 24px;--df-font-3xl: 32px;--df-font-4xl: 48px}@media(prefers-color-scheme:light){:root{--df-surface: #f5f5f7;--df-surface-elevated: #ffffff;--df-surface-hover: #e8e8eb;--df-text: #1a1a2e;--df-text-muted: #666680;--df-text-dim: #999999;--df-border: #d0d0dd;--df-border-subtle: #e5e5ee}}.df-zone-1-bg{background-color:var(--df-zone-1)!important;color:#000!important}.df-zone-2-bg{background-color:var(--df-zone-2)!important;color:#000!important}.df-zone-3-bg{background-color:var(--df-zone-3)!important;color:#000!important}.df-zone-4-bg{background-color:var(--df-zone-4)!important;color:#000!important}.df-zone-5-bg{background-color:var(--df-zone-5)!important;color:#000!important}.df-zone-6-bg{background-color:var(--df-zone-6)!important;color:#fff!important}.df-zone-7-bg{background-color:var(--df-zone-7)!important;color:#fff!important}.df-power-accent{border-left-color:var(--df-power)!important}.df-heartrate-accent{border-left-color:var(--df-heartrate)!important}.df-cadence-accent{border-left-color:var(--df-cadence)!important}.df-speed-accent{border-left-color:var(--df-speed)!important}.df-distance-accent{border-left-color:var(--df-distance)!important}.df-elevation-accent{border-left-color:var(--df-elevation)!important}.df-time-accent{border-left-color:var(--df-time)!important}.df-numeric{font-variant-numeric:tabular-nums;font-feature-settings:"tnum" 1}.df-value-updated{animation:df-pulse .3s ease-out}@keyframes df-pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.df-disconnected{opacity:.5;filter:grayscale(.5)}.df-loading{position:relative}.df-loading:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);animation:df-shimmer 1.5s infinite}@keyframes df-shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.df-grid{display:grid;gap:var(--df-spacing-sm)}.df-grid-2{grid-template-columns:repeat(2,1fr)}.df-grid-3{grid-template-columns:repeat(3,1fr)}.df-grid-4{grid-template-columns:repeat(4,1fr)}.df-grid-auto{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}.df-col-span-2{grid-column:span 2}.df-row-span-2{grid-row:span 2}.df-col-span-full{grid-column:1 / -1}@media(max-width:400px){:root{--df-spacing-sm: 6px;--df-spacing-md: 10px;--df-font-3xl: 28px;--df-font-4xl: 40px}.df-grid-3,.df-grid-4{grid-template-columns:repeat(2,1fr)}}@media(min-width:600px){:root{--df-spacing-sm: 10px;--df-spacing-md: 14px}}@media(min-width:900px){:root{--df-spacing-sm: 12px;--df-spacing-md: 16px;--df-font-4xl: 56px}}.df-focusable:focus-visible{outline:2px solid var(--df-primary);outline-offset:2px}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media(prefers-contrast:high){:root{--df-border: #ffffff;--df-text-muted: #ffffff}}main{margin-top:0;flex:1;display:flex;align-items:center;justify-content:center;padding:0;overflow:hidden;min-height:0;background-color:var(--bg-primary);transition:background-color var(--transition-normal)}#mainContent{display:flex;gap:0;width:100%;height:100%;align-items:stretch}.page-view{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden}@media(max-width:768px){#mainContent{flex-direction:column;gap:0}}#mainMenu{position:absolute;left:16px;top:50%;transform:translateY(-50%);background:transparent;z-index:101}#mainMenu>summary{display:flex;align-items:center;justify-content:center;width:44px;height:44px;font-size:24px;cursor:pointer;list-style:none;-webkit-user-select:none;user-select:none;color:var(--text-primary);transition:color var(--transition-normal),background-color var(--transition-fast),transform var(--transition-fast);border-radius:var(--radius-md)}#mainMenu>summary:hover{background-color:var(--bg-hover)}#mainMenu>summary:active{transform:scale(.95)}#mainMenu>summary:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}#mainMenu>summary::-webkit-details-marker{display:none}#mainMenu>summary::marker{display:none;content:""}#mainMenu[open]>summary .menu-icon{transform:rotate(90deg)}.menu-icon{display:inline-block;transition:transform var(--transition-normal)}#controls{position:absolute;top:calc(100% + 8px);left:0;background:var(--bg-elevated);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);padding:8px 0;display:flex;flex-direction:column;min-width:220px;max-height:calc(100vh - 120px);overflow-y:auto;border:1px solid var(--border-subtle);opacity:0;transform:translateY(-8px);animation:menuSlideIn .2s ease forwards}@keyframes menuSlideIn{to{opacity:1;transform:translateY(0)}}#controls>.menu-section-header,#controls>.menu-btn,#controls>.menu-toggle-container{opacity:0;transform:translate(-8px);animation:menuItemFadeIn .2s ease forwards}@keyframes menuItemFadeIn{to{opacity:1;transform:translate(0)}}#controls>:nth-child(1){animation-delay:.02s}#controls>:nth-child(2){animation-delay:.04s}#controls>:nth-child(3){animation-delay:.06s}#controls>:nth-child(4){animation-delay:.08s}#controls>:nth-child(5){animation-delay:.1s}#controls>:nth-child(6){animation-delay:.12s}#controls>:nth-child(7){animation-delay:.14s}#controls>:nth-child(8){animation-delay:.16s}#controls>:nth-child(9){animation-delay:.18s}#controls>:nth-child(10){animation-delay:.2s}#controls>:nth-child(11){animation-delay:.22s}#controls>:nth-child(12){animation-delay:.24s}#controls>:nth-child(13){animation-delay:.26s}#controls>:nth-child(14){animation-delay:.28s}#controls>:nth-child(15){animation-delay:.3s}#controls>:nth-child(16){animation-delay:.32s}#controls>:nth-child(17){animation-delay:.34s}#controls>:nth-child(18){animation-delay:.36s}#controls>:nth-child(19){animation-delay:.38s}#controls>:nth-child(20){animation-delay:.4s}#controls::-webkit-scrollbar{width:6px}#controls::-webkit-scrollbar-track{background:transparent}#controls::-webkit-scrollbar-thumb{background:var(--border-default);border-radius:3px}.menu-section-header{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted);padding:12px 16px 6px;margin-top:4px;border-top:1px solid var(--border-subtle)}.menu-section-header:first-child{border-top:none;margin-top:0;padding-top:8px}#controls .menu-btn{display:flex;align-items:center;gap:12px;padding:10px 16px;margin:0 8px;font-size:14px;border:none;border-radius:var(--radius-md);background-color:transparent;cursor:pointer;white-space:nowrap;text-align:left;color:var(--text-primary);font-weight:400;transition:background-color var(--transition-fast),color var(--transition-fast)}#controls .menu-btn:hover{background-color:var(--bg-hover)}#controls .menu-btn:active{background-color:var(--bg-active)}#controls .menu-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:-2px}#controls .menu-btn-danger:hover{background-color:var(--color-error-bg, rgba(244, 67, 54, .1));color:var(--color-error-main, #f44336)}.menu-item-icon{font-size:16px;width:20px;text-align:center;flex-shrink:0}.menu-item-text{flex:1}.menu-toggle-container{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;margin:0 8px;font-size:14px;color:var(--text-primary);border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--transition-fast),color var(--transition-normal)}.menu-toggle-container:hover{background-color:var(--bg-hover)}.menu-toggle-container:focus-visible{outline:2px solid var(--interactive-default);outline-offset:-2px}.menu-toggle-container label{display:flex;align-items:center;gap:12px;flex-grow:1;cursor:pointer}.switch{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--bg-tertiary, #ccc);transition:background-color var(--transition-normal)}.slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:transform var(--transition-normal);box-shadow:0 1px 3px #0003}input:checked+.slider{background-color:var(--interactive-default, #2196F3)}input:focus-visible+.slider{box-shadow:0 0 0 3px var(--border-focus)}input:checked+.slider:before{transform:translate(20px)}.slider.round{border-radius:24px}.slider.round:before{border-radius:50%}@media(prefers-reduced-motion:reduce){#controls{animation:none;opacity:1;transform:none}#controls>.menu-section-header,#controls>.menu-btn,#controls>.menu-toggle-container{animation:none;opacity:1;transform:none}.menu-icon{transition:none}#mainMenu>summary{transition:none}.slider,.slider:before{transition:none}}@media(max-width:480px){#mainMenu{left:8px}#controls{min-width:200px;max-width:calc(100vw - 32px)}#controls .menu-btn,.menu-toggle-container{padding:12px 16px}}header{position:relative;flex:0 0 auto;height:auto;min-height:8vh;background:var(--bg-elevated);box-shadow:var(--shadow-sm);display:flex;align-items:center;justify-content:center;padding:0 2vw;z-index:100;transition:background-color var(--transition-normal),box-shadow var(--transition-normal)}header h1{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--text-primary);margin:0}#topBarControls{display:grid;grid-template-columns:minmax(0,1fr) auto minmax(0,1fr);align-items:center;gap:4px;width:100%}#time{grid-column:1;justify-self:center;white-space:nowrap}.workout-controls{display:flex;gap:8px;grid-column:3;justify-self:start}.workout-btn,#startStop,#resetButton,#exportButton{padding:8px 12px;font-size:20px;border:none;border-radius:6px;background-color:transparent;cursor:pointer;transition:background-color .15s ease,transform .1s ease;line-height:1;min-width:44px;min-height:44px;color:var(--text-primary);display:inline-flex;align-items:center;justify-content:center}#resetButton,#exportButton{font-size:14px;min-width:auto;min-height:auto;height:44px}.workout-btn:hover,#startStop:hover,#resetButton:hover,#exportButton:hover{background-color:var(--bg-secondary)}.workout-btn:active,#startStop:active,#resetButton:active,#exportButton:active{background-color:var(--bg-tertiary);transform:scale(.95)}.workout-btn:focus-visible,#startStop:focus-visible,#resetButton:focus-visible,#exportButton:focus-visible{outline:2px solid var(--border-focus);outline-offset:2px}.workout-btn-start{background-color:var(--zone-3-color-bg);color:var(--zone-3-color)}.workout-btn-start:hover{background-color:#4caf5040}.workout-btn-pause{background-color:var(--zone-4-color-bg);color:var(--zone-4-color)}.workout-btn-pause:hover{background-color:#ffc10740}.workout-btn-resume{background-color:var(--zone-3-color-bg);color:var(--zone-3-color)}.workout-btn-resume:hover{background-color:#4caf5040}.workout-btn-stop{background-color:var(--zone-6-color-bg);color:var(--zone-6-color)}.workout-btn-stop:hover{background-color:#f4433640}.workout-btn-lap{background-color:#9c27b026;color:#9c27b0}.workout-btn-lap:hover{background-color:#9c27b040}.lap-counter{font-size:14px;color:var(--text-secondary);padding:4px 8px;background-color:#9c27b01a;border-radius:4px;margin-left:auto}.lap-counter #lapCount{font-weight:var(--font-weight-bold);color:#9c27b0}.workout-btn:disabled,#startStop:disabled,#resetButton:disabled,#exportButton:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(100%)}.live-charts-container{display:flex;flex-direction:column;gap:8px;padding:8px;width:100%;max-width:600px;margin:0 auto}.live-charts-container.hidden{display:none}.live-charts-header{display:flex;justify-content:space-between;align-items:center;padding:4px 0}.live-charts-title{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.charts-toggle-btn{display:flex;align-items:center;gap:4px;padding:4px 8px;font-size:11px;font-weight:500;color:var(--text-secondary);background-color:var(--bg-secondary);border:1px solid var(--border-default);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast)}.charts-toggle-btn:hover{background-color:var(--bg-tertiary);color:var(--text-primary)}.charts-toggle-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}.charts-toggle-btn[aria-pressed=true]{background-color:var(--interactive-default);color:var(--text-inverse);border-color:var(--interactive-default)}.charts-toggle-btn .toggle-icon{font-size:14px}.charts-wrapper{display:flex;gap:8px}.live-charts-wrapper.hidden{display:none}@media(max-width:480px){.charts-wrapper{flex-direction:column}}.connection-error-content{display:flex;flex-direction:column;gap:16px}.connection-error-message{font-size:15px;color:var(--text-secondary);line-height:1.5;margin:0}.connection-error-troubleshooting{background-color:var(--bg-secondary);border-radius:var(--radius-md);padding:16px;border-left:3px solid var(--interactive-default)}.connection-error-troubleshooting h3{font-size:14px;font-weight:600;color:var(--text-primary);margin:0 0 12px}.connection-error-troubleshooting ul{margin:0;padding:0 0 0 20px;list-style-type:disc}.connection-error-troubleshooting li{font-size:13px;color:var(--text-secondary);line-height:1.6;margin-bottom:4px}.connection-error-troubleshooting li:last-child{margin-bottom:0}@media(max-width:480px){.connection-error-troubleshooting{padding:12px}.connection-error-troubleshooting li{font-size:12px}}.metrics-section{flex:1;display:flex;flex-direction:column;min-width:0;overflow-y:hidden;overflow-x:hidden;padding:0;background:var(--bg-primary);position:relative;container-type:size;transition:background-color var(--transition-normal)}@media(max-width:768px){.metrics-section{flex:1}}.section-title{font-size:min(1.5em,3vh);font-weight:var(--font-weight-bold);color:var(--text-primary);margin:0}.section-header{display:flex;justify-content:space-between;align-items:center;padding:min(8px,1.5vh) min(10px,1vw);margin-bottom:min(8px,1.5vh);background:var(--bg-secondary);border-bottom:2px solid var(--border-default);position:sticky;top:0;z-index:20;flex:0 0 auto;height:10cqh;min-height:40px;transition:background-color var(--transition-normal),border-color var(--transition-normal)}.close-stream-btn{background:none;border:none;font-size:20px;color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .15s ease,color var(--transition-normal);display:inline-flex;align-items:center;justify-content:center}.close-stream-btn:hover{background-color:var(--bg-hover)}.stream-title-with-status{display:flex;align-items:center;gap:10px}.last-update-inline{font-size:min(.8em,2vh);color:var(--text-muted);text-align:center;font-style:italic;margin-top:min(8px,1vh);padding:0 min(20px,2vw) min(12px,2vh)}#streamMetricsTable{text-align:center;width:100%;flex:1;display:flex;flex-direction:column;justify-content:space-evenly;transition:opacity var(--transition-normal),filter var(--transition-normal);padding:0 min(20px,2vw) min(16px,2vh);overflow:hidden}.metric-group{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1}#streamMetricsTable dt{font-size:4cqh;color:var(--text-secondary);margin-top:0;transition:color var(--transition-normal)}#streamMetricsTable dt:first-child{margin-top:0}#streamMetricsTable dd{font-size:14cqh;font-weight:var(--font-weight-bold);color:var(--text-primary);margin-bottom:0;line-height:.9;transition:color var(--transition-normal)}.metric-group-power[data-show-avg=true] dd:after{content:attr(data-avg-value);display:block;font-size:.4em;opacity:.7}.custom-modal{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease}.custom-modal.modal-visible{opacity:1;visibility:visible}.custom-modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bg-overlay, rgba(0, 0, 0, .5));-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-modal-container{position:relative;background-color:var(--bg-elevated);border-radius:var(--radius-lg);width:90%;max-width:480px;max-height:85vh;display:flex;flex-direction:column;box-shadow:var(--shadow-xl);transform:scale(.95);transition:transform .2s ease,background-color .3s ease;border:1px solid var(--border-subtle)}.modal-visible .custom-modal-container{transform:scale(1)}.custom-modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-default)}.custom-modal-header h2{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.modal-close-btn{background:none;border:none;font-size:24px;color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:var(--radius-sm);line-height:1;transition:background-color var(--transition-fast)}.modal-close-btn:hover{background-color:var(--bg-secondary);color:var(--text-primary)}.custom-modal-body{padding:20px;overflow-y:auto;flex:1}.custom-modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid var(--border-default)}.modal-btn{padding:10px 18px;border-radius:var(--radius-sm);font-size:14px;font-weight:500;cursor:pointer;transition:background-color var(--transition-fast),border-color var(--transition-fast)}.modal-btn-primary{background-color:var(--interactive-default);color:var(--text-inverse);border:1px solid var(--interactive-default)}.modal-btn-primary:hover{background-color:var(--interactive-hover);border-color:var(--interactive-hover)}.modal-btn-secondary{background-color:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-default)}.modal-btn-secondary:hover{background-color:var(--bg-secondary)}.modal-btn-danger{background-color:var(--color-error-main);color:var(--text-inverse);border:1px solid var(--color-error-main)}.modal-btn-danger:hover{background-color:var(--color-error-dark);border-color:var(--color-error-dark)}.modal-message{font-size:15px;color:var(--text-secondary);line-height:1.5;margin:0}@media(max-width:480px){.custom-modal-container{width:95%;max-height:90vh}.custom-modal-footer{flex-direction:column}.modal-btn{width:100%;text-align:center}}dialog.modal{border:none;border-radius:var(--radius-lg);background:var(--bg-elevated);color:var(--text-primary);box-shadow:var(--shadow-xl);padding:0;max-width:600px;width:90%;margin:auto;position:fixed;inset:0;z-index:2000}dialog.modal[open]{display:flex;flex-direction:column;animation:modalFadeIn .2s ease}@keyframes modalFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}dialog.modal::backdrop{background:#00000080;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:backdropFadeIn .2s ease}@keyframes backdropFadeIn{0%{opacity:0}to{opacity:1}}.modal-content{display:flex;flex-direction:column;max-height:85vh}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-default)}.modal-header h2{margin:0;font-size:1.25rem}.modal-header-actions{display:flex;align-items:center;gap:12px}.connected-count{font-size:.8rem;color:var(--text-muted);padding:4px 10px;background:var(--bg-secondary);border-radius:var(--radius-full, 9999px);transition:all var(--transition-fast)}.connected-count.has-connections{background:var(--color-success-bg, rgba(76, 175, 80, .15));color:var(--color-success, #4caf50)}.disconnect-all-btn{font-size:.75rem;color:var(--text-muted);padding:4px 10px;background:transparent;border:1px solid var(--border-subtle);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);display:none}.disconnect-all-btn:hover{background:var(--color-error-bg, rgba(244, 67, 54, .1));border-color:var(--color-error-main, #f44336);color:var(--color-error-main, #f44336)}.disconnect-all-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}.disconnect-all-btn.visible{display:inline-block}.close-btn{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary);padding:.25rem .5rem;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.close-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.close-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}.sensor-modal .modal-content{max-height:90vh}.sensor-list-container{overflow-y:auto;padding-bottom:8px}.sensor-section{padding:0 16px}.sensor-section:first-child{padding-top:8px}.sensor-section-header{font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted);padding:12px 4px 8px;margin:0;border-top:1px solid var(--border-subtle)}.sensor-section:first-child .sensor-section-header{border-top:none;padding-top:8px}.sensor-list-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:12px;padding:4px 0 12px}.sensor-btn{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;padding:16px 12px;background:var(--bg-secondary);border:2px solid var(--border-subtle);border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;text-align:center;color:var(--text-primary);min-height:110px}.sensor-btn:hover{background:var(--bg-primary);border-color:var(--interactive-default);transform:translateY(-2px);box-shadow:var(--shadow-sm)}.sensor-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}.sensor-btn:active{transform:translateY(0)}.sensor-connected-badge{position:absolute;top:8px;right:8px;width:20px;height:20px;background:var(--color-success, #4caf50);color:#fff;border-radius:50%;font-size:12px;font-weight:700;display:none;align-items:center;justify-content:center;box-shadow:0 2px 4px #0003}.sensor-btn.connected{background:var(--color-success-bg, rgba(76, 175, 80, .1));border-color:var(--color-success, #4caf50)}.sensor-btn.connected .sensor-connected-badge{display:flex}.sensor-btn.connected .sensor-status{color:var(--color-success, #4caf50);font-weight:500}.sensor-btn.connecting{border-color:var(--interactive-default);border-style:dashed;animation:sensorPulse 1.5s ease-in-out infinite}@keyframes sensorPulse{0%,to{opacity:1}50%{opacity:.7}}.sensor-btn.connecting .sensor-status{color:var(--interactive-default)}.sensor-btn.connecting.timeout{border-color:var(--color-warning, #ff9800);animation:sensorPulseWarning 1s ease-in-out infinite}@keyframes sensorPulseWarning{0%,to{opacity:1;border-color:var(--color-warning, #ff9800)}50%{opacity:.6;border-color:var(--color-warning-dark, #f57c00)}}.sensor-btn.connecting.timeout .sensor-status{color:var(--color-warning, #ff9800)}.sensor-timeout-hint{font-size:.6rem;color:var(--color-warning, #ff9800);display:none;margin-top:2px}.sensor-btn.connecting.timeout .sensor-timeout-hint{display:block}.sensor-icon{font-size:2rem;line-height:1}.sensor-name{font-weight:600;font-size:.85rem;line-height:1.2}.sensor-status{font-size:.7rem;color:var(--text-muted);transition:color var(--transition-fast)}.sensor-device-name{font-size:.65rem;color:var(--text-muted);max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:none;font-style:italic}.sensor-device-name:not(:empty){display:block}.sensor-btn.connected .sensor-device-name{font-style:normal}.sensor-divider{grid-column:1 / -1;width:100%;border:0;border-top:1px solid var(--border-default);margin:8px 0}@media(prefers-reduced-motion:reduce){dialog.modal[open]{animation:none}dialog.modal::backdrop{animation:none}.sensor-btn{transition:none}.sensor-btn.connecting{animation:none}}@media(max-width:480px){dialog.modal{width:95%;max-height:95vh}.sensor-list-grid{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:8px}.sensor-btn{padding:12px 8px;min-height:100px}.sensor-icon{font-size:1.5rem}.sensor-name{font-size:.75rem}}.stream-list-container{display:flex;flex-direction:column;gap:12px}.refresh-button{padding:10px 16px;font-size:14px;border:1px solid var(--border-default);border-radius:6px;background-color:var(--bg-primary);color:var(--text-primary);cursor:pointer;font-weight:500;transition:background-color .15s ease,border-color var(--transition-normal),color var(--transition-normal)}.refresh-button:hover{background-color:var(--bg-secondary)}.streams-list{display:flex;flex-direction:column;gap:8px}.stream-item{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border:1px solid var(--border-default);border-radius:8px;background-color:var(--bg-primary);transition:box-shadow .15s ease,background-color var(--transition-normal),border-color var(--transition-normal)}.stream-item:hover{box-shadow:var(--shadow-sm)}.stream-item-info{flex:1}.stream-item-name{font-weight:var(--font-weight-semibold);font-size:15px;color:var(--text-primary);margin-bottom:4px;transition:color var(--transition-normal)}.stream-item-meta{font-size:13px;color:var(--text-muted)}.connect-button{padding:6px 12px;font-size:13px;border:1px solid var(--zone-3-color-bg);border-radius:6px;background-color:var(--zone-3-color-bg);color:var(--text-inverse);cursor:pointer;font-weight:500;transition:background-color .15s ease}.connect-button:hover{filter:brightness(.9)}.loading,.no-streams,.error{text-align:center;padding:24px;color:var(--text-muted);font-size:14px;transition:color var(--transition-normal)}.error{color:var(--zone-6-color-bg)}.undo-notification{position:fixed;bottom:24px;left:50%;transform:translate(-50%) translateY(100px);background-color:var(--bg-tertiary);border:1px solid var(--border-default);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);z-index:2001;min-width:300px;max-width:90%;overflow:hidden;opacity:0;transition:transform .3s ease,opacity .3s ease}.undo-notification-visible{transform:translate(-50%) translateY(0);opacity:1}.undo-notification-hiding{transform:translate(-50%) translateY(100px);opacity:0}.undo-notification-content{display:flex;align-items:center;gap:12px;padding:16px 16px 12px}.undo-notification-icon{font-size:24px;flex-shrink:0}.undo-notification-message{font-size:14px;font-weight:500;color:var(--text-primary);flex:1}.undo-notification-actions{display:flex;justify-content:flex-end;padding:0 16px 16px}.undo-notification-btn{background-color:var(--interactive-default);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);padding:8px 16px;font-size:14px;font-weight:600;cursor:pointer;transition:background-color var(--transition-fast)}.undo-notification-btn:hover{background-color:var(--interactive-hover)}.undo-notification-btn:focus-visible{outline:2px solid var(--interactive-default);outline-offset:2px}.undo-countdown{font-weight:400;opacity:.8}.undo-progress-bar{height:3px;background-color:var(--border-default);position:relative}.undo-progress-fill{height:100%;width:100%;background-color:var(--interactive-default);transition:width linear}@media(prefers-reduced-motion:reduce){.undo-notification,.undo-progress-fill{transition:none}}@media(max-width:480px){.undo-notification{bottom:16px;min-width:280px;left:16px;right:16px;transform:translate(0) translateY(100px);max-width:calc(100% - 32px)}.undo-notification-visible{transform:translate(0) translateY(0)}.undo-notification-hiding{transform:translate(0) translateY(100px)}.undo-notification-content{padding:12px 12px 8px}.undo-notification-actions{padding:0 12px 12px}.undo-notification-btn{width:100%;padding:10px 16px}}.toast-container{position:fixed;top:80px;left:50%;transform:translate(-50%);z-index:10001;display:flex;flex-direction:column;align-items:center;width:auto;max-width:90vw;pointer-events:none}.toast-container bpt-toast{pointer-events:auto}.streams-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;width:100%;padding:10px;overflow-y:auto;max-height:calc(100vh - 150px)}.stream-card{background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-md);padding:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;box-shadow:var(--shadow-sm);transition:box-shadow var(--transition-fast)}.stream-card:hover{box-shadow:var(--shadow-md)}.stream-card-name{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.stream-card-power{font-size:28px;font-weight:700;color:var(--color-primary-500);margin-bottom:8px}.stream-card-power:after{content:"W";font-size:14px;font-weight:400;color:var(--text-secondary);margin-left:2px}.stream-card-secondary{display:flex;justify-content:space-around;width:100%;font-size:12px;color:var(--text-secondary)}.stream-card-metric{display:flex;flex-direction:column;align-items:center}.stream-card-metric span:first-child{font-size:10px;margin-bottom:2px}.stream-card-metric span:last-child{font-weight:600;color:var(--text-primary)}.view-toggle-btn{background:transparent;border:1px solid var(--border-default);border-radius:var(--radius-sm);padding:4px 8px;cursor:pointer;font-size:16px;transition:background-color var(--transition-fast);color:var(--text-secondary)}.view-toggle-btn:hover{background-color:var(--bg-secondary);color:var(--text-primary)}.view-toggle-btn.active{background-color:var(--bg-tertiary);color:var(--text-primary);border-color:var(--border-strong)}.streams-compact-list{display:flex;flex-direction:column;gap:4px;width:100%;padding:10px;overflow-y:auto;max-height:calc(100vh - 150px)}.stream-row{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);font-size:14px}.stream-row-name{font-weight:600;color:var(--text-primary);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:12px}.stream-row-power{font-weight:700;color:var(--color-primary-500);min-width:60px;text-align:right}.stream-row-power:after{content:"W";font-size:11px;font-weight:400;color:var(--text-secondary);margin-left:2px}.workout-controls{display:flex;justify-content:space-between;align-items:center;padding:8px 0;margin-bottom:12px;border-bottom:1px solid var(--border-subtle)}.workout-pagination{display:flex;align-items:center;gap:8px}.workout-control-btn{background:transparent;border:1px solid var(--border-default);border-radius:var(--radius-sm);padding:6px 10px;cursor:pointer;font-size:14px;transition:background-color var(--transition-fast);color:var(--text-primary)}.workout-control-btn:hover:not(:disabled){background-color:var(--bg-secondary)}.workout-control-btn:disabled{opacity:.5;cursor:not-allowed;color:var(--text-tertiary)}#historyPageInfo{font-size:13px;color:var(--text-secondary)}.workout-list{display:flex;flex-direction:column;gap:12px}.workout-loading,.workout-empty,.workout-error{text-align:center;padding:40px 20px;color:var(--text-secondary)}.workout-empty-hint,.workout-error-detail{font-size:13px;color:var(--text-tertiary);margin-top:8px}.workout-error{color:var(--color-error-main)}.workout-card{background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-md);padding:12px;transition:box-shadow var(--transition-fast)}.workout-card:hover{box-shadow:var(--shadow-md)}.workout-card-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px;padding-top:12px;border-top:1px solid var(--border-subtle)}.workout-view-btn,.workout-delete-btn,.workout-export-btn-card{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:var(--radius-sm);font-size:13px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);border:1px solid transparent}.workout-view-btn{background-color:var(--bg-secondary);color:var(--text-primary);border-color:var(--border-default)}.workout-view-btn:hover{background-color:var(--bg-tertiary);border-color:var(--border-hover)}.workout-export-btn-card{background-color:transparent;color:var(--text-secondary);border-color:var(--border-subtle)}.workout-export-btn-card:hover{background-color:var(--bg-secondary);color:var(--text-primary);border-color:var(--border-default)}.workout-delete-btn{background-color:transparent;color:var(--color-error-main);opacity:.8}.workout-delete-btn:hover{background-color:var(--color-error-bg);opacity:1}.workout-detail-summary{margin-bottom:16px}.workout-detail-summary h4{font-size:14px;color:var(--text-secondary);margin-bottom:10px}.summary-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px}.summary-item{background:var(--bg-elevated);padding:10px;border-radius:var(--radius-sm);text-align:center;border:1px solid var(--border-subtle)}.summary-label{display:block;font-size:10px;color:var(--text-secondary);text-transform:uppercase;margin-bottom:4px}.summary-value{font-size:16px;font-weight:600;color:var(--color-primary-500)}.workout-detail-description{margin-bottom:16px}.workout-detail-description h4{font-size:14px;color:var(--text-secondary);margin-bottom:8px}.workout-detail-description p{font-size:14px;color:var(--text-primary);line-height:1.5}.workout-detail-actions{display:flex;justify-content:flex-end;gap:8px;padding-top:12px;border-top:1px solid var(--border-subtle)}.workout-export-btn{background:var(--color-primary-500);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);padding:8px 16px;cursor:pointer;font-size:13px;font-weight:500;transition:background-color var(--transition-fast)}.workout-export-btn:hover{background-color:var(--color-primary-700)}.workout-summary{display:flex;flex-direction:column;gap:16px}.summary-duration{display:flex;flex-direction:column;align-items:center;padding:16px;background-color:var(--bg-secondary);border-radius:var(--radius-md)}.summary-duration .summary-label{font-size:13px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.summary-duration .summary-value{font-size:32px;font-weight:700;color:var(--interactive-default);margin-top:4px}.summary-metric{display:flex;flex-direction:column;align-items:center;padding:12px;background-color:var(--bg-secondary);border-radius:var(--radius-md);text-align:center}.summary-metric-icon{font-size:20px;margin-bottom:4px}.summary-metric-label{font-size:12px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.summary-metric-values{display:flex;flex-direction:column;gap:4px}.summary-avg,.summary-max{font-size:13px;color:var(--text-primary)}.summary-avg{font-weight:600}.summary-max{color:var(--text-secondary)}.summary-samples{text-align:center;padding-top:8px;border-top:1px solid var(--border-subtle)}.summary-samples-text{font-size:12px;color:var(--text-tertiary)}.zone-distribution{margin-top:16px;padding-top:16px;border-top:1px solid var(--border-subtle)}.zone-distribution-title{font-size:14px;font-weight:600;color:var(--text-primary);margin:0 0 12px;text-align:center}.zone-chart{display:flex;flex-direction:column;gap:6px}.zone-bar-row{display:flex;align-items:center;gap:8px}.zone-bar-label{font-size:11px;font-weight:600;color:var(--text-secondary);width:24px;text-align:right;flex-shrink:0}.zone-bar-container{flex:1;height:16px;background:var(--bg-tertiary);border-radius:var(--radius-sm);overflow:hidden}.zone-bar{height:100%;border-radius:var(--radius-sm);transition:width .3s ease;min-width:4px}.zone-bar-time{font-size:11px;color:var(--text-secondary);width:40px;text-align:left;flex-shrink:0;font-variant-numeric:tabular-nums}.workout-metadata-form{display:flex;flex-direction:column;gap:20px}.metadata-field{display:flex;flex-direction:column;gap:8px}.metadata-label{font-size:14px;font-weight:600;color:var(--text-primary)}.metadata-input{padding:10px 12px;border:1px solid var(--border-default);border-radius:var(--radius-sm);font-size:15px;background-color:var(--bg-elevated);color:var(--text-primary);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.metadata-input:focus{outline:none;border-color:var(--interactive-default);box-shadow:0 0 0 2px var(--color-primary-200)}.metadata-textarea{padding:10px 12px;border:1px solid var(--border-default);border-radius:var(--radius-sm);font-size:15px;background-color:var(--bg-elevated);color:var(--text-primary);resize:vertical;min-height:80px;transition:border-color var(--transition-fast),box-shadow var(--transition-fast);font-family:inherit}.metadata-textarea:focus{outline:none;border-color:var(--interactive-default);box-shadow:0 0 0 2px var(--color-primary-200)}.rpe-selector{display:flex;flex-direction:column;gap:8px}.rpe-grid{display:grid;grid-template-columns:repeat(10,1fr);gap:4px}.rpe-button{aspect-ratio:1;border:2px solid var(--border-default);border-radius:var(--radius-sm);background-color:var(--bg-secondary);color:var(--text-primary);font-size:14px;font-weight:600;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;min-width:28px;min-height:28px}.rpe-button:hover{border-color:var(--rpe-color, var(--interactive-default));background-color:var(--bg-tertiary)}.rpe-button.selected{background-color:var(--rpe-color, var(--interactive-default));border-color:var(--rpe-color, var(--interactive-default));color:var(--text-inverse);transform:scale(1.1);box-shadow:var(--shadow-sm)}.rpe-description{font-size:13px;color:var(--text-secondary);text-align:center;min-height:18px;padding-top:4px}@media(max-width:400px){.rpe-grid{grid-template-columns:repeat(5,1fr);gap:6px}}[data-high-contrast=true] .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(255,255,255,.3) 2px,rgba(255,255,255,.3) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(1) .zone-bar{background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(2) .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(3) .zone-bar{background-image:repeating-linear-gradient(0deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(4) .zone-bar{background-image:repeating-linear-gradient(-45deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(5) .zone-bar{background-image:repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(6) .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(7) .zone-bar{background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}@media(max-width:480px){.summary-grid{grid-template-columns:1fr}}.metric-group[data-order="1"]{order:1}.metric-group[data-order="2"]{order:2}.metric-group[data-order="3"]{order:3}.metric-group[data-order="4"]{order:4}.metric-group[data-order="5"]{order:5}.metric-group[data-order="6"]{order:6}.metric-group-power[data-show-avg=true] dd:after{content:" (3s)";font-size:.4em;color:var(--text-tertiary);vertical-align:super}.metric-group.metric-hidden{display:none!important}.settings-fieldset{border:1px solid var(--border-default);border-radius:var(--radius-md);padding:var(--space-4);margin-bottom:var(--space-5)}.settings-fieldset legend{font-weight:var(--font-weight-semibold);color:var(--text-primary);padding:0 var(--space-2)}.settings-section-title{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--text-secondary);margin:var(--space-4) 0 var(--space-3) 0;padding-bottom:var(--space-2);border-bottom:1px solid var(--border-default)}.settings-option{display:flex;align-items:center;gap:var(--space-3);cursor:pointer;padding:var(--space-2) 0}.settings-option input[type=checkbox]{width:20px;height:20px;accent-color:var(--interactive-default)}.settings-option span{font-size:var(--font-size-base);color:var(--text-primary)}.settings-toggle{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) 0;border-top:1px solid var(--border-default)}.settings-toggle:first-of-type{border-top:none}.settings-toggle-label{font-size:var(--font-size-sm);color:var(--text-primary)}.settings-toggle-sublabel{font-size:var(--font-size-xs);color:var(--text-tertiary);margin-top:2px}.workout-overlay{position:fixed;bottom:var(--space-5);right:var(--space-5);width:320px;background:#212121f2;color:#fff;border-radius:var(--radius-md);box-shadow:var(--shadow-xl);z-index:2000;overflow:hidden;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.1)}.workout-player-header{background:#0000004d;padding:var(--space-2) var(--space-3);display:flex;justify-content:space-between;align-items:center}.workout-player-body{padding:var(--space-4)}.workout-item{background:var(--bg-elevated);border:1px solid var(--border-default);border-radius:var(--radius-md);padding:var(--space-4);cursor:pointer;transition:transform var(--transition-fast),box-shadow var(--transition-fast)}.workout-item:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--interactive-default)}.workout-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-2)}.workout-item-title{font-weight:var(--font-weight-bold);font-size:1.1em}.workout-item-duration{background:var(--bg-secondary);padding:2px var(--space-2);border-radius:var(--radius-sm);font-size:.9em}.workout-tags{display:flex;gap:var(--space-2);margin-top:var(--space-2)}.workout-tag{font-size:var(--font-size-xs);padding:2px var(--space-2);background:var(--interactive-default);color:var(--text-inverse);border-radius:var(--radius-full)}@media(max-width:600px){.workout-overlay{left:var(--space-3);right:var(--space-3);bottom:var(--space-3);width:auto}}.countdown-overlay{position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center}.countdown__backdrop{position:absolute;inset:0;background:#000000d9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.countdown__content{position:relative;display:flex;flex-direction:column;align-items:center;gap:var(--space-6);padding:var(--space-12);background:var(--bg-elevated);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);min-width:300px;text-align:center}.countdown__title{font-size:var(--font-size-2xl);font-weight:var(--font-weight-semibold);color:var(--text-primary);margin:0}.countdown__number{font-size:120px;font-weight:var(--font-weight-bold);line-height:1;color:var(--interactive-default);min-height:120px;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}.countdown__number--pulse{animation:countdownPulse .5s ease-out}@keyframes countdownPulse{0%{transform:scale(.8);opacity:.5}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.countdown__cancel{padding:var(--space-3) var(--space-6);background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-default);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-fast)}.countdown__cancel:hover{background:var(--bg-tertiary);border-color:var(--border-strong)}.countdown__cancel:active{transform:scale(.98)}@media(max-width:600px){.countdown__content{padding:var(--space-8);min-width:250px}.countdown__title{font-size:var(--font-size-xl)}.countdown__number{font-size:96px;min-height:96px}}.data-fields-config{padding:0}.dfc-header{margin-bottom:16px}.dfc-header h3{margin:0 0 4px;font-size:18px;font-weight:600;color:var(--color-text-primary)}.dfc-help-text{margin:0;font-size:14px;color:var(--color-text-secondary)}.dfc-screens{margin-bottom:16px}.dfc-screens-tabs{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch}.dfc-screen-tab{display:flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--color-border, #d0d7de);border-radius:8px;background:var(--color-bg-secondary, #f6f8fa);color:var(--color-text-primary);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.dfc-screen-tab:hover{background:var(--color-bg-tertiary, #eaeef2);border-color:var(--color-border-strong, #8c959f)}.dfc-screen-tab--active{background:var(--color-accent, #2196f3);border-color:var(--color-accent, #2196f3);color:#fff}.dfc-tab-icon{font-size:16px}.dfc-tab-name{font-size:14px}.dfc-current-screen{background:var(--color-bg-secondary, #f6f8fa);border-radius:8px;padding:16px;margin-bottom:16px}.dfc-screen-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid var(--color-border, #d0d7de)}.dfc-screen-name{font-size:16px;font-weight:600;color:var(--color-text-primary)}.dfc-layout-select{padding:6px 12px;border:1px solid var(--color-border, #d0d7de);border-radius:6px;background:var(--color-bg-primary, #fff);color:var(--color-text-primary);font-size:14px;cursor:pointer}.dfc-fields-list{display:flex;flex-direction:column;gap:8px;min-height:100px;margin-bottom:12px}.dfc-empty-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px;color:var(--color-text-secondary);text-align:center}.dfc-empty-hint{font-size:12px;margin-top:4px;opacity:.7}.dfc-field-item{display:flex;align-items:center;gap:12px;padding:10px 12px;background:var(--color-bg-primary, #fff);border:1px solid var(--color-border, #d0d7de);border-radius:8px;transition:all .2s ease}.dfc-field-item:hover{border-color:var(--color-border-strong, #8c959f);box-shadow:0 2px 4px #0000000d}.dfc-field-item--dragging{opacity:.5;border-style:dashed}.dfc-field-item--drag-over{border-color:var(--color-accent, #2196f3);background:#2196f30d}.dfc-field-drag{cursor:grab;color:var(--color-text-muted, #8c959f);font-size:14px;-webkit-user-select:none;user-select:none}.dfc-field-drag:active{cursor:grabbing}.dfc-field-icon{font-size:20px;width:28px;text-align:center}.dfc-field-info{flex:1;min-width:0}.dfc-field-name{display:block;font-size:14px;font-weight:500;color:var(--color-text-primary)}.dfc-field-id{display:block;font-size:11px;color:var(--color-text-muted);font-family:monospace}.dfc-field-size{padding:4px 8px;border:1px solid var(--color-border, #d0d7de);border-radius:4px;background:var(--color-bg-secondary, #f6f8fa);font-size:12px;color:var(--color-text-primary)}.dfc-field-remove{padding:4px 8px;border:none;border-radius:4px;background:transparent;color:var(--color-text-secondary);cursor:pointer;transition:all .2s ease}.dfc-field-remove:hover{background:var(--color-error-bg, #ffebe9);color:var(--color-error, #cf222e)}.dfc-add-field-btn{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:12px;border:2px dashed var(--color-border, #d0d7de);border-radius:8px;background:transparent;color:var(--color-text-secondary);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.dfc-add-field-btn:hover{border-color:var(--color-accent, #2196f3);color:var(--color-accent, #2196f3);background:#2196f30d}.dfc-add-field-btn span{font-size:18px;font-weight:600}.dfc-field-picker{position:fixed;inset:0;background:var(--color-modal-overlay, rgba(0, 0, 0, .5));z-index:1000;display:flex;flex-direction:column;padding:20px}.dfc-picker-header{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--color-bg-primary, #fff);border-radius:12px 12px 0 0}.dfc-picker-header h4{margin:0;font-size:18px;font-weight:600;color:var(--color-text-primary)}.dfc-picker-close{width:32px;height:32px;border:none;border-radius:50%;background:var(--color-bg-secondary, #f6f8fa);color:var(--color-text-primary);font-size:20px;cursor:pointer;transition:background .2s ease}.dfc-picker-close:hover{background:var(--color-bg-tertiary, #eaeef2)}.dfc-search{margin:0;padding:12px 16px;border:none;border-bottom:1px solid var(--color-border, #d0d7de);background:var(--color-bg-primary, #fff);font-size:16px;color:var(--color-text-primary);outline:none}.dfc-search:focus{border-bottom-color:var(--color-accent, #2196f3)}.dfc-categories{display:flex;gap:8px;padding:12px 16px;background:var(--color-bg-primary, #fff);overflow-x:auto;-webkit-overflow-scrolling:touch}.dfc-category-btn{display:flex;align-items:center;gap:4px;padding:6px 12px;border:1px solid var(--color-border, #d0d7de);border-radius:20px;background:var(--color-bg-secondary, #f6f8fa);color:var(--color-text-primary);font-size:13px;cursor:pointer;white-space:nowrap;transition:all .2s ease}.dfc-category-btn:hover{background:var(--color-bg-tertiary, #eaeef2)}.dfc-category-btn--active{background:var(--color-accent, #2196f3);border-color:var(--color-accent, #2196f3);color:#fff}.dfc-available-fields{flex:1;overflow-y:auto;padding:16px;background:var(--color-bg-primary, #fff);border-radius:0 0 12px 12px;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:8px;align-content:start}.dfc-available-field{display:flex;align-items:flex-start;gap:12px;padding:12px;border:1px solid var(--color-border, #d0d7de);border-radius:8px;background:var(--color-bg-secondary, #f6f8fa);text-align:left;cursor:pointer;transition:all .2s ease}.dfc-available-field:hover:not(:disabled){border-color:var(--color-accent, #2196f3);background:#2196f30d}.dfc-available-field:disabled,.dfc-available-field--used{opacity:.5;cursor:not-allowed}.dfc-af-icon{font-size:24px;width:32px;text-align:center;flex-shrink:0}.dfc-af-info{flex:1;min-width:0}.dfc-af-name{display:block;font-size:14px;font-weight:500;color:var(--color-text-primary);margin-bottom:2px}.dfc-af-desc{display:block;font-size:12px;color:var(--color-text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dfc-af-badge{padding:2px 8px;border-radius:10px;background:var(--color-success, #2da44e);color:#fff;font-size:11px;font-weight:500}.dfc-actions{display:flex;gap:12px;justify-content:flex-end}.dfc-save-btn,.dfc-reset-btn{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.dfc-save-btn{background:var(--color-accent, #2196f3);color:#fff}.dfc-save-btn:hover{background:var(--color-accent-hover, #1976d2)}.dfc-reset-btn{background:var(--color-bg-secondary, #f6f8fa);border:1px solid var(--color-border, #d0d7de);color:var(--color-text-primary)}.dfc-reset-btn:hover{background:var(--color-bg-tertiary, #eaeef2)}[data-theme=dark] .dfc-screen-tab{background:var(--color-bg-tertiary, #21262d);border-color:var(--color-border, #30363d)}[data-theme=dark] .dfc-screen-tab:hover{background:var(--color-bg-secondary, #161b22)}[data-theme=dark] .dfc-current-screen{background:var(--color-bg-tertiary, #21262d)}[data-theme=dark] .dfc-field-item{background:var(--color-bg-secondary, #161b22);border-color:var(--color-border, #30363d)}[data-theme=dark] .dfc-field-picker{background:#000000b3}[data-theme=dark] .dfc-picker-header,[data-theme=dark] .dfc-search,[data-theme=dark] .dfc-categories,[data-theme=dark] .dfc-available-fields{background:var(--color-bg-secondary, #161b22)}[data-theme=dark] .dfc-available-field{background:var(--color-bg-tertiary, #21262d);border-color:var(--color-border, #30363d)}@media(max-width:600px){.dfc-field-picker{padding:0}.dfc-picker-header{border-radius:0}.dfc-available-fields{grid-template-columns:1fr;border-radius:0}.dfc-actions{flex-direction:column}.dfc-save-btn,.dfc-reset-btn{width:100%}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.skip-link{position:absolute;top:-40px;left:0;background:var(--interactive-default);color:var(--text-inverse);padding:var(--space-2) var(--space-4);z-index:10000;text-decoration:none;font-weight:var(--font-weight-bold);border-radius:0 0 var(--radius-sm) 0;transition:top var(--transition-fast)}.skip-link:focus{top:0;outline:3px solid var(--color-warning-main);outline-offset:2px}:focus-visible{outline:3px solid var(--border-focus);outline-offset:2px}:focus:not(:focus-visible){outline:none}button:focus-visible,[role=button]:focus-visible,a:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{outline:3px solid var(--border-focus);outline-offset:2px;box-shadow:0 0 0 6px var(--zone-2-color-bg)}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}[data-high-contrast=true]{--color-text-primary: #000000;--color-text-secondary: #1a1a1a;--color-text-muted: #333333;--color-bg-primary: #ffffff;--color-bg-secondary: #f0f0f0;--color-border: #000000;--color-border-strong: #000000;--color-accent: #0000cc;--color-accent-hover: #000099;--color-success: #006600;--color-error: #cc0000;--color-warning: #996600}[data-theme=dark][data-high-contrast=true],[data-high-contrast=true][data-theme=dark]{--color-text-primary: #ffffff;--color-text-secondary: #e0e0e0;--color-text-muted: #cccccc;--color-bg-primary: #000000;--color-bg-secondary: #1a1a1a;--color-border: #ffffff;--color-border-strong: #ffffff;--color-accent: #66b3ff;--color-accent-hover: #99ccff;--color-success: #66ff66;--color-error: #ff6666;--color-warning: #ffcc66}[data-high-contrast=true] .zone-1,[data-high-contrast=true] .zone-recovery{background:repeating-linear-gradient(45deg,#4a90d9,#4a90d9 5px,#6aa8f0 5px 10px)!important;border:3px solid #2563eb!important}[data-high-contrast=true] .zone-2,[data-high-contrast=true] .zone-endurance{background:repeating-linear-gradient(90deg,#22c55e,#22c55e 5px,#4ade80 5px 10px)!important;border:3px solid #16a34a!important}[data-high-contrast=true] .zone-3,[data-high-contrast=true] .zone-tempo{background:repeating-linear-gradient(-45deg,#eab308,#eab308 5px,#facc15 5px 10px)!important;border:3px solid #ca8a04!important}[data-high-contrast=true] .zone-4,[data-high-contrast=true] .zone-threshold{background:repeating-linear-gradient(0deg,#f97316,#f97316 5px,#fb923c 5px 10px)!important;border:3px solid #ea580c!important}[data-high-contrast=true] .zone-5,[data-high-contrast=true] .zone-vo2max,[data-high-contrast=true] .zone-anaerobic{background:repeating-linear-gradient(135deg,#ef4444,#ef4444 5px,#f87171 5px 10px)!important;border:3px solid #dc2626!important}[data-high-contrast=true] :focus-visible{outline:4px solid #000000!important;outline-offset:3px!important;box-shadow:0 0 0 6px #fff,0 0 0 10px #000!important}[data-theme=dark][data-high-contrast=true] :focus-visible{outline:4px solid #ffffff!important;outline-offset:3px!important;box-shadow:0 0 0 6px #000,0 0 0 10px #fff!important}[data-high-contrast=true] button,[data-high-contrast=true] .workout-btn{border:2px solid currentColor!important}[data-high-contrast=true] #streamMetricsTable dd{text-decoration-line:underline;text-decoration-style:dotted;text-underline-offset:4px}[data-high-contrast=true] .slider{border:2px solid var(--color-border)}[data-high-contrast=true] input:checked+.slider{background-color:var(--color-success)}@media(prefers-contrast:more){:root{--color-text-primary: #000000;--color-text-secondary: #1a1a1a;--color-border: #000000;--color-accent: #0000cc}button,.workout-btn{border:2px solid currentColor!important}:focus-visible{outline:4px solid #000000!important;outline-offset:3px!important}}body{height:100vh;height:100dvh;display:flex;flex-direction:column;overflow:hidden;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}.flex-center{display:flex;align-items:center;justify-content:center}.flex-col{display:flex;flex-direction:column}.w-full{width:100%}.h-full{height:100%}@media(orientation:landscape)and (max-height:500px){header{min-height:6vh;padding:0 1vw}header h1{font-size:16px}.workout-btn{padding:4px 8px;font-size:16px;min-width:36px;min-height:36px}#mainContent{flex-direction:row}.metrics-section{padding:0}.section-header{padding:4px 8px;min-height:32px;height:8cqh}#streamMetricsTable{flex-direction:row;flex-wrap:wrap;justify-content:space-around;padding:0 8px}.metric-group{flex:1 1 30%;min-width:100px;padding:4px}#streamMetricsTable dd{font-size:12cqh}#streamMetricsTable dt{font-size:3cqh}.lap-counter{font-size:12px;padding:2px 6px}details{left:8px}summary{font-size:20px;padding:4px}.stream-modal-content{max-height:95vh}.stream-modal-header,.stream-modal-body{padding:12px 16px}}@media(orientation:landscape)and (min-height:501px)and (max-height:800px){#streamMetricsTable{flex-direction:row;flex-wrap:wrap;justify-content:space-around}.metric-group{flex:1 1 30%;min-width:120px}}.race-predictor-view{padding:1rem;max-width:900px;margin:0 auto}.race-predictor-header{text-align:center;margin-bottom:2rem}.race-predictor-header h1{font-size:2rem;margin-bottom:.5rem;color:var(--color-text)}.race-predictor-header .subtitle{color:var(--color-text-secondary);font-size:.95rem}.formula-explanation{margin-top:1rem;padding:1rem;background:var(--color-bg);border-radius:8px;border-left:4px solid var(--color-primary)}.formula-explanation p{margin:0;font-size:.9rem;line-height:1.5}.btn-primary:active{transform:translateY(0)}.results-card{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a}.results-card h2{font-size:1.3rem;margin-bottom:1rem;color:var(--color-text)}.vdot-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1rem}.metric-card{background:var(--color-bg);border-radius:8px;padding:1rem;text-align:center}.metric-value{font-size:2.5rem;font-weight:700;color:var(--color-primary);margin-bottom:.25rem}.metric-label{font-size:.9rem;font-weight:500;color:var(--color-text);margin-bottom:.25rem}.metric-description{font-size:.8rem;color:var(--color-text-secondary)}.predictions-table,.training-paces-table{overflow-x:auto}.predictions-table table,.training-paces-table table{width:100%;border-collapse:collapse}.predictions-table th,.training-paces-table th{background:var(--color-bg);padding:.75rem;text-align:left;font-weight:600;color:var(--color-text);border-bottom:2px solid var(--color-border)}.predictions-table td,.training-paces-table td{padding:.75rem;border-bottom:1px solid var(--color-border)}.predictions-table tr:hover,.training-paces-table tr:hover{background:var(--color-bg)}.zone-easy{border-left:4px solid var(--color-zone-1)}.zone-marathon{border-left:4px solid var(--color-zone-2)}.zone-threshold{border-left:4px solid var(--color-zone-3)}.zone-interval{border-left:4px solid var(--color-zone-4)}.zone-repetition{border-left:4px solid var(--color-zone-5)}.info-text{margin-top:1rem;font-size:.9rem;color:var(--color-text-secondary);line-height:1.5}.info-section p,.info-section ul,.info-section ol{margin:.5rem 0;line-height:1.6;color:var(--color-text-secondary)}.info-section code{background:var(--color-bg-secondary);padding:.2rem .4rem;border-radius:4px;font-family:monospace;font-size:.9em}@media(max-width:600px){.race-predictor-view{padding:.5rem}.race-predictor-header h1{font-size:1.5rem}.input-section,.results-card,.info-section{padding:1rem}.vdot-metrics{grid-template-columns:1fr}.predictions-table th,.predictions-table td,.training-paces-table th,.training-paces-table td{padding:.5rem;font-size:.9rem}}.vo2max-view{padding:1rem;max-width:1000px;margin:0 auto}.vo2max-header{text-align:center;margin-bottom:2rem}.vo2max-header h1{font-size:2rem;margin-bottom:.5rem;color:var(--color-text)}.vo2max-header .subtitle{color:var(--color-text-secondary);font-size:.95rem}.vo2max-summary{margin-bottom:2rem}.summary-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}.summary-card{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;box-shadow:0 2px 8px #0000001a}.summary-card.no-data{opacity:.6}.card-icon{font-size:2.5rem}.card-content{flex:1}.card-label{font-size:.85rem;color:var(--color-text-secondary);margin-bottom:.25rem}.card-value{font-size:2rem;font-weight:700;color:var(--color-primary)}.card-unit{font-size:.8rem;color:var(--color-text-secondary);margin-top:-.25rem}.card-badge{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;margin-top:.5rem;font-weight:500}.card-info{font-size:.85rem;color:var(--color-text-secondary);margin-top:.5rem}.badge-high{background:#d4edda;color:#155724}.badge-medium{background:#fff3cd;color:#856404}.badge-low{background:#f8d7da;color:#721c24}.input-section{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.input-section h2{font-size:1.3rem;margin-bottom:1.5rem;color:var(--color-text)}.activity-tabs{display:flex;gap:.5rem;margin-bottom:1.5rem;flex-wrap:wrap}.activity-tab{flex:1;min-width:120px;padding:.75rem 1rem;background:var(--color-bg);border:2px solid var(--color-border);border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:.5rem;justify-content:center;transition:all .2s}.activity-tab:hover{border-color:var(--color-primary);background:var(--color-bg-hover, #f8f9fa)}.activity-tab.active{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.tab-icon{font-size:1.2rem}.tab-label{font-weight:500}.estimation-form{animation:fadeIn .3s ease-in}.form-description{background:var(--color-bg);padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid var(--color-primary)}.form-description p{margin:0;font-size:.9rem;line-height:1.5;color:var(--color-text-secondary)}.input-group{margin-bottom:1rem}.input-group label{display:block;font-weight:500;margin-bottom:.5rem;color:var(--color-text)}.input-field{width:100%;padding:.75rem;font-size:1rem;border:2px solid var(--color-border);border-radius:8px;background:var(--color-bg);color:var(--color-text);transition:border-color .2s}.input-field:focus{outline:none;border-color:var(--color-primary)}.warning-box{background:#fff3cd;border:2px solid #ffc107;border-radius:8px;padding:1rem;margin-top:1rem;color:#856404}.btn{padding:.75rem 1.5rem;font-size:1rem;font-weight:500;border:none;border-radius:8px;cursor:pointer;transition:all .2s}.btn-primary{background:var(--color-primary);color:#fff;width:100%;margin-top:1rem}.btn-primary:hover{background:var(--color-primary-dark, #0056b3);transform:translateY(-1px);box-shadow:0 4px 12px #007bff4d}.btn-secondary{background:var(--color-bg);color:var(--color-text);border:2px solid var(--color-border)}.btn-secondary:hover{border-color:var(--color-primary);background:var(--color-bg-hover, #f8f9fa)}.results-section{animation:fadeIn .3s ease-in}.result-card{background:var(--color-bg-secondary);border-radius:12px;padding:2rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.result-card h2{font-size:1.3rem;margin-bottom:1.5rem;color:var(--color-text)}.result-main{text-align:center;padding:2rem;background:var(--color-bg);border-radius:12px;margin-bottom:1.5rem}.result-value{font-size:4rem;font-weight:700;color:var(--color-primary)}.result-unit{font-size:1rem;color:var(--color-text-secondary);margin-top:-.5rem}.result-details{background:var(--color-bg);border-radius:8px;padding:1rem;margin-bottom:1rem}.result-row{display:flex;justify-content:space-between;padding:.75rem 0;border-bottom:1px solid var(--color-border)}.result-row:last-child{border-bottom:none}.result-label{color:var(--color-text-secondary)}.result-data{font-weight:500;color:var(--color-text)}.result-notes{background:#e7f3ff;border-left:4px solid #0066cc;padding:1rem;border-radius:4px;margin-bottom:1rem;color:#004080}.result-actions{display:flex;gap:1rem;margin-top:1.5rem}.trend-section{margin-bottom:2rem}.trend-section h2{font-size:1.3rem;margin-bottom:1rem;color:var(--color-text)}.trend-card{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px #0000001a}.trend-header{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.trend-icon{font-size:1.5rem}.trend-header h3{margin:0;font-size:1.1rem}.trend-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1rem}.trend-stat{background:var(--color-bg);padding:1rem;border-radius:8px;text-align:center}.stat-label{font-size:.85rem;color:var(--color-text-secondary);margin-bottom:.5rem}.stat-value{font-size:1.5rem;font-weight:700;color:var(--color-text)}.stat-unit{font-size:.75rem;font-weight:400;color:var(--color-text-secondary)}.trend-improving{color:#28a745}.trend-declining{color:#dc3545}.trend-stable{color:#6c757d}.trend-message{padding:1rem;border-radius:8px;font-size:.9rem}.trend-message.improving{background:#d4edda;color:#155724}.trend-message.declining{background:#f8d7da;color:#721c24}.trend-message.stable{background:#e2e3e5;color:#383d41}.history-section{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.history-section h2{font-size:1.3rem;margin-bottom:1rem;color:var(--color-text)}.history-table{overflow-x:auto}.history-table table{width:100%;border-collapse:collapse}.history-table th{background:var(--color-bg);padding:.75rem;text-align:left;font-weight:600;color:var(--color-text);border-bottom:2px solid var(--color-border)}.history-table td{padding:.75rem;border-bottom:1px solid var(--color-border)}.history-table tr:hover{background:var(--color-bg)}.info-section{background:var(--color-bg-secondary);border-radius:12px;padding:1.5rem;margin-top:2rem}.info-section h2{font-size:1.3rem;margin-bottom:1rem;color:var(--color-text)}.info-section details{margin-bottom:1rem;background:var(--color-bg);border-radius:8px;padding:1rem}.info-section summary{cursor:pointer;-webkit-user-select:none;user-select:none;font-weight:500;color:var(--color-text)}.info-section summary:hover{color:var(--color-primary)}.info-section details[open] summary{margin-bottom:1rem;color:var(--color-primary)}.info-section p,.info-section ul{margin:.5rem 0;line-height:1.6;color:var(--color-text-secondary)}.info-section ul{padding-left:1.5rem}.norms-table{width:100%;margin-top:1rem}.norms-table th,.norms-table td{padding:.5rem;text-align:left;border-bottom:1px solid var(--color-border)}.norms-table th{font-weight:600}.error-card{background:#fee;border:2px solid #fcc;border-radius:8px;padding:1rem;color:#c33}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media(max-width:600px){.vo2max-view{padding:.5rem}.vo2max-header h1{font-size:1.5rem}.summary-cards{grid-template-columns:1fr}.activity-tabs{flex-direction:column}.activity-tab{width:100%}.trend-stats{grid-template-columns:1fr}.result-value{font-size:3rem}.history-table th,.history-table td{padding:.5rem;font-size:.9rem}}.bottom-nav{display:flex;justify-content:space-around;position:fixed;bottom:0;left:0;width:100%;background-color:var(--card-bg, #ffffff);border-top:1px solid var(--color-border, #ddd);padding-bottom:env(safe-area-inset-bottom);z-index:5000;box-shadow:0 -2px 10px #0000000d}.bottom-nav .nav-item{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px 0;background:none;border:none;color:var(--color-text-secondary, #666);cursor:pointer;font-size:12px}.bottom-nav .nav-item.active{color:var(--color-primary, #2196f3);font-weight:700}.bottom-nav .nav-icon{font-size:20px;margin-bottom:4px}#mainContent{padding-bottom:70px}@media(min-width:800px){.bottom-nav{max-width:600px;left:50%;transform:translate(-50%);border-radius:8px 8px 0 0}}#gpsMap{position:relative;min-height:200px;background:#f0f0f0;border-radius:8px;overflow:hidden;margin-bottom:16px;box-shadow:0 4px 6px #0000001a;z-index:10}#gpsMap.full-screen{position:fixed;inset:0;height:100vh!important;border-radius:0;z-index:2000}#toggleMapBtn.active{background:var(--color-primary, #007bff);color:#fff;border-color:var(--color-primary-dark, #0056b3)}.leaflet-control-container .leaflet-top{z-index:800}
