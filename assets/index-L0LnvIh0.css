*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}:root{--color-bg-primary: #ffffff;--color-bg-secondary: #f6f8fa;--color-bg-tertiary: #f0f0f0;--color-bg-hover: rgba(9, 105, 218, .08);--color-bg-active: rgba(9, 105, 218, .15);--color-text-primary: #1f2328;--color-text-secondary: #656d76;--color-text-muted: #8b949e;--color-border: #d0d7de;--color-border-strong: #e1e4e8;--color-accent: #2196F3;--color-accent-hover: #1976d2;--color-success: #1f883d;--color-error: #cf222e;--color-warning: #9a6700;--color-shadow: rgba(0, 0, 0, .1);--color-shadow-strong: rgba(0, 0, 0, .15);--header-bg: #ffffff;--menu-bg: #ffffff;--modal-bg: #ffffff;--card-bg: #ffffff;--input-bg: #ffffff;--gradient-header: linear-gradient(135deg, #f6f8fa 0%, #ffffff 100%)}[data-theme=dark]{--color-bg-primary: #0d1117;--color-bg-secondary: #161b22;--color-bg-tertiary: #21262d;--color-bg-hover: rgba(56, 139, 253, .15);--color-bg-active: rgba(56, 139, 253, .25);--color-text-primary: #e6edf3;--color-text-secondary: #8b949e;--color-text-muted: #6e7681;--color-border: #30363d;--color-border-strong: #484f58;--color-accent: #58a6ff;--color-accent-hover: #79c0ff;--color-success: #3fb950;--color-error: #f85149;--color-warning: #d29922;--color-shadow: rgba(0, 0, 0, .4);--color-shadow-strong: rgba(0, 0, 0, .5);--header-bg: #161b22;--menu-bg: #161b22;--modal-bg: #161b22;--card-bg: #21262d;--input-bg: #0d1117;--gradient-header: linear-gradient(135deg, #21262d 0%, #161b22 100%)}@media(prefers-color-scheme:dark){:root:not([data-theme=light]){--color-bg-primary: #0d1117;--color-bg-secondary: #161b22;--color-bg-tertiary: #21262d;--color-bg-hover: rgba(56, 139, 253, .15);--color-bg-active: rgba(56, 139, 253, .25);--color-text-primary: #e6edf3;--color-text-secondary: #8b949e;--color-text-muted: #6e7681;--color-border: #30363d;--color-border-strong: #484f58;--color-accent: #58a6ff;--color-accent-hover: #79c0ff;--color-success: #3fb950;--color-error: #f85149;--color-warning: #d29922;--color-shadow: rgba(0, 0, 0, .4);--color-shadow-strong: rgba(0, 0, 0, .5);--header-bg: #161b22;--menu-bg: #161b22;--modal-bg: #161b22;--card-bg: #21262d;--input-bg: #0d1117;--gradient-header: linear-gradient(135deg, #21262d 0%, #161b22 100%)}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.skip-link{position:absolute;top:-40px;left:0;background:#2196f3;color:#fff;padding:8px 16px;z-index:10000;text-decoration:none;font-weight:700;border-radius:0 0 4px;transition:top .2s ease}.skip-link:focus{top:0;outline:3px solid #ffeb3b;outline-offset:2px}:focus-visible{outline:3px solid #2196F3;outline-offset:2px}:focus:not(:focus-visible){outline:none}button:focus-visible,[role=button]:focus-visible,a:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{outline:3px solid #2196F3;outline-offset:2px;box-shadow:0 0 0 6px #2196f340}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}body{height:100vh;height:100dvh;display:flex;flex-direction:column;overflow:hidden;background-color:var(--color-bg-primary);color:var(--color-text-primary);transition:background-color .3s ease,color .3s ease;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}header{position:relative;flex:0 0 auto;height:auto;min-height:8vh;background:var(--header-bg);box-shadow:0 2px 8px var(--color-shadow);display:flex;align-items:center;justify-content:center;padding:0 2vw;z-index:100;transition:background-color .3s ease,box-shadow .3s ease}#topBarControls{display:grid;grid-template-columns:minmax(0,1fr) auto minmax(0,1fr);align-items:center;gap:4px;width:100%}#time{grid-column:2;justify-self:center;white-space:nowrap}.workout-controls{display:flex;gap:8px;grid-column:3;justify-self:start}.workout-btn{padding:8px 12px;font-size:20px;border:none;border-radius:6px;background-color:transparent;cursor:pointer;transition:background-color .15s ease,transform .1s ease;line-height:1;min-width:44px;min-height:44px}.workout-btn:hover{background-color:var(--color-bg-hover)}.workout-btn:active{background-color:var(--color-bg-active);transform:scale(.95)}.workout-btn:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}.workout-btn-start{background-color:#4caf5026}.workout-btn-start:hover{background-color:#4caf5040}.workout-btn-pause{background-color:#ffc10726}.workout-btn-pause:hover{background-color:#ffc10740}.workout-btn-resume{background-color:#4caf5026}.workout-btn-resume:hover{background-color:#4caf5040}.workout-btn-stop{background-color:#f4433626}.workout-btn-stop:hover{background-color:#f4433640}.workout-btn-lap{background-color:#9c27b026}.workout-btn-lap:hover{background-color:#9c27b040}.lap-counter{font-size:14px;color:var(--color-text-secondary);padding:4px 8px;background-color:#9c27b01a;border-radius:4px;margin-left:auto}.lap-counter #lapCount{font-weight:700;color:#9c27b0}#startStop{grid-column:3;justify-self:start}#startStop,#resetButton,#exportButton{padding:8px 12px;font-size:20px;border:none;border-radius:6px;background-color:transparent;cursor:pointer;transition:background-color .15s ease;line-height:1}#resetButton,#exportButton{font-size:14px}#startStop:hover,#resetButton:hover,#exportButton:hover{background-color:var(--color-bg-hover)}#startStop:active,#resetButton:active,#exportButton:active{background-color:var(--color-bg-active)}header h1{font-size:20px;font-weight:600;color:var(--color-text-primary)}main{margin-top:0;flex:1;display:flex;align-items:center;justify-content:center;padding:0;overflow:hidden;min-height:0;background-color:var(--color-bg-primary);transition:background-color .3s ease}#mainContent{display:flex;gap:0;width:100%;height:100%;align-items:stretch}.metrics-section{flex:1;display:flex;flex-direction:column;min-width:0;overflow-y:hidden;overflow-x:hidden;padding:0;background:var(--color-bg-primary);position:relative;container-type:size;transition:background-color .3s ease}.section-title{font-size:min(1.5em,3vh);font-weight:600;color:var(--color-text-primary);margin:0}.section-header{display:flex;justify-content:space-between;align-items:center;padding:min(8px,1.5vh) min(10px,1vw);margin-bottom:min(8px,1.5vh);background:var(--section-header-bg);border-bottom:2px solid var(--color-border);position:sticky;top:0;z-index:20;flex:0 0 auto;height:10cqh;min-height:40px;transition:background-color .3s ease,border-color .3s ease}.close-stream-btn{background:none;border:none;font-size:20px;color:var(--color-text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .15s ease,color .3s ease}.close-stream-btn:hover{background-color:var(--color-bg-hover)}.stream-title-with-status{display:flex;align-items:center;gap:10px}.last-update-inline{font-size:min(.8em,2vh);color:var(--color-text-muted);text-align:center;font-style:italic;margin-top:min(8px,1vh);padding:0 min(20px,2vw) min(12px,2vh)}#metricsTable,#streamMetricsTable{text-align:center;width:100%;flex:1;display:flex;flex-direction:column;justify-content:space-evenly;transition:opacity .3s ease,filter .3s ease;padding:0 min(20px,2vw) min(16px,2vh);overflow:hidden}.metric-group{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1}@media(max-width:768px){#mainContent{flex-direction:column;gap:0}.metrics-section{flex:1}}details{position:absolute;left:20px;background:transparent}summary{font-size:24px;padding:8px;cursor:pointer;list-style:none;-webkit-user-select:none;user-select:none;color:var(--color-text-primary);transition:color .3s ease}summary::-webkit-details-marker{display:none}#controls{position:absolute;top:100%;left:0;margin-top:8px;background:var(--menu-bg);border-radius:8px;box-shadow:0 4px 12px var(--color-shadow);padding:8px;display:flex;flex-direction:column;gap:4px;min-width:180px;transition:background-color .3s ease,box-shadow .3s ease}#controls button{padding:8px 12px;font-size:14px;border:none;border-radius:6px;background-color:transparent;cursor:pointer;white-space:nowrap;text-align:left;transition:background-color .15s ease,color .3s ease;color:var(--color-text-primary);font-weight:400}#controls button:hover{background-color:var(--color-bg-hover)}#controls button:active{background-color:var(--color-bg-active)}.menu-toggle-container{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;font-size:14px;color:var(--color-text-primary);transition:color .3s ease}.switch{position:relative;display:inline-block;width:36px;height:20px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--switch-bg);transition:background-color .3s ease}.slider:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:var(--switch-knob);transition:transform .3s ease,background-color .3s ease}input:checked+.slider{background-color:var(--color-accent)}input:focus+.slider{box-shadow:0 0 1px var(--color-accent)}input:checked+.slider:before{transform:translate(16px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}#metricsTable.paused{opacity:.5;filter:grayscale(50%)}#metricsTable dt,#streamMetricsTable dt{font-size:4cqh;color:var(--color-text-secondary);margin-top:0;transition:color .3s ease}#streamMetricsTable dt{font-size:4cqh}#metricsTable dt:first-child,#streamMetricsTable dt:first-child{margin-top:0}#metricsTable dd{font-size:18cqh;font-weight:700;color:var(--color-text-primary);margin-bottom:0;line-height:.9;transition:color .3s ease}#streamMetricsTable dd{font-size:14cqh;font-weight:700;color:var(--color-text-primary);margin-bottom:0;line-height:.9;transition:color .3s ease}#streamMetrics:not([style*="display: none"])~#yourMetrics #metricsTable dd{font-size:18cqh}#streamMetrics:not([style*="display: none"]) #streamMetricsTable dd{font-size:14cqh}@media(max-width:768px){#streamMetrics:not([style*="display: none"])~#yourMetrics #metricsTable dd{font-size:18cqh}#streamMetrics:not([style*="display: none"]) #streamMetricsTable dd{font-size:14cqh}}#streamMetrics:not([style*="display: none"])~#yourMetrics #metricsTable dt,#streamMetrics:not([style*="display: none"]) #streamMetricsTable dt{font-size:4cqh}.stream-modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:var(--modal-overlay);align-items:center;justify-content:center}.stream-modal-content{background-color:var(--modal-bg);border-radius:12px;width:90%;max-width:600px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 8px 24px var(--color-shadow);transition:background-color .3s ease,box-shadow .3s ease}.stream-modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--color-border);transition:border-color .3s ease}.stream-modal-header h2{font-size:24px;font-weight:600;color:var(--color-text-primary);margin:0;transition:color .3s ease}.close-button{background:none;border:none;font-size:32px;color:var(--color-text-secondary);cursor:pointer;padding:0;transition:color .3s ease;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .15s ease}.close-button:hover{background-color:var(--color-bg-hover)}.stream-modal-body{padding:20px 24px;overflow-y:auto;flex:1}.onboarding-modal{text-align:center}.onboarding-modal h2{display:flex;align-items:center;justify-content:center;gap:8px}.onboarding-modal #onboardingIcon{font-size:28px}.onboarding-modal p{margin:12px 0;line-height:1.6;color:var(--color-text-secondary)}.onboarding-modal ul{list-style:none;padding:0}.onboarding-modal li{padding:8px 0;border-bottom:1px solid var(--color-border)}.onboarding-modal li:last-child{border-bottom:none}.onboarding-modal kbd{display:inline-block;padding:4px 8px;font-family:monospace;font-size:14px;background-color:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:4px;box-shadow:0 1px 1px #0000001a}.onboarding-modal table{border-collapse:collapse}.onboarding-modal td{padding:6px 12px}.onboarding-modal input[type=number]{background-color:var(--color-bg-primary);color:var(--color-text-primary);border-color:var(--color-border)}.onboarding-modal input[type=number]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 3px #2196f333}.stream-list-container{display:flex;flex-direction:column;gap:12px}.refresh-button{padding:10px 16px;font-size:14px;border:1px solid var(--color-border);border-radius:6px;background-color:var(--color-bg-primary);color:var(--color-text-primary);cursor:pointer;font-weight:500;transition:background-color .15s ease,border-color .3s ease,color .3s ease}.refresh-button:hover{background-color:var(--color-bg-secondary)}.streams-list{display:flex;flex-direction:column;gap:8px}.stream-item{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border:1px solid var(--color-border);border-radius:8px;background-color:var(--color-bg-primary);transition:box-shadow .15s ease,background-color .3s ease,border-color .3s ease}.stream-item:hover{box-shadow:0 2px 8px var(--color-shadow)}.stream-item-info{flex:1}.stream-item-name{font-weight:600;font-size:15px;color:var(--color-text-primary);margin-bottom:4px;transition:color .3s ease}.stream-item-meta{font-size:13px;color:var(--color-text-muted);transition:color .3s ease}.connect-button{padding:6px 12px;font-size:13px;border:1px solid #1f883d;border-radius:6px;background-color:#1f883d;color:#fff;cursor:pointer;font-weight:500;transition:background-color .15s ease}.connect-button:hover{background-color:#1a7f37}.loading,.no-streams,.error{text-align:center;padding:24px;color:var(--color-text-muted);font-size:14px;transition:color .3s ease}.error{color:var(--color-error)}.stream-viewer-container{display:flex;flex-direction:column;gap:16px}.viewer-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid var(--color-border);transition:border-color .3s ease}.viewer-header h3{font-size:18px;font-weight:600;color:var(--color-text-primary);margin:0;transition:color .3s ease}.disconnect-button{padding:6px 12px;font-size:13px;border:1px solid var(--color-border);border-radius:6px;background-color:var(--color-bg-primary);color:var(--color-text-primary);cursor:pointer;font-weight:500;transition:background-color .15s ease,border-color .3s ease,color .3s ease}.disconnect-button:hover{background-color:var(--color-bg-secondary)}.viewer-status{display:flex;align-items:center;gap:8px}.status-badge{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;display:inline-block}.status-badge.connecting{background-color:#fef3c7;color:#92400e}.status-badge.connected{background-color:#d1fae5;color:#065f46}.status-badge.error{background-color:#fee2e2;color:#991b1b}.status-badge.disconnected{background-color:#fef3c7;color:#92400e;animation:pulse-warning 2s ease-in-out infinite}.status-badge.reconnecting{background-color:#dbeafe;color:#1e40af;animation:pulse-warning 1s ease-in-out infinite}@keyframes pulse-warning{0%,to{opacity:1}50%{opacity:.6}}.viewer-metrics{display:grid;grid-template-columns:auto 1fr;gap:12px 16px;padding:16px;background-color:#f6f8fa;border-radius:8px}.viewer-metrics dt{font-weight:600;color:#656d76;font-size:14px}.viewer-metrics dd{font-size:20px;font-weight:700;color:#1f2328;text-align:right;font-variant-numeric:tabular-nums}.last-update{font-size:12px;color:#656d76;text-align:center;font-style:italic}#startStreamButton.streaming{background-color:#cf222e;color:#fff}#startStreamButton.streaming:hover{background-color:#a40e26}.stream-toolbar{position:fixed;top:0;left:0;width:100%;height:40px;background-color:#24292f;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 16px;z-index:1000;box-shadow:0 2px 4px #0003}.stream-info{display:flex;align-items:center;gap:8px;font-size:14px}.stream-indicator{color:#f44;animation:pulse 2s infinite}.stream-indicator.paused{color:#fb8c00;animation:none}.stream-label{color:#8b949e}.stream-name{font-weight:600;color:#58a6ff}.stream-controls{display:flex;gap:8px}.stream-control-btn{background:transparent;border:1px solid #30363d;color:#c9d1d9;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s}.stream-control-btn:hover{background:#30363d;color:#fff}.stream-control-btn.stop:hover{background:#da3633;border-color:#da3633}@keyframes pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}body.has-stream-toolbar header{margin-top:40px}.streams-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;width:100%;padding:10px;overflow-y:auto;max-height:calc(100vh - 150px)}.stream-card{background:#f8f9fa;border:1px solid #e1e4e8;border-radius:8px;padding:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;box-shadow:0 1px 3px #0000000d}.stream-card-name{font-size:14px;font-weight:600;color:#333;margin-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.stream-card-power{font-size:28px;font-weight:700;color:#2196f3;margin-bottom:8px}.stream-card-power:after{content:"W";font-size:14px;font-weight:400;color:#666;margin-left:2px}.stream-card-secondary{display:flex;justify-content:space-around;width:100%;font-size:12px;color:#666}.stream-card-metric{display:flex;flex-direction:column;align-items:center}.stream-card-metric span:first-child{font-size:10px;margin-bottom:2px}.stream-card-metric span:last-child{font-weight:600;color:#333}.view-toggle-btn{background:transparent;border:1px solid #d0d7de;border-radius:6px;padding:4px 8px;cursor:pointer;font-size:16px;transition:background-color .15s ease}.view-toggle-btn:hover{background-color:#f3f4f6}.view-toggle-btn.active{background-color:#e1e4e8}.streams-compact-list{display:flex;flex-direction:column;gap:4px;width:100%;padding:10px;overflow-y:auto;max-height:calc(100vh - 150px)}.stream-row{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:#f8f9fa;border:1px solid #e1e4e8;border-radius:6px;font-size:14px}.stream-row-name{font-weight:600;color:#333;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:12px}.stream-row-power{font-weight:700;color:#2196f3;min-width:60px;text-align:right}.stream-row-power:after{content:"W";font-size:11px;font-weight:400;color:#666;margin-left:2px}.workout-controls{display:flex;justify-content:space-between;align-items:center;padding:8px 0;margin-bottom:12px;border-bottom:1px solid #e1e4e8}.workout-pagination{display:flex;align-items:center;gap:8px}.workout-control-btn{background:transparent;border:1px solid #d0d7de;border-radius:6px;padding:6px 10px;cursor:pointer;font-size:14px;transition:background-color .15s ease}.workout-control-btn:hover:not(:disabled){background-color:#f3f4f6}.workout-control-btn:disabled{opacity:.5;cursor:not-allowed}#historyPageInfo{font-size:13px;color:#666}.workout-list{display:flex;flex-direction:column;gap:12px}.workout-loading,.workout-empty,.workout-error{text-align:center;padding:40px 20px;color:#666}.workout-empty-hint,.workout-error-detail{font-size:13px;color:#999;margin-top:8px}.workout-error{color:#d32f2f}.workout-card{background:#f8f9fa;border:1px solid #e1e4e8;border-radius:8px;padding:12px;transition:box-shadow .15s ease}.workout-card:hover{box-shadow:0 2px 8px #0000001a}.workout-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.workout-title{font-weight:600;font-size:15px;color:#333}.workout-status{font-size:11px;font-weight:500;padding:2px 8px;border-radius:12px;text-transform:uppercase}.workout-status-active{background:#e3f2fd;color:#1976d2}.workout-status-completed{background:#e8f5e9;color:#388e3c}.workout-status-paused{background:#fff3e0;color:#f57c00}.workout-status-archived{background:#f5f5f5;color:#757575}.workout-status-deleted{background:#ffebee;color:#c62828}.workout-card-body{margin-bottom:8px}.workout-date{font-size:13px;color:#666;margin-bottom:6px}.workout-stats{display:flex;flex-wrap:wrap;gap:8px}.workout-stat{font-size:12px;color:#555;background:#fff;padding:2px 6px;border-radius:4px;border:1px solid #e1e4e8}.workout-card-actions{display:flex;justify-content:flex-end;gap:8px;padding-top:8px;border-top:1px solid #e1e4e8}.workout-view-btn,.workout-delete-btn{background:transparent;border:1px solid #d0d7de;border-radius:6px;padding:4px 10px;cursor:pointer;font-size:13px;transition:background-color .15s ease}.workout-view-btn:hover{background-color:#e3f2fd;border-color:#2196f3}.workout-delete-btn:hover{background-color:#ffebee;border-color:#f44336}.workout-detail{padding:0}.workout-detail-header{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #e1e4e8}.workout-detail-header h3{flex:1;font-size:18px;color:#333}.workout-back-btn{background:transparent;border:1px solid #d0d7de;border-radius:6px;padding:6px 12px;cursor:pointer;font-size:13px;transition:background-color .15s ease}.workout-back-btn:hover{background-color:#f3f4f6}.workout-detail-meta{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:16px}.meta-item{background:#f8f9fa;padding:10px;border-radius:6px}.meta-label{display:block;font-size:11px;color:#666;text-transform:uppercase;margin-bottom:4px}.meta-value{font-size:14px;font-weight:500;color:#333}.workout-detail-summary{margin-bottom:16px}.workout-detail-summary h4{font-size:14px;color:#666;margin-bottom:10px}.summary-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px}.summary-item{background:#f8f9fa;padding:10px;border-radius:6px;text-align:center}.summary-label{display:block;font-size:10px;color:#666;text-transform:uppercase;margin-bottom:4px}.summary-value{font-size:16px;font-weight:600;color:#2196f3}.workout-detail-description{margin-bottom:16px}.workout-detail-description h4{font-size:14px;color:#666;margin-bottom:8px}.workout-detail-description p{font-size:14px;color:#333;line-height:1.5}.workout-detail-actions{display:flex;justify-content:flex-end;gap:8px;padding-top:12px;border-top:1px solid #e1e4e8}.workout-export-btn{background:#2196f3;color:#fff;border:none;border-radius:6px;padding:8px 16px;cursor:pointer;font-size:13px;font-weight:500;transition:background-color .15s ease}.workout-export-btn:hover{background-color:#1976d2}.custom-modal{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease}.custom-modal.modal-visible{opacity:1;visibility:visible}.custom-modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080}[data-theme=dark] .custom-modal-overlay{background-color:#000000b3}.custom-modal-container{position:relative;background-color:var(--modal-bg);border-radius:12px;width:90%;max-width:480px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 8px 32px var(--color-shadow-strong);transform:scale(.95);transition:transform .2s ease,background-color .3s ease}.modal-visible .custom-modal-container{transform:scale(1)}.custom-modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--color-border)}.custom-modal-header h2{font-size:18px;font-weight:600;color:var(--color-text-primary);margin:0}.modal-close-btn{background:none;border:none;font-size:24px;color:var(--color-text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;line-height:1;transition:background-color .15s ease}.modal-close-btn:hover{background-color:var(--color-bg-hover)}.custom-modal-body{padding:20px;overflow-y:auto;flex:1}.custom-modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid var(--color-border)}.modal-btn{padding:10px 18px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .15s ease,border-color .15s ease}.modal-btn-primary{background-color:var(--color-accent);color:#fff;border:1px solid var(--color-accent)}.modal-btn-primary:hover{background-color:var(--color-accent-hover);border-color:var(--color-accent-hover)}.modal-btn-secondary{background-color:var(--color-bg-primary);color:var(--color-text-primary);border:1px solid var(--color-border)}.modal-btn-secondary:hover{background-color:var(--color-bg-hover)}.modal-btn-danger{background-color:var(--color-error);color:#fff;border:1px solid var(--color-error)}.modal-btn-danger:hover{background-color:#b91c1c;border-color:#b91c1c}[data-theme=dark] .modal-btn-danger:hover{background-color:#dc2626;border-color:#dc2626}.modal-message{font-size:15px;color:var(--color-text-secondary);line-height:1.5;margin:0}.workout-summary{display:flex;flex-direction:column;gap:16px}.summary-duration{display:flex;flex-direction:column;align-items:center;padding:16px;background-color:var(--color-bg-secondary);border-radius:8px}.summary-duration .summary-label{font-size:13px;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.summary-duration .summary-value{font-size:32px;font-weight:700;color:var(--color-accent);margin-top:4px}.summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px}.summary-metric{display:flex;flex-direction:column;align-items:center;padding:12px;background-color:var(--color-bg-secondary);border-radius:8px;text-align:center}.summary-metric-icon{font-size:20px;margin-bottom:4px}.summary-metric-label{font-size:12px;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.summary-metric-values{display:flex;flex-direction:column;gap:4px}.summary-avg,.summary-max{font-size:13px;color:var(--color-text-primary)}.summary-avg{font-weight:600}.summary-max{color:var(--color-text-secondary)}.summary-samples{text-align:center;padding-top:8px;border-top:1px solid var(--color-border)}.summary-samples-text{font-size:12px;color:var(--color-text-muted)}.zone-distribution{margin-top:16px;padding-top:16px;border-top:1px solid var(--color-border)}.zone-distribution-title{font-size:14px;font-weight:600;color:var(--color-text-primary);margin:0 0 12px;text-align:center}.zone-chart{display:flex;flex-direction:column;gap:6px}.zone-bar-row{display:flex;align-items:center;gap:8px}.zone-bar-label{font-size:11px;font-weight:600;color:var(--color-text-secondary);width:24px;text-align:right;flex-shrink:0}.zone-bar-container{flex:1;height:16px;background:var(--color-bg-tertiary, #e1e4e8);border-radius:4px;overflow:hidden}.zone-bar{height:100%;border-radius:4px;transition:width .3s ease;min-width:4px}.zone-bar-time{font-size:11px;color:var(--color-text-secondary);width:40px;text-align:left;flex-shrink:0;font-variant-numeric:tabular-nums}[data-high-contrast=true] .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(255,255,255,.3) 2px,rgba(255,255,255,.3) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(1) .zone-bar{background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(2) .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(3) .zone-bar{background-image:repeating-linear-gradient(0deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(4) .zone-bar{background-image:repeating-linear-gradient(-45deg,transparent,transparent 4px,rgba(255,255,255,.4) 4px,rgba(255,255,255,.4) 8px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(5) .zone-bar{background-image:repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(6) .zone-bar{background-image:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}[data-colorblind-patterns=true] .zone-bar-row:nth-child(7) .zone-bar{background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,255,255,.4) 2px,rgba(255,255,255,.4) 4px)}.live-charts-container{display:flex;flex-direction:column;gap:8px;padding:8px;width:100%;max-width:600px;margin:0 auto}.live-charts-container.hidden{display:none}.live-charts-header{display:flex;justify-content:space-between;align-items:center;padding:4px 0}.live-charts-title{font-size:12px;font-weight:600;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.charts-toggle-btn{display:flex;align-items:center;gap:4px;padding:4px 8px;font-size:11px;font-weight:500;color:var(--color-text-secondary);background-color:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:4px;cursor:pointer;transition:all .15s ease}.charts-toggle-btn:hover{background-color:var(--color-bg-hover);color:var(--color-text-primary)}.charts-toggle-btn:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}.charts-toggle-btn[aria-pressed=true]{background-color:var(--color-accent);color:#fff;border-color:var(--color-accent)}.charts-toggle-btn .toggle-icon{font-size:14px}.charts-wrapper{display:flex;gap:8px}.live-charts-wrapper.hidden{display:none}@media(max-width:480px){.charts-wrapper{flex-direction:column}}.connection-error-content{display:flex;flex-direction:column;gap:16px}.connection-error-message{font-size:15px;color:var(--color-text-secondary);line-height:1.5;margin:0}.connection-error-troubleshooting{background-color:var(--color-bg-secondary);border-radius:8px;padding:16px;border-left:3px solid var(--color-accent)}.connection-error-troubleshooting h3{font-size:14px;font-weight:600;color:var(--color-text-primary);margin:0 0 12px}.connection-error-troubleshooting ul{margin:0;padding:0 0 0 20px;list-style-type:disc}.connection-error-troubleshooting li{font-size:13px;color:var(--color-text-secondary);line-height:1.6;margin-bottom:4px}.connection-error-troubleshooting li:last-child{margin-bottom:0}@media(max-width:480px){.custom-modal-container{width:95%;max-height:90vh}.custom-modal-footer{flex-direction:column}.modal-btn{width:100%;text-align:center}.summary-grid{grid-template-columns:1fr}.connection-error-troubleshooting{padding:12px}.connection-error-troubleshooting li{font-size:12px}}.undo-notification{position:fixed;bottom:24px;left:50%;transform:translate(-50%) translateY(100px);background-color:var(--color-bg-tertiary);border:1px solid var(--color-border);border-radius:12px;box-shadow:0 8px 32px var(--color-shadow-strong);z-index:2001;min-width:300px;max-width:90%;overflow:hidden;opacity:0;transition:transform .3s ease,opacity .3s ease}.undo-notification-visible{transform:translate(-50%) translateY(0);opacity:1}.undo-notification-hiding{transform:translate(-50%) translateY(100px);opacity:0}.undo-notification-content{display:flex;align-items:center;gap:12px;padding:16px 16px 12px}.undo-notification-icon{font-size:24px;flex-shrink:0}.undo-notification-message{font-size:14px;font-weight:500;color:var(--color-text-primary);flex:1}.undo-notification-actions{display:flex;justify-content:flex-end;padding:0 16px 16px}.undo-notification-btn{background-color:var(--color-accent);color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:600;cursor:pointer;transition:background-color .15s ease}.undo-notification-btn:hover{background-color:var(--color-accent-hover)}.undo-notification-btn:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}.undo-countdown{font-weight:400;opacity:.8}.undo-progress-bar{height:3px;background-color:var(--color-border);position:relative}.undo-progress-fill{height:100%;width:100%;background-color:var(--color-accent);transition:width linear}@media(prefers-reduced-motion:reduce){.undo-notification,.undo-progress-fill{transition:none}}@media(max-width:480px){.undo-notification{bottom:16px;min-width:280px;left:16px;right:16px;transform:translate(0) translateY(100px);max-width:calc(100% - 32px)}.undo-notification-visible{transform:translate(0) translateY(0)}.undo-notification-hiding{transform:translate(0) translateY(100px)}.undo-notification-content{padding:12px 12px 8px}.undo-notification-actions{padding:0 12px 12px}.undo-notification-btn{width:100%;padding:10px 16px}}@media(orientation:landscape)and (max-height:500px){header{min-height:6vh;padding:0 1vw}header h1{font-size:16px}.workout-btn{padding:4px 8px;font-size:16px;min-width:36px;min-height:36px}#mainContent{flex-direction:row}.metrics-section{padding:0}.section-header{padding:4px 8px;min-height:32px;height:8cqh}#metricsTable,#streamMetricsTable{flex-direction:row;flex-wrap:wrap;justify-content:space-around;padding:0 8px}.metric-group{flex:1 1 30%;min-width:100px;padding:4px}#metricsTable dd{font-size:14cqh}#streamMetricsTable dd{font-size:12cqh}#metricsTable dt,#streamMetricsTable dt{font-size:3cqh}.lap-counter{font-size:12px;padding:2px 6px}details{left:8px}summary{font-size:20px;padding:4px}.stream-modal-content{max-height:95vh}.stream-modal-header,.stream-modal-body{padding:12px 16px}}@media(orientation:landscape)and (min-height:501px)and (max-height:800px){#metricsTable,#streamMetricsTable{flex-direction:row;flex-wrap:wrap;justify-content:space-around}.metric-group{flex:1 1 30%;min-width:120px}}[data-high-contrast=true]{--color-text-primary: #000000;--color-text-secondary: #1a1a1a;--color-text-muted: #333333;--color-bg-primary: #ffffff;--color-bg-secondary: #f0f0f0;--color-border: #000000;--color-border-strong: #000000;--color-accent: #0000cc;--color-accent-hover: #000099;--color-success: #006600;--color-error: #cc0000;--color-warning: #996600}[data-theme=dark][data-high-contrast=true],[data-high-contrast=true][data-theme=dark]{--color-text-primary: #ffffff;--color-text-secondary: #e0e0e0;--color-text-muted: #cccccc;--color-bg-primary: #000000;--color-bg-secondary: #1a1a1a;--color-border: #ffffff;--color-border-strong: #ffffff;--color-accent: #66b3ff;--color-accent-hover: #99ccff;--color-success: #66ff66;--color-error: #ff6666;--color-warning: #ffcc66}[data-high-contrast=true] .zone-1,[data-high-contrast=true] .zone-recovery{background:repeating-linear-gradient(45deg,#4a90d9,#4a90d9 5px,#6aa8f0 5px 10px)!important;border:3px solid #2563eb!important}[data-high-contrast=true] .zone-2,[data-high-contrast=true] .zone-endurance{background:repeating-linear-gradient(90deg,#22c55e,#22c55e 5px,#4ade80 5px 10px)!important;border:3px solid #16a34a!important}[data-high-contrast=true] .zone-3,[data-high-contrast=true] .zone-tempo{background:repeating-linear-gradient(-45deg,#eab308,#eab308 5px,#facc15 5px 10px)!important;border:3px solid #ca8a04!important}[data-high-contrast=true] .zone-4,[data-high-contrast=true] .zone-threshold{background:repeating-linear-gradient(0deg,#f97316,#f97316 5px,#fb923c 5px 10px)!important;border:3px solid #ea580c!important}[data-high-contrast=true] .zone-5,[data-high-contrast=true] .zone-vo2max,[data-high-contrast=true] .zone-anaerobic{background:repeating-linear-gradient(135deg,#ef4444,#ef4444 5px,#f87171 5px 10px)!important;border:3px solid #dc2626!important}[data-high-contrast=true] :focus-visible{outline:4px solid #000000!important;outline-offset:3px!important;box-shadow:0 0 0 6px #fff,0 0 0 10px #000!important}[data-theme=dark][data-high-contrast=true] :focus-visible{outline:4px solid #ffffff!important;outline-offset:3px!important;box-shadow:0 0 0 6px #000,0 0 0 10px #fff!important}[data-high-contrast=true] button,[data-high-contrast=true] .workout-btn{border:2px solid currentColor!important}[data-high-contrast=true] #metricsTable dd,[data-high-contrast=true] #streamMetricsTable dd{text-decoration-line:underline;text-decoration-style:dotted;text-underline-offset:4px}[data-high-contrast=true] .slider{border:2px solid var(--color-border)}[data-high-contrast=true] input:checked+.slider{background-color:var(--color-success)}@media(prefers-contrast:more){:root{--color-text-primary: #000000;--color-text-secondary: #1a1a1a;--color-border: #000000;--color-accent: #0000cc}button,.workout-btn{border:2px solid currentColor!important}:focus-visible{outline:4px solid #000000!important;outline-offset:3px!important}}.metric-group[data-order="1"]{order:1}.metric-group[data-order="2"]{order:2}.metric-group[data-order="3"]{order:3}.metric-group[data-order="4"]{order:4}.metric-group[data-order="5"]{order:5}.metric-group[data-order="6"]{order:6}.metric-group-power[data-show-avg=true] dd:after{content:" (3s)";font-size:.4em;color:var(--color-text-muted);vertical-align:super}.metric-group.metric-hidden{display:none!important}.settings-fieldset{border:1px solid var(--color-border);border-radius:8px;padding:16px;margin-bottom:20px}.settings-fieldset legend{font-weight:600;color:var(--color-text-primary);padding:0 8px}.settings-section-title{font-size:14px;font-weight:600;color:var(--color-text-secondary);margin:16px 0 12px;padding-bottom:8px;border-bottom:1px solid var(--color-border)}.settings-option{display:flex;align-items:center;gap:10px;cursor:pointer;padding:8px 0}.settings-option input[type=checkbox]{width:20px;height:20px;accent-color:var(--color-accent)}.settings-option span{font-size:16px;color:var(--color-text-primary)}.settings-toggle{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-top:1px solid var(--color-border)}.settings-toggle:first-of-type{border-top:none}.settings-toggle-label{font-size:14px;color:var(--color-text-primary)}.settings-toggle-sublabel{font-size:12px;color:var(--color-text-muted);margin-top:2px}
