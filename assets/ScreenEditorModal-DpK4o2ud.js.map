{"version":3,"file":"ScreenEditorModal-DpK4o2ud.js","sources":["../../src/components/data-fields/ScreenEditorModal.ts"],"sourcesContent":["/**\n * Screen Editor Component\n *\n * Modal component for editing individual data screens:\n * - Edit screen name and icon\n * - Add/remove data fields\n * - Configure field sizes and positions\n * - Preview screen layout\n *\n * @module ScreenEditorComponent\n */\n\nimport type { DataScreen, DataFieldSlot, DataFieldSize, ScreenStyle } from '../../data-fields/types.js';\nimport { STYLE_INFO } from '../../data-fields/types.js';\nimport { getAllDataFields } from '../../data-fields/registry.js';\n\n/**\n * Event detail for screen-updated event\n */\nexport interface ScreenUpdatedEvent {\n    screen: DataScreen;\n}\n\n/**\n * Web Component for detailed screen editing\n */\nexport class ScreenEditorModal extends HTMLElement {\n    private screen: DataScreen | null = null;\n    private isOpen = false;\n    private onSaveCallback: ((screen: DataScreen) => void) | null = null;\n    public shadowRoot!: ShadowRoot;\n\n    constructor() {\n        super();\n        this.shadowRoot = this.attachShadow({ mode: 'open' });\n    }\n\n    connectedCallback(): void {\n        this.render();\n    }\n\n    /**\n     * Open the editor with a screen to edit\n     */\n    public open(screen: DataScreen, onSave: (screen: DataScreen) => void): void {\n        this.screen = JSON.parse(JSON.stringify(screen)); // Deep clone\n        this.onSaveCallback = onSave;\n        this.isOpen = true;\n        this.render();\n        this.attachEventListeners();\n    }\n\n    /**\n     * Close the editor\n     */\n    public close(): void {\n        this.isOpen = false;\n        this.screen = null;\n        this.onSaveCallback = null;\n        this.render();\n    }\n\n    /**\n     * Render the component UI\n     */\n    private render(): void {\n        if (!this.isOpen || !this.screen) {\n            this.shadowRoot.innerHTML = '';\n            return;\n        }\n\n        // Store values in local variables for use in template literal\n        const currentStyle: ScreenStyle = this.screen.style ?? 'default';\n\n        this.shadowRoot.innerHTML = `\n            <style>\n                :host {\n                    display: block;\n                }\n\n                .modal-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(0, 0, 0, 0.5);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 1000;\n                    padding: 1rem;\n                }\n\n                .modal {\n                    background: var(--card-bg, white);\n                    border-radius: 12px;\n                    width: 100%;\n                    max-width: 800px;\n                    max-height: 90vh;\n                    display: flex;\n                    flex-direction: column;\n                    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\n                }\n\n                .modal-header {\n                    padding: 1.5rem;\n                    border-bottom: 1px solid var(--border-color, #ccc);\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                }\n\n                .modal-header h2 {\n                    margin: 0;\n                    font-size: 1.5rem;\n                }\n\n                .close-btn {\n                    background: none;\n                    border: none;\n                    font-size: 1.5rem;\n                    cursor: pointer;\n                    padding: 0.25rem 0.5rem;\n                    color: var(--text-color, #333);\n                }\n\n                .modal-body {\n                    padding: 1.5rem;\n                    overflow-y: auto;\n                    flex: 1;\n                }\n\n                .modal-footer {\n                    padding: 1rem 1.5rem;\n                    border-top: 1px solid var(--border-color, #ccc);\n                    display: flex;\n                    gap: 1rem;\n                    justify-content: flex-end;\n                }\n\n                .section {\n                    margin-bottom: 2rem;\n                }\n\n                .section h3 {\n                    margin: 0 0 1rem 0;\n                    font-size: 1.1rem;\n                    color: var(--text-color, #333);\n                }\n\n                .form-group {\n                    margin-bottom: 1rem;\n                }\n\n                .form-group label {\n                    display: block;\n                    margin-bottom: 0.5rem;\n                    font-weight: 500;\n                    color: var(--text-muted, #666);\n                }\n\n                .form-group input,\n                .form-group select {\n                    width: 100%;\n                    padding: 0.75rem;\n                    border: 1px solid var(--border-color, #ccc);\n                    border-radius: 6px;\n                    font-size: 1rem;\n                    box-sizing: border-box;\n                }\n\n                .form-group input:focus,\n                .form-group select:focus {\n                    outline: none;\n                    border-color: var(--primary-color, #007bff);\n                }\n\n                .icon-picker {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\n                    gap: 0.5rem;\n                    max-height: 150px;\n                    overflow-y: auto;\n                    padding: 0.5rem;\n                    border: 1px solid var(--border-color, #ccc);\n                    border-radius: 6px;\n                }\n\n                .icon-option {\n                    padding: 0.75rem;\n                    border: 2px solid transparent;\n                    border-radius: 6px;\n                    cursor: pointer;\n                    text-align: center;\n                    font-size: 1.5rem;\n                    transition: all 0.2s;\n                }\n\n                .icon-option:hover {\n                    background: var(--hover-bg, #f0f0f0);\n                }\n\n                .icon-option.selected {\n                    border-color: var(--primary-color, #007bff);\n                    background: var(--primary-light, #e3f2fd);\n                }\n\n                .fields-list {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 0.5rem;\n                    max-height: 300px;\n                    overflow-y: auto;\n                }\n\n                .field-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    padding: 0.75rem;\n                    background: var(--card-bg, #f8f9fa);\n                    border: 1px solid var(--border-color, #ccc);\n                    border-radius: 6px;\n                }\n\n                .field-item-info {\n                    flex: 1;\n                }\n\n                .field-item-name {\n                    font-weight: 500;\n                    margin-bottom: 0.25rem;\n                }\n\n                .field-item-id {\n                    font-size: 0.875rem;\n                    color: var(--text-muted, #666);\n                }\n\n                .field-item select {\n                    padding: 0.5rem;\n                    border: 1px solid var(--border-color, #ccc);\n                    border-radius: 4px;\n                }\n\n                .field-actions {\n                    display: flex;\n                    gap: 0.5rem;\n                }\n\n                .btn-icon {\n                    background: none;\n                    border: none;\n                    cursor: pointer;\n                    padding: 0.5rem;\n                    font-size: 1.25rem;\n                    border-radius: 4px;\n                }\n\n                .btn-icon:hover {\n                    background: var(--hover-bg, #f0f0f0);\n                }\n\n                .add-field-section {\n                    margin-top: 1rem;\n                    padding: 1rem;\n                    border: 2px dashed var(--border-color, #ccc);\n                    border-radius: 6px;\n                }\n\n                .add-field-section h4 {\n                    margin: 0 0 1rem 0;\n                    font-size: 1rem;\n                }\n\n                .available-fields {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n                    gap: 0.5rem;\n                    max-height: 200px;\n                    overflow-y: auto;\n                }\n\n                .available-field {\n                    padding: 0.75rem;\n                    background: var(--card-bg, white);\n                    border: 1px solid var(--border-color, #ccc);\n                    border-radius: 6px;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                }\n\n                .available-field:hover {\n                    background: var(--primary-light, #e3f2fd);\n                    border-color: var(--primary-color, #007bff);\n                }\n\n                .available-field.disabled {\n                    opacity: 0.5;\n                    cursor: not-allowed;\n                }\n\n                .available-field-name {\n                    font-weight: 500;\n                    margin-bottom: 0.25rem;\n                }\n\n                .available-field-category {\n                    font-size: 0.875rem;\n                    color: var(--text-muted, #666);\n                }\n\n                button {\n                    padding: 0.75rem 1.5rem;\n                    border-radius: 6px;\n                    border: none;\n                    cursor: pointer;\n                    font-size: 1rem;\n                    font-weight: 500;\n                    transition: all 0.2s;\n                }\n\n                .btn-primary {\n                    background: var(--primary-color, #007bff);\n                    color: white;\n                }\n\n                .btn-primary:hover {\n                    background: var(--primary-hover, #0056b3);\n                }\n\n                .btn-secondary {\n                    background: var(--secondary-bg, #6c757d);\n                    color: white;\n                }\n\n                .btn-secondary:hover {\n                    background: var(--secondary-hover, #5a6268);\n                }\n\n                .empty-state {\n                    text-align: center;\n                    padding: 2rem;\n                    color: var(--text-muted, #666);\n                }\n\n                @media (max-width: 768px) {\n                    .modal {\n                        max-width: 100%;\n                        max-height: 100vh;\n                        border-radius: 0;\n                    }\n\n                    .icon-picker {\n                        grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));\n                    }\n\n                    .available-fields {\n                        grid-template-columns: 1fr;\n                    }\n                }\n            </style>\n\n            <div class=\"modal-overlay\">\n                <div class=\"modal\">\n                    <div class=\"modal-header\">\n                        <h2>üìä Edit Screen</h2>\n                        <button class=\"close-btn\" id=\"closeBtn\" aria-label=\"Close\">√ó</button>\n                    </div>\n\n                    <div class=\"modal-body\">\n                        <!-- Basic Info Section -->\n                        <div class=\"section\">\n                            <h3>Basic Information</h3>\n                            \n                            <div class=\"form-group\">\n                                <label for=\"screenName\">Screen Name</label>\n                                <input \n                                    type=\"text\" \n                                    id=\"screenName\" \n                                    value=\"${this.screen.name}\"\n                                    placeholder=\"e.g., Power Focus\"\n                                />\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label>Screen Icon</label>\n                                <div class=\"icon-picker\">\n                                    ${this.renderIconPicker()}\n                                </div>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"screenLayout\">Layout Mode</label>\n                                <select id=\"screenLayout\">\n                                    <option value=\"auto\" ${this.screen.layout === 'auto' ? 'selected' : ''}>\n                                        Auto (fits field count)\n                                    </option>\n                                    <option value=\"grid-2\" ${this.screen.layout === 'grid-2' ? 'selected' : ''}>\n                                        Grid - 2 Columns\n                                    </option>\n                                    <option value=\"grid-3\" ${this.screen.layout === 'grid-3' ? 'selected' : ''}>\n                                        Grid - 3 Columns\n                                    </option>\n                                    <option value=\"grid-4\" ${this.screen.layout === 'grid-4' ? 'selected' : ''}>\n                                        Grid - 4 Columns\n                                    </option>\n                                    <option value=\"list\" ${this.screen.layout === 'list' ? 'selected' : ''}>\n                                        List (1 Column)\n                                    </option>\n                                </select>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"screenStyle\">Visual Style</label>\n                                <select id=\"screenStyle\">\n                                    ${Object.values(STYLE_INFO)\n                .map(\n                    (style) => `\n                                        <option value=\"${style.id}\" ${currentStyle === style.id ? 'selected' : ''}>\n                                            ${style.icon} ${style.name} - ${style.description}\n                                        </option>\n                                    `\n                )\n                .join('')}\n                                </select>\n                            </div>\n                        </div>\n\n                        <!-- Data Fields Section -->\n                        <div class=\"section\">\n                            <h3>Data Fields (${this.screen.slots.length})</h3>\n                            \n                            ${this.screen.slots.length === 0\n                ? '<div class=\"empty-state\">No fields added yet. Add fields from below.</div>'\n                : `<div class=\"fields-list\">${this.renderFieldsList()}</div>`\n            }\n\n                            <div class=\"add-field-section\">\n                                <h4>‚ûï Add Data Field</h4>\n                                <div class=\"available-fields\">\n                                    ${this.renderAvailableFields()}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"modal-footer\">\n                        <button class=\"btn-secondary\" id=\"cancelBtn\">Cancel</button>\n                        <button class=\"btn-primary\" id=\"saveBtn\">Save Changes</button>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Render icon picker options\n     */\n    private renderIconPicker(): string {\n        const icons = ['üìä', '‚ö°', '‚ù§Ô∏è', 'üö¥', 'üèÉ', '‚õ∞Ô∏è', 'üî•', 'üí®', 'üìà', 'üéØ', '‚è±Ô∏è', 'üèÅ'];\n        return icons\n            .map(\n                (icon) => `\n            <div class=\"icon-option ${this.screen?.icon === icon ? 'selected' : ''}\" data-icon=\"${icon}\">\n                ${icon}\n            </div>\n        `\n            )\n            .join('');\n    }\n\n    /**\n     * Render list of current fields\n     */\n    private renderFieldsList(): string {\n        if (!this.screen) return '';\n\n        return this.screen.slots\n            .map(\n                (slot, index) => {\n                    const field = getAllDataFields().find((f) => f.id === slot.fieldId);\n                    if (!field) return '';\n\n                    return `\n                <div class=\"field-item\" data-slot-id=\"${slot.id}\">\n                    <div class=\"field-item-info\">\n                        <div class=\"field-item-name\">${field.name}</div>\n                        <div class=\"field-item-id\">${field.id}</div>\n                    </div>\n                    \n                    <select class=\"size-select\" data-slot-id=\"${slot.id}\">\n                        <option value=\"small\" ${slot.size === 'small' ? 'selected' : ''}>Small</option>\n                        <option value=\"medium\" ${slot.size === 'medium' ? 'selected' : ''}>Medium</option>\n                        <option value=\"large\" ${slot.size === 'large' ? 'selected' : ''}>Large</option>\n                        <option value=\"jumbo\" ${slot.size === 'jumbo' ? 'selected' : ''}>Jumbo</option>\n                    </select>\n\n                    <div class=\"field-actions\">\n                        <button class=\"btn-icon move-up\" data-index=\"${index}\" ${index === 0 ? 'disabled' : ''}>\n                            ‚Üë\n                        </button>\n                        <button class=\"btn-icon move-down\" data-index=\"${index}\" ${index === this.screen!.slots.length - 1 ? 'disabled' : ''\n                        }>\n                            ‚Üì\n                        </button>\n                        <button class=\"btn-icon remove-field\" data-slot-id=\"${slot.id}\">\n                            üóëÔ∏è\n                        </button>\n                    </div>\n                </div>\n            `;\n                }\n            )\n            .join('');\n    }\n\n    /**\n     * Render available fields to add\n     */\n    private renderAvailableFields(): string {\n        if (!this.screen) return '';\n\n        const usedFieldIds = new Set(this.screen.slots.map((s) => s.fieldId));\n\n        return getAllDataFields().map((field) => {\n            const isUsed = usedFieldIds.has(field.id);\n            return `\n                <div \n                    class=\"available-field ${isUsed ? 'disabled' : ''}\" \n                    data-field-id=\"${field.id}\"\n                    ${isUsed ? '' : 'role=\"button\" tabindex=\"0\"'}\n                >\n                    <div class=\"available-field-name\">${field.name}</div>\n                    <div class=\"available-field-category\">${field.category}</div>\n                </div>\n            `;\n        }).join('');\n    }\n\n    /**\n     * Attach event listeners\n     */\n    private attachEventListeners(): void {\n        // Close button\n        const closeBtn = this.shadowRoot.getElementById('closeBtn');\n        closeBtn?.addEventListener('click', () => this.close());\n\n        // Cancel button\n        const cancelBtn = this.shadowRoot.getElementById('cancelBtn');\n        cancelBtn?.addEventListener('click', () => this.close());\n\n        // Save button\n        const saveBtn = this.shadowRoot.getElementById('saveBtn');\n        saveBtn?.addEventListener('click', () => this.handleSave());\n\n        // Screen name input\n        const nameInput = this.shadowRoot.getElementById('screenName') as HTMLInputElement;\n        nameInput?.addEventListener('input', (e) => {\n            if (this.screen) {\n                this.screen.name = (e.target as HTMLInputElement).value;\n            }\n        });\n\n        // Layout select\n        const layoutSelect = this.shadowRoot.getElementById('screenLayout') as HTMLSelectElement;\n        layoutSelect?.addEventListener('change', (e) => {\n            if (this.screen) {\n                this.screen.layout = (e.target as HTMLSelectElement).value as any;\n            }\n        });\n\n        // Style select\n        const styleSelect = this.shadowRoot.getElementById('screenStyle') as HTMLSelectElement;\n        styleSelect?.addEventListener('change', (e) => {\n            if (this.screen) {\n                this.screen.style = (e.target as HTMLSelectElement).value as ScreenStyle;\n            }\n        });\n\n        // Icon picker\n        this.shadowRoot.querySelectorAll<HTMLElement>('.icon-option').forEach((el) => {\n            el.addEventListener('click', () => {\n                const icon = el.dataset.icon;\n                if (icon && this.screen) {\n                    this.screen.icon = icon;\n                    this.render();\n                    this.attachEventListeners();\n                }\n            });\n        });\n\n        // Field size selects\n        this.shadowRoot.querySelectorAll<HTMLSelectElement>('.size-select').forEach((select) => {\n            select.addEventListener('change', (e) => {\n                const slotId = (e.target as HTMLSelectElement).dataset.slotId;\n                const newSize = (e.target as HTMLSelectElement).value as DataFieldSize;\n                this.handleSizeChange(slotId!, newSize);\n            });\n        });\n\n        // Move field up/down\n        this.shadowRoot.querySelectorAll<HTMLButtonElement>('.move-up').forEach((btn) => {\n            btn.addEventListener('click', (e) => {\n                const index = parseInt((e.target as HTMLButtonElement).dataset.index || '0', 10);\n                this.handleMoveField(index, index - 1);\n            });\n        });\n\n        this.shadowRoot.querySelectorAll<HTMLButtonElement>('.move-down').forEach((btn) => {\n            btn.addEventListener('click', (e) => {\n                const index = parseInt((e.target as HTMLButtonElement).dataset.index || '0', 10);\n                this.handleMoveField(index, index + 1);\n            });\n        });\n\n        // Remove field\n        this.shadowRoot.querySelectorAll<HTMLButtonElement>('.remove-field').forEach((btn) => {\n            btn.addEventListener('click', (e) => {\n                const slotId = (e.target as HTMLButtonElement).dataset.slotId;\n                this.handleRemoveField(slotId!);\n            });\n        });\n\n        // Add field\n        this.shadowRoot.querySelectorAll<HTMLElement>('.available-field:not(.disabled)').forEach((el) => {\n            el.addEventListener('click', () => {\n                const fieldId = el.dataset.fieldId;\n                if (fieldId) {\n                    this.handleAddField(fieldId);\n                }\n            });\n        });\n\n        // Close on overlay click\n        const overlay = this.shadowRoot.querySelector('.modal-overlay');\n        overlay?.addEventListener('click', (e) => {\n            if (e.target === overlay) {\n                this.close();\n            }\n        });\n    }\n\n    /**\n     * Handle field size change\n     */\n    private handleSizeChange(slotId: string, newSize: DataFieldSize): void {\n        if (!this.screen) return;\n\n        const slot = this.screen.slots.find((s) => s.id === slotId);\n        if (slot) {\n            slot.size = newSize;\n        }\n    }\n\n    /**\n     * Handle moving field up/down\n     */\n    private handleMoveField(fromIndex: number, toIndex: number): void {\n        if (!this.screen || toIndex < 0 || toIndex >= this.screen.slots.length) return;\n\n        const slots = this.screen.slots;\n        const [movedSlot] = slots.splice(fromIndex, 1);\n        slots.splice(toIndex, 0, movedSlot);\n\n        // Update positions\n        slots.forEach((slot, index) => {\n            slot.position = index + 1;\n        });\n\n        this.render();\n        this.attachEventListeners();\n    }\n\n    /**\n     * Handle removing a field\n     */\n    private handleRemoveField(slotId: string): void {\n        if (!this.screen) return;\n\n        this.screen.slots = this.screen.slots.filter((s) => s.id !== slotId);\n\n        // Update positions\n        this.screen.slots.forEach((slot, index) => {\n            slot.position = index + 1;\n        });\n\n        this.render();\n        this.attachEventListeners();\n    }\n\n    /**\n     * Handle adding a new field\n     */\n    private handleAddField(fieldId: string): void {\n        if (!this.screen) return;\n\n        // Check if already added\n        if (this.screen.slots.some((s) => s.fieldId === fieldId)) {\n            return;\n        }\n\n        // Create new slot\n        const newSlot: DataFieldSlot = {\n            id: `slot-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n            fieldId,\n            size: 'medium',\n            position: this.screen.slots.length + 1,\n        };\n\n        this.screen.slots.push(newSlot);\n\n        this.render();\n        this.attachEventListeners();\n    }\n\n    /**\n     * Handle save\n     */\n    private handleSave(): void {\n        if (!this.screen || !this.onSaveCallback) return;\n\n        // Validate\n        if (!this.screen.name.trim()) {\n            alert('Please enter a screen name');\n            return;\n        }\n\n        // Call the save callback\n        this.onSaveCallback(this.screen);\n\n        // Close the editor\n        this.close();\n    }\n}\n\n// Register the custom element\ncustomElements.define('bpt-screen-editor-modal', ScreenEditorModal);\n"],"names":["ScreenEditorModal","screen","onSave","currentStyle","STYLE_INFO","style","icon","slot","index","field","getAllDataFields","f","usedFieldIds","s","isUsed","e","el","select","slotId","newSize","btn","fieldId","overlay","fromIndex","toIndex","slots","movedSlot","newSlot"],"mappings":"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"}