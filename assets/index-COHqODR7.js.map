{"version":3,"mappings":"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","names":["getTimestring","milliseconds","totalSeconds","hours","minutes","seconds","initTimerDisplay","timeState","startStopButton","timeElement","metricsTable","nextText","elapsedMs","nextStartButtonText","stoppedDuration","getValuesAtTimestamps","arr","timestamps","entries","index","ts","prevIndex","suggestedElem","isAfterLastPoint","prevTime","nextTime","mergeMeasurements","measurements","sources","data","firstTimestamps","startTime","endTime","timeStep","time","syncedHR","syncedCadence","syncedPower","dataPoints","i","point","getCsvString","header","rows","timestamp","power","cadence","heartrate","hrString","hr","cadenceString","powerString","getTcxTrackpoint","parts","getTcxString","firstTimestamp","lastTimestamp","totalTimeSeconds","startDate","initDiscardButton","measurementsState","initExportButton","now","exportData","jsonString","jsonBlob","jsonUrl","jsonLink","tcxString","tcxBlob","tcxUrl","tcxLink","csvString","csvBlob","csvUrl","csvLink","error","getElement","id","element","connectPowerElem","connectHeartrateElem","connectCadenceElem","powerElement","heartrateElement","cadenceElement","elements","initMetricsDisplay","connectionsState","updateMetricDisplay","key","emptyValue","latestMeasurement","metricTypes","connectCadenceBluetooth","listeners","lastCrankRevs","lastCrankTime","device","characteristic","event","value","flags","offset","crankRevs","crankTime","revDelta","timeDelta","timeInSeconds","rpm","entry","listener","callback","connectCadence","connectHeartRateBluetooth","heartRate","connectHeartRate","connectPowerBluetooth","connectPower","initConnectionButtons","emojis","disconnectFn","connectElem","displayElem","connectFn","connectFns","disconnect","addListener","MeasurementsState","type","getInitState","handleWakeLock","wakeLock","requestWakeLock","err","registerSW","options","immediate","onNeedRefresh","onOfflineReady","onRegistered","onRegisteredSW","onRegisterError","wb","registerPromise","updateServiceWorker","_reloadPage","register","__vitePreload","Workbox","e","r","registerServiceWorker","updateSW","showUpdateNotification","swUrl","registration","updateContainer","deferredPrompt","initInstallPrompt","showInstallButton","hideInstallButton","installContainer","outcome","initSettings","settingsButton","settingsModal","closeSettingsModal","saveSettingsButton","settingPower","settingCadence","settingHeartrate","loadSettings","settings","applySettings","saveSettings","closeModal","toggleMetric","metric","isVisible","el","openModal","details","exposeVariablesDuringTest"],"ignoreList":[],"sources":["../../src/getTimestring.js","../../src/ui/time.js","../../src/merge-measurements.js","../../src/create-csv.js","../../src/create-tcx.js","../../src/ui/menu.js","../../src/elements.js","../../src/initMetricsDisplay.js","../../src/connect-cadence.js","../../src/connect-heartrate.js","../../src/connect-power.js","../../src/initConnectionButtons.js","../../src/MeasurementsState.js","../../src/getInitState.js","../../src/ui/wakeLock.js","../../../../../@vite-plugin-pwa/virtual:pwa-register","../../src/ui/serviceWorker.js","../../src/ui/installPrompt.js","../../src/ui/settings.js","../../src/exposeVariablesDuringTest.js","../../src/main.js"],"sourcesContent":["export const getTimestring = (milliseconds) => {\n    const totalSeconds = Math.floor(milliseconds / 1000);\n    const hours = Math.floor(totalSeconds / 3600);\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\n    const seconds = totalSeconds % 60;\n    return (\n        `${hours.toString().padStart(2, '0')}:` +\n        `${minutes.toString().padStart(2, '0')}:` +\n        `${seconds.toString().padStart(2, '0')}`\n    );\n};\n","import { getTimestring } from '../getTimestring.js';\n\nexport const initTimerDisplay = (timeState) => {\n    const startStopButton = document.getElementById('startStop');\n    const timeElement = document.getElementById('time');\n    const metricsTable = document.getElementById('metricsTable');\n\n    setInterval(() => {\n        let nextText = '00:00:00';\n        if (timeState.startTime && timeState.running) {\n            const elapsedMs = Date.now() - timeState.startTime;\n            nextText = getTimestring(elapsedMs);\n        } else if (timeState.startTime && timeState.endTime) {\n            const elapsedMs = timeState.endTime - timeState.startTime;\n            nextText = getTimestring(elapsedMs);\n        }\n        if (timeElement.textContent !== nextText) {\n            timeElement.textContent = nextText;\n        }\n\n        const nextStartButtonText = timeState.running ? 'â¹ï¸' : 'â–¶ï¸';\n        if (startStopButton.textContent !== nextStartButtonText) {\n            startStopButton.textContent = nextStartButtonText;\n        }\n\n        // Update metrics table styling based on running state\n        if (timeState.running) {\n            metricsTable.classList.remove('paused');\n        } else {\n            metricsTable.classList.add('paused');\n        }\n    }, 100);\n\n    startStopButton.addEventListener('click', () => {\n        if (timeState.running) {\n            // Stop the workout (pause it, don't reset)\n            timeState.running = false;\n            timeState.endTime = Date.now();\n\n            // Change button to start\n            startStopButton.textContent = 'â–¶ï¸';\n        } else {\n            // Start/Resume the workout\n            if (timeState.endTime) {\n                // Resuming - adjust startTime to account for time stopped\n                const stoppedDuration = Date.now() - timeState.endTime;\n                timeState.startTime += stoppedDuration;\n                timeState.endTime = null;\n            } else {\n                // Starting fresh\n                timeState.startTime = Date.now();\n            }\n            timeState.running = true;\n            startStopButton.textContent = 'â¹ï¸';\n        }\n    });\n\n    // Allow clicking the time to toggle start/stop\n    timeElement.addEventListener('click', () => {\n        startStopButton.click();\n    });\n};\n","export const getValuesAtTimestamps = (arr, timestamps) => {\n    const entries = [];\n    let index = 0;\n    for (const ts of timestamps) {\n        while (index < arr.length && arr[index].timestamp < ts) {\n            index++;\n        }\n\n        const prevIndex = index - 1;\n        let suggestedElem = undefined;\n        const isAfterLastPoint = index >= arr.length;\n        if (prevIndex < 0) {\n            suggestedElem = arr?.[index];\n        } else if (isAfterLastPoint) {\n            suggestedElem = arr?.[prevIndex];\n        } else {\n            const prevTime = arr?.[prevIndex]?.timestamp ?? 0;\n            const nextTime = arr?.[index]?.timestamp ?? 0;\n            suggestedElem = ts - prevTime <= nextTime - ts ? arr?.[prevIndex] : arr?.[index];\n        }\n        if (suggestedElem?.timestamp) {\n            const distance = Math.abs(suggestedElem.timestamp - ts);\n            // Values must be strictly less than 1000ms away\n            if (distance < 1000) {\n                entries.push(suggestedElem.value);\n            } else {\n                entries.push(null);\n            }\n        } else {\n            entries.push(null);\n        }\n    }\n    return entries;\n};\n/**\n * @param {MeasurementsState} measurements - The measurements state object containing workout data\n */\n\nexport const mergeMeasurements = (measurements) => {\n    const sources = [measurements.heartrate, measurements.cadence, measurements.power];\n    const hasData = sources.some((data) => data.length > 0);\n    if (!hasData) {\n        return [];\n    }\n    const firstTimestamps = sources.map((data) => (data.length > 0 ? data[0].timestamp : Infinity));\n    const startTime = Math.min(...firstTimestamps);\n    const endTime = Math.max(\n        ...sources.map((data) => (data.length > 0 ? data[data.length - 1].timestamp : -Infinity))\n    );\n    const timeStep = 1000; // 1 second intervals\n    const timestamps = [];\n    let time = startTime;\n    while (time <= endTime) {\n        timestamps.push(time);\n        time += timeStep;\n    }\n    const syncedHR = getValuesAtTimestamps(measurements.heartrate, timestamps);\n    const syncedCadence = getValuesAtTimestamps(measurements.cadence, timestamps);\n    const syncedPower = getValuesAtTimestamps(measurements.power, timestamps);\n\n    const dataPoints = [];\n    for (let i = 0; i < timestamps.length; i++) {\n        const point = {\n            timestamp: timestamps[i],\n            heartrate: syncedHR[i] ?? null,\n            cadence: syncedCadence[i] ?? null,\n            power: syncedPower[i] ?? null,\n        };\n        dataPoints.push(point);\n    }\n    return dataPoints;\n};\n","import { mergeMeasurements } from './merge-measurements.js';\n\n/**\n * Creates a CSV string from merged measurements\n * @param {MeasurementsState} measurements - Merged measurement data points\n * @returns {string} CSV formatted string\n */\nexport const getCsvString = (measurements) => {\n    const dataPoints = mergeMeasurements(measurements);\n    if (!dataPoints || dataPoints.length === 0) {\n        return '';\n    }\n\n    // CSV header\n    const header = 'timestamp,power,cadence,heartrate';\n\n    // Convert each data point to CSV row\n    const rows = dataPoints.map((point) => {\n        const timestamp = new Date(point.timestamp).toISOString();\n        const power = point.power !== null ? Math.round(point.power) : '';\n        const cadence = point.cadence !== null ? Math.round(point.cadence) : '';\n        const heartrate = point.heartrate !== null ? Math.round(point.heartrate) : '';\n        return `${timestamp},${power},${cadence},${heartrate}`;\n    });\n\n    return [header, ...rows].join('\\n');\n};\n","import { mergeMeasurements } from './merge-measurements.js';\n\nconst hrString = (hr) =>\n    hr !== null ? `<HeartRateBpm><Value>${Math.round(hr)}</Value></HeartRateBpm>` : '';\nconst cadenceString = (cadence) =>\n    cadence !== null ? `<Cadence>${Math.round(cadence)}</Cadence>` : '';\nconst powerString = (power) => {\n    if (power === null) return '';\n    return `<Extensions>\n              <TPX xmlns=\"http://www.garmin.com/xmlschemas/ActivityExtension/v2\">\n                <Watts>${Math.round(power)}</Watts>\n              </TPX>\n            </Extensions>`;\n};\n\nconst getTcxTrackpoint = (point) => {\n    const timestamp = new Date(point.timestamp).toISOString();\n\n    // Order matters in TCX schema: Time, Position, Altitude, Distance, HeartRate, Cadence, Extensions\n    const parts = [];\n\n    if (point.heartrate !== null) {\n        parts.push(hrString(point.heartrate));\n    }\n\n    if (point.cadence !== null) {\n        parts.push(cadenceString(point.cadence));\n    }\n\n    if (point.power !== null) {\n        parts.push(powerString(point.power));\n    }\n\n    const tcx = `\n<Trackpoint>\n    <Time>${timestamp}</Time>\n    ${parts.join('\\n')}\n</Trackpoint>\n    `.trim();\n    return tcx;\n};\n\n/**\n * Creates a Garmin TCX (Training Center XML) string from merged measurements\n * @param {MeasurementsState} measurements - Merged measurement data points\n * @returns {string} TCX formatted XML string\n */\nexport const getTcxString = (measurements) => {\n    const dataPoints = mergeMeasurements(measurements);\n    if (!dataPoints || dataPoints.length === 0) {\n        return '';\n    }\n\n    const firstTimestamp = dataPoints[0].timestamp;\n    const lastTimestamp = dataPoints[dataPoints.length - 1].timestamp;\n    const totalTimeSeconds = Math.round((lastTimestamp - firstTimestamp) / 1000);\n    const startDate = new Date(firstTimestamp).toISOString();\n\n    const tcx = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <TrainingCenterDatabase xmlns=\"http://www.garmin.com/xmlschemas/TrainingCenterDatabase/v2\">\n        <Activities>\n            <Activity Sport=\"Biking\">\n                <Id>${startDate}</Id>\n                <Lap StartTime=\"${startDate}\">\n                    <TotalTimeSeconds>${totalTimeSeconds}</TotalTimeSeconds>\n                    <Calories>0</Calories>\n                    <Intensity>Active</Intensity>\n                    <TriggerMethod>Manual</TriggerMethod>\n                    <Track>\n${dataPoints.map(getTcxTrackpoint).join('\\n')}\n                    </Track>\n                </Lap>\n            </Activity>\n        </Activities>\n    </TrainingCenterDatabase>`;\n\n    return tcx;\n};\n","import { getCsvString } from '../create-csv';\nimport { getTcxString } from '../create-tcx';\n\nexport const initDiscardButton = ({ measurementsState, timeState }) => {\n    // Discard button - in menu with confirmation dialog\n    const discardButton = document.getElementById('discardButton');\n    discardButton.addEventListener('click', () => {\n        // Show confirmation dialog\n        if (confirm('Are you sure you want to discard this workout?')) {\n            // Reset time state\n            timeState.running = false;\n            timeState.startTime = null;\n            timeState.endTime = null;\n\n            // Reset measurements\n            measurementsState.power = [];\n            measurementsState.heartrate = [];\n            measurementsState.cadence = [];\n        }\n    });\n};\n\nexport const initExportButton = (measurementsState) => {\n    const exportDataElem = document.getElementById('exportData');\n    exportDataElem.addEventListener('click', () => {\n        try {\n            const now = new Date();\n            const timestamp = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}-${String(now.getHours()).padStart(2, '0')}-${String(now.getMinutes()).padStart(2, '0')}-${String(now.getSeconds()).padStart(2, '0')}`;\n\n            // Create export data object with all measurements\n            const exportData = {\n                power: measurementsState.power,\n                heartrate: measurementsState.heartrate,\n                cadence: measurementsState.cadence,\n            };\n\n            // Download JSON file\n            const jsonString = JSON.stringify(exportData, null, 2);\n            const jsonBlob = new Blob([jsonString], { type: 'application/json' });\n            const jsonUrl = URL.createObjectURL(jsonBlob);\n            const jsonLink = document.createElement('a');\n            jsonLink.href = jsonUrl;\n            jsonLink.download = `bike-measurements-${timestamp}.json`;\n            jsonLink.click();\n            URL.revokeObjectURL(jsonUrl);\n\n            // Download TCX file\n            const tcxString = getTcxString(measurementsState);\n            const tcxBlob = new Blob([tcxString], { type: 'application/xml' });\n            const tcxUrl = URL.createObjectURL(tcxBlob);\n            const tcxLink = document.createElement('a');\n            tcxLink.href = tcxUrl;\n            tcxLink.download = `bike-workout-${timestamp}.tcx`;\n            tcxLink.click();\n            URL.revokeObjectURL(tcxUrl);\n\n            // Download CSV file\n            const csvString = getCsvString(measurementsState);\n            const csvBlob = new Blob([csvString], { type: 'text/csv' });\n            const csvUrl = URL.createObjectURL(csvBlob);\n            const csvLink = document.createElement('a');\n            csvLink.href = csvUrl;\n            csvLink.download = `bike-workout-${timestamp}.csv`;\n            csvLink.click();\n            URL.revokeObjectURL(csvUrl);\n        } catch (error) {\n            console.error('Error exporting data:', error);\n        }\n    });\n};\n","/**\n * Get DOM element by ID with null check\n * @param {string} id - Element ID\n * @returns {HTMLElement | null}\n */\nfunction getElement(id) {\n    const element = document.getElementById(id);\n    if (!element) {\n        console.warn(`Element with ID \"${id}\" not found in DOM`);\n    }\n    return element;\n}\n\nexport const connectPowerElem = getElement('connectPower');\nexport const connectHeartrateElem = getElement('connectHeartrate');\nexport const connectCadenceElem = getElement('connectCadence');\n\nexport const powerElement = getElement('power');\nexport const heartrateElement = getElement('heartrate');\nexport const cadenceElement = getElement('cadence');\n\nexport const elements = {\n    power: { display: powerElement, connect: connectPowerElem },\n    heartrate: { display: heartrateElement, connect: connectHeartrateElem },\n    cadence: { display: cadenceElement, connect: connectCadenceElem },\n};\n","import { elements } from './elements';\n\nexport const initMetricsDisplay = ({ connectionsState, measurementsState }) => {\n    const updateMetricDisplay = (key) => {\n        const element = elements?.[key]?.display;\n        if (!element || !connectionsState?.[key]) {\n            return;\n        }\n        const emptyValue = '--';\n        if (!connectionsState?.[key]?.isConnected) {\n            element.textContent = emptyValue;\n            return;\n        }\n        const arr = measurementsState[key];\n        if (!Array.isArray(arr) || arr.length === 0) {\n            element.textContent = emptyValue;\n            return;\n        }\n\n        const latestMeasurement = arr[arr.length - 1];\n        if (\n            !latestMeasurement ||\n            typeof latestMeasurement.value !== 'number' ||\n            typeof latestMeasurement.timestamp !== 'number'\n        ) {\n            element.textContent = emptyValue;\n            return;\n        }\n        const timeDiff = Date.now() - latestMeasurement.timestamp;\n        // If data is older than 5 seconds, show as disconnected\n        if (timeDiff > 5000) {\n            element.textContent = emptyValue;\n            return;\n        }\n\n        element.textContent = latestMeasurement.value;\n    };\n\n    const metricTypes = ['power', 'heartrate', 'cadence'];\n    // Start the event loop\n    setInterval(() => {\n        metricTypes.forEach(updateMetricDisplay);\n    }, 100);\n};\n","export const connectCadenceMock = async () => {\n    const listeners = [];\n    const cadenceInterval = setInterval(() => {\n        const randomCadence = Math.floor(Math.random() * 40) + 70; // 70-110 rpm\n        const entry = { timestamp: Date.now(), value: randomCadence };\n        listeners.forEach((listener) => listener(entry));\n    }, 1000);\n\n    return {\n        disconnect: () => clearInterval(cadenceInterval),\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectCadenceBluetooth = async () => {\n    const listeners = [];\n    let lastCrankRevs = null;\n    let lastCrankTime = null;\n\n    // Request Bluetooth device with cycling speed and cadence service\n    const device = await navigator.bluetooth.requestDevice({\n        filters: [{ services: ['cycling_speed_and_cadence'] }],\n        optionalServices: ['cycling_speed_and_cadence'],\n    });\n\n    // Connect to GATT server\n    const server = await device.gatt.connect();\n\n    // Get cycling speed and cadence service\n    const service = await server.getPrimaryService('cycling_speed_and_cadence');\n\n    // Get CSC measurement characteristic\n    const characteristic = await service.getCharacteristic('csc_measurement');\n\n    // Start notifications\n    await characteristic.startNotifications();\n\n    // Listen for cadence changes\n    characteristic.addEventListener('characteristicvaluechanged', (event) => {\n        const value = event.target.value;\n        const flags = value.getUint8(0);\n\n        // Check if crank revolution data is present (bit 1 of flags)\n        if (flags & 0x02) {\n            // Crank revolution data format:\n            // - Cumulative Crank Revolutions (uint16, bytes 1-2 or 5-6 depending on wheel data)\n            // - Last Crank Event Time (uint16, bytes 3-4 or 7-8, units: 1/1024 seconds)\n\n            let offset = 1; // Start after flags byte\n\n            // If wheel revolution data is present (bit 0), skip it (6 bytes: 4 for revs + 2 for time)\n            if (flags & 0x01) {\n                offset = 7;\n            }\n\n            const crankRevs = value.getUint16(offset, true);\n            const crankTime = value.getUint16(offset + 2, true); // Units: 1/1024 seconds\n\n            // Calculate RPM from delta between measurements\n            if (lastCrankRevs !== null && lastCrankTime !== null) {\n                let revDelta = crankRevs - lastCrankRevs;\n                let timeDelta = crankTime - lastCrankTime;\n\n                // Handle rollover (uint16 max is 65535)\n                if (revDelta < 0) revDelta += 65536;\n                if (timeDelta < 0) timeDelta += 65536;\n\n                // Calculate RPM: (revolutions / time_in_seconds) * 60\n                // Time is in 1/1024 seconds, so convert to seconds\n                if (timeDelta > 0) {\n                    const timeInSeconds = timeDelta / 1024;\n                    const rpm = Math.round((revDelta / timeInSeconds) * 60);\n\n                    // Sanity check for reasonable cadence values\n                    if (rpm >= 0 && rpm < 300) {\n                        const entry = { timestamp: Date.now(), value: rpm };\n                        listeners.forEach((listener) => listener(entry));\n                    }\n                }\n            }\n\n            lastCrankRevs = crankRevs;\n            lastCrankTime = crankTime;\n        }\n    });\n\n    return {\n        disconnect: () => {\n            characteristic.stopNotifications();\n            device.gatt.disconnect();\n        },\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectCadence = async () => {\n    if (import.meta.env.MODE === 'development' || import.meta.env.MODE === 'test') {\n        return connectCadenceMock();\n    }\n    return connectCadenceBluetooth();\n};\n","export const connectHeartRateMock = async () => {\n    const listeners = [];\n    const heartRateInterval = setInterval(() => {\n        const randomHeartRate = Math.floor(Math.random() * 80) + 120; // 120-200 bpm\n        const entry = { timestamp: Date.now(), value: randomHeartRate };\n        listeners.forEach((listener) => listener(entry));\n    }, 1000);\n\n    return {\n        disconnect: () => clearInterval(heartRateInterval),\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectHeartRateBluetooth = async () => {\n    const listeners = [];\n\n    // Request Bluetooth device with heart rate service\n    const device = await navigator.bluetooth.requestDevice({\n        filters: [{ services: ['heart_rate'] }],\n        optionalServices: ['heart_rate'],\n    });\n\n    // Connect to GATT server\n    const server = await device.gatt.connect();\n\n    // Get heart rate service\n    const service = await server.getPrimaryService('heart_rate');\n\n    // Get heart rate measurement characteristic\n    const characteristic = await service.getCharacteristic('heart_rate_measurement');\n\n    // Start notifications\n    await characteristic.startNotifications();\n\n    // Listen for heart rate changes\n    characteristic.addEventListener('characteristicvaluechanged', (event) => {\n        const value = event.target.value;\n        const flags = value.getUint8(0);\n        let heartRate;\n\n        // Check Heart Rate Value Format bit (bit 0)\n        if (flags & 0x01) {\n            // UINT16\n            heartRate = value.getUint16(1, true); // little-endian\n        } else {\n            // UINT8\n            heartRate = value.getUint8(1);\n        }\n\n        const entry = { timestamp: Date.now(), value: heartRate };\n        listeners.forEach((listener) => listener(entry));\n    });\n\n    return {\n        disconnect: () => {\n            characteristic.stopNotifications();\n            device.gatt.disconnect();\n        },\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectHeartRate = async () => {\n    if (import.meta.env.MODE === 'development' || import.meta.env.MODE === 'test') {\n        return connectHeartRateMock();\n    }\n    // Production implementation would go here\n    return connectHeartRateBluetooth();\n};\n","export const connectPowerMock = async () => {\n    const listeners = [];\n    const powerInterval = setInterval(() => {\n        const randomPower = Math.floor(Math.random() * 300) + 100; // 100-400W\n        const entry = { timestamp: Date.now(), value: randomPower };\n        listeners.forEach((listener) => listener(entry));\n    }, 100);\n\n    return {\n        disconnect: () => clearInterval(powerInterval),\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectPowerBluetooth = async () => {\n    const listeners = [];\n\n    // Request Bluetooth device with cycling power service\n    const device = await navigator.bluetooth.requestDevice({\n        filters: [{ services: ['cycling_power'] }],\n        optionalServices: ['cycling_power'],\n    });\n\n    // Connect to GATT server\n    const server = await device.gatt.connect();\n\n    // Get cycling power service\n    const service = await server.getPrimaryService('cycling_power');\n\n    // Get cycling power measurement characteristic\n    const characteristic = await service.getCharacteristic('cycling_power_measurement');\n\n    // Start notifications\n    await characteristic.startNotifications();\n\n    // Listen for power changes\n    characteristic.addEventListener('characteristicvaluechanged', (event) => {\n        const value = event.target.value;\n        // Cycling power measurement format: bytes 2-3 contain instantaneous power (little-endian)\n        const power = value.getInt16(2, true);\n        const entry = { timestamp: Date.now(), value: power };\n        listeners.forEach((listener) => listener(entry));\n    });\n\n    return {\n        disconnect: () => {\n            characteristic.stopNotifications();\n            device.gatt.disconnect();\n        },\n        addListener: (callback) => {\n            listeners.push(callback);\n        },\n    };\n};\n\nexport const connectPower = async () => {\n    if (import.meta.env.MODE === 'development' || import.meta.env.MODE === 'test') {\n        return connectPowerMock();\n    }\n    return connectPowerBluetooth();\n};\n","import { connectCadence } from './connect-cadence';\nimport { connectHeartRate } from './connect-heartrate';\nimport { connectPower } from './connect-power';\nimport { elements } from './elements';\n\nexport const initConnectionButtons = ({ connectionsState, measurementsState }) => {\n    const metricTypes = ['power', 'heartrate', 'cadence'];\n    const emojis = {\n        power: 'âš¡',\n        heartrate: 'â¤ï¸',\n        cadence: 'ðŸš´',\n    };\n\n    const disconnectFn = (key) => {\n        if (typeof connectionsState[key].disconnect === 'function') {\n            connectionsState[key].disconnect();\n            connectionsState[key].disconnect = null;\n            connectionsState[key].isConnected = false;\n            const connectElem = elements[key]?.connect;\n            if (connectElem?.textContent) {\n                connectElem.textContent = `${emojis[key]} Connect ${key.charAt(0).toUpperCase() + key.slice(1)}`;\n            }\n            const displayElem = elements?.[key]?.display;\n            if (displayElem?.textContent) {\n                displayElem.textContent = '--';\n            }\n        }\n    };\n\n    const connectFn = async (key) => {\n        const connectFns = {\n            power: connectPower,\n            heartrate: connectHeartRate,\n            cadence: connectCadence,\n        };\n        try {\n            const { disconnect, addListener } = await connectFns[key]();\n\n            connectionsState[key].disconnect = disconnect;\n            connectionsState[key].isConnected = true;\n\n            addListener((entry) => {\n                measurementsState.add(key, entry);\n            });\n\n            const connectElem = elements[key]?.connect;\n            if (connectElem?.textContent) {\n                connectElem.textContent = `${emojis[key]} Disconnect ${key.charAt(0).toUpperCase() + key.slice(1)}`;\n            }\n        } catch (error) {\n            console.error(`Error connecting ${key}:`, error);\n        }\n    };\n\n    metricTypes.forEach((key) => {\n        const connectElem = elements[key]?.connect;\n        if (connectElem) {\n            connectElem.addEventListener('click', async () => {\n                if (connectionsState[key].isConnected) {\n                    disconnectFn(key);\n                } else {\n                    connectFn(key);\n                }\n            });\n        }\n    });\n};\n","class MeasurementsState {\n    constructor() {\n        this.heartrate = [];\n        this.power = [];\n        this.cadence = [];\n    }\n\n    addHeartrate({ timestamp, value }) {\n        if (value <= 0 || value >= 300) {\n            console.warn(`Invalid heartrate value: ${value}`);\n            return;\n        }\n        this.heartrate.push({\n            timestamp: timestamp,\n            value: value,\n        });\n    }\n\n    addPower({ timestamp, value }) {\n        if (value < 0 || value >= 3000) {\n            console.warn(`Invalid power value: ${value}`);\n            return;\n        }\n        this.power.push({\n            timestamp: timestamp,\n            value: value,\n        });\n    }\n\n    addCadence({ timestamp, value }) {\n        if (value < 0 || value >= 300) {\n            console.warn(`Invalid cadence value: ${value}`);\n            return;\n        }\n        this.cadence.push({\n            timestamp: timestamp,\n            value: value,\n        });\n    }\n\n    add(type, entry) {\n        if (type === 'heartrate') {\n            this.addHeartrate(entry);\n        } else if (type === 'power') {\n            this.addPower(entry);\n        } else if (type === 'cadence') {\n            this.addCadence(entry);\n        } else {\n            throw new Error(`Unknown measurement type: ${type}`);\n        }\n    }\n}\n\nexport { MeasurementsState };\n","import { MeasurementsState } from './MeasurementsState';\n\nexport const getInitState = () => {\n    return {\n        measurementsState: new MeasurementsState(),\n        connectionsState: {\n            power: {\n                isConnected: false,\n                disconnect: null,\n            },\n            heartrate: {\n                isConnected: false,\n                disconnect: null,\n            },\n            cadence: {\n                isConnected: false,\n                disconnect: null,\n            },\n        },\n        timeState: {\n            running: false,\n            startTime: null,\n            endTime: null,\n        },\n    };\n};\n","export const handleWakeLock = () => {\n    // Keep screen awake during workout\n    let wakeLock = null;\n    const requestWakeLock = async () => {\n        try {\n            if ('wakeLock' in navigator) {\n                wakeLock = await navigator.wakeLock.request('screen');\n                console.log('Screen wake lock activated');\n\n                // Re-request wake lock if page becomes visible again\n                wakeLock.addEventListener('release', () => {\n                    console.log('Screen wake lock released');\n                });\n            }\n        } catch (err) {\n            console.error('Wake lock request failed:', err);\n        }\n    };\n    // Request wake lock when page loads\n    if (document.visibilityState === 'visible') {\n        requestWakeLock();\n    }\n    // Re-request wake lock when page becomes visible\n    document.addEventListener('visibilitychange', () => {\n        if (document.visibilityState === 'visible') {\n            requestWakeLock();\n        }\n    });\n};\n","// src/client/build/register.ts\nvar autoUpdateMode = \"true\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (_reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      sendSkipWaitingMessage?.();\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      wb = await import(\"workbox-window\").then(({ Workbox }) => {\n        return new Workbox(\"./sw.js\", { scope: \"./\", type: \"classic\" });\n      }).catch((e) => {\n        onRegisterError?.(e);\n        return void 0;\n      });\n      if (!wb)\n        return;\n      sendSkipWaitingMessage = () => {\n        wb?.messageSkipWaiting();\n      };\n      if (!autoDestroy) {\n        if (auto) {\n          wb.addEventListener(\"activated\", (event) => {\n            if (event.isUpdate || event.isExternal)\n              window.location.reload();\n          });\n          wb.addEventListener(\"installed\", (event) => {\n            if (!event.isUpdate) {\n              onOfflineReady?.();\n            }\n          });\n        } else {\n          let onNeedRefreshCalled = false;\n          const showSkipWaitingPrompt = () => {\n            onNeedRefreshCalled = true;\n            wb?.addEventListener(\"controlling\", (event) => {\n              if (event.isUpdate)\n                window.location.reload();\n            });\n            onNeedRefresh?.();\n          };\n          wb.addEventListener(\"installed\", (event) => {\n            if (typeof event.isUpdate === \"undefined\") {\n              if (typeof event.isExternal !== \"undefined\") {\n                if (event.isExternal)\n                  showSkipWaitingPrompt();\n                else\n                  !onNeedRefreshCalled && onOfflineReady?.();\n              } else {\n                !onNeedRefreshCalled && onOfflineReady?.();\n              }\n            } else if (!event.isUpdate) {\n              onOfflineReady?.();\n            }\n          });\n          wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n        }\n      }\n      wb.register({ immediate }).then((r) => {\n        if (onRegisteredSW)\n          onRegisteredSW(\"./sw.js\", r);\n        else\n          onRegistered?.(r);\n      }).catch((e) => {\n        onRegisterError?.(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","import { registerSW } from 'virtual:pwa-register';\n\nexport const registerServiceWorker = () => {\n    // Don't register service worker in development to avoid caching issues\n    if (import.meta.env.DEV) {\n        console.log('Service Worker disabled in development mode');\n        // Unregister existing service workers if any to ensure fresh content\n        if ('serviceWorker' in navigator) {\n            navigator.serviceWorker.getRegistrations().then((registrations) => {\n                for (let registration of registrations) {\n                    registration.unregister();\n                    console.log('Unregistered existing service worker');\n                }\n            });\n        }\n        return;\n    }\n\n    // Register service worker for PWA functionality using vite-plugin-pwa\n    if (import.meta.env.MODE === 'test') {\n        return;\n    }\n\n    const updateSW = registerSW({\n        onNeedRefresh() {\n            showUpdateNotification(updateSW);\n        },\n        onOfflineReady() {\n            console.log('App ready to work offline');\n        },\n        onRegisteredSW(swUrl, registration) {\n            console.log('Service Worker registered successfully:', swUrl);\n\n            // Check for updates periodically (every hour)\n            if (registration) {\n                setInterval(\n                    () => {\n                        registration.update();\n                    },\n                    60 * 60 * 1000\n                );\n            }\n        },\n        onRegisterError(error) {\n            console.log('Service Worker registration failed:', error);\n        },\n    });\n};\n\nconst showUpdateNotification = (updateSW) => {\n    const updateContainer = document.getElementById('updateNotification');\n    if (updateContainer) {\n        updateContainer.style.display = 'block';\n\n        const updateButton = document.getElementById('updateButton');\n        updateButton.addEventListener(\n            'click',\n            () => {\n                updateSW(true); // Force reload after update\n            },\n            { once: true }\n        );\n\n        const dismissUpdateButton = document.getElementById('dismissUpdate');\n        dismissUpdateButton.addEventListener(\n            'click',\n            () => {\n                updateContainer.style.display = 'none';\n            },\n            { once: true }\n        );\n    }\n};\n","let deferredPrompt = null;\n\nexport const initInstallPrompt = () => {\n    if (import.meta.env.MODE === 'test') {\n        return;\n    }\n\n    // Listen for the beforeinstallprompt event\n    window.addEventListener('beforeinstallprompt', (e) => {\n        // Prevent the mini-infobar from appearing on mobile\n        e.preventDefault();\n\n        // Stash the event so it can be triggered later\n        deferredPrompt = e;\n\n        // Show the install button\n        showInstallButton();\n    });\n\n    // Listen for the app installed event\n    window.addEventListener('appinstalled', () => {\n        console.log('PWA was installed successfully');\n        deferredPrompt = null;\n        hideInstallButton();\n    });\n};\n\nconst showInstallButton = () => {\n    const installContainer = document.getElementById('installPrompt');\n    if (installContainer) {\n        installContainer.style.display = 'block';\n\n        const installButton = document.getElementById('installButton');\n        installButton.addEventListener('click', async () => {\n            if (!deferredPrompt) {\n                return;\n            }\n\n            // Show the install prompt\n            deferredPrompt.prompt();\n\n            // Wait for the user to respond to the prompt\n            const { outcome } = await deferredPrompt.userChoice;\n            console.log(`User response to the install prompt: ${outcome}`);\n\n            // Clear the deferredPrompt\n            deferredPrompt = null;\n            hideInstallButton();\n        });\n\n        const dismissButton = document.getElementById('dismissInstall');\n        dismissButton.addEventListener('click', () => {\n            hideInstallButton();\n        });\n    }\n};\n\nconst hideInstallButton = () => {\n    const installContainer = document.getElementById('installPrompt');\n    if (installContainer) {\n        installContainer.style.display = 'none';\n    }\n};\n","export function initSettings() {\n    const settingsButton = document.getElementById('settingsButton');\n    const settingsModal = document.getElementById('settingsModal');\n    const closeSettingsModal = document.getElementById('closeSettingsModal');\n    const saveSettingsButton = document.getElementById('saveSettings');\n\n    const settingPower = document.getElementById('settingPower');\n    const settingCadence = document.getElementById('settingCadence');\n    const settingHeartrate = document.getElementById('settingHeartrate');\n\n    // Load settings from localStorage\n    const loadSettings = () => {\n        const settings = JSON.parse(localStorage.getItem('bpt-settings')) || {\n            power: true,\n            cadence: true,\n            heartrate: true,\n        };\n\n        settingPower.checked = settings.power;\n        settingCadence.checked = settings.cadence;\n        settingHeartrate.checked = settings.heartrate;\n\n        applySettings(settings);\n    };\n\n    // Save settings to localStorage\n    const saveSettings = () => {\n        const settings = {\n            power: settingPower.checked,\n            cadence: settingCadence.checked,\n            heartrate: settingHeartrate.checked,\n        };\n\n        localStorage.setItem('bpt-settings', JSON.stringify(settings));\n        applySettings(settings);\n        closeModal();\n    };\n\n    // Apply settings to the UI\n    const applySettings = (settings) => {\n        const toggleMetric = (metric, isVisible) => {\n            const elements = document.querySelectorAll(`.metric-group-${metric}`);\n            elements.forEach((el) => {\n                el.style.display = isVisible ? 'flex' : 'none';\n            });\n        };\n\n        toggleMetric('power', settings.power);\n        toggleMetric('cadence', settings.cadence);\n        toggleMetric('heartrate', settings.heartrate);\n    };\n\n    const openModal = () => {\n        settingsModal.style.display = 'flex';\n        // Close the main menu details element\n        const details = document.querySelector('header details');\n        if (details) {\n            details.removeAttribute('open');\n        }\n    };\n\n    const closeModal = () => {\n        settingsModal.style.display = 'none';\n    };\n\n    // Event Listeners\n    settingsButton.addEventListener('click', openModal);\n    closeSettingsModal.addEventListener('click', closeModal);\n    saveSettingsButton.addEventListener('click', saveSettings);\n\n    // Close modal when clicking outside\n    window.addEventListener('click', (event) => {\n        if (event.target === settingsModal) {\n            closeModal();\n        }\n    });\n\n    // Initialize\n    loadSettings();\n}\n","export function exposeVariablesDuringTest({ measurementsState, connectionsState }) {\n    // Always expose in non-production builds for testing purposes\n    if (typeof window !== 'undefined') {\n        window.bike = measurementsState;\n        window.connectionsState = connectionsState;\n    }\n}\n","import './main.css';\nimport { initTimerDisplay } from './ui/time.js';\nimport { initDiscardButton, initExportButton } from './ui/menu.js';\nimport { initMetricsDisplay } from './initMetricsDisplay.js';\nimport { initConnectionButtons } from './initConnectionButtons.js';\nimport { getInitState } from './getInitState.js';\nimport { handleWakeLock } from './ui/wakeLock.js';\nimport { registerServiceWorker } from './ui/serviceWorker.js';\nimport { initInstallPrompt } from './ui/installPrompt.js';\nimport { initSettings } from './ui/settings.js';\nimport { exposeVariablesDuringTest } from './exposeVariablesDuringTest.js';\n\nconst { measurementsState, connectionsState, timeState } = getInitState();\nexposeVariablesDuringTest({ measurementsState, connectionsState });\n\ninitTimerDisplay(timeState);\ninitMetricsDisplay({ connectionsState, measurementsState });\n\ninitConnectionButtons({ connectionsState, measurementsState });\ninitDiscardButton({ measurementsState, timeState });\ninitExportButton(measurementsState);\n\nhandleWakeLock();\nregisterServiceWorker();\ninitInstallPrompt();\ninitSettings();\n"],"file":"index-COHqODR7.js"}