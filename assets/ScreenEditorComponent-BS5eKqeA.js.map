{"version":3,"file":"ScreenEditorComponent-BS5eKqeA.js","sources":["../../src/components/data-fields/ScreenEditorComponent.ts"],"sourcesContent":["/**\n * Screen Editor Web Component\n *\n * Allows users to edit a data screen's configuration:\n * - Add/remove/reorder data fields\n * - Change field sizes\n * - Change screen layout\n *\n * @example\n * ```typescript\n * const editor = document.createElement('bpt-screen-editor') as ScreenEditorComponent;\n * editor.setScreen(myScreen);\n * editor.addEventListener('save', (e) => {\n *   console.log('Updated screen:', e.detail.screen);\n * });\n * ```\n *\n * @module components/data-fields/ScreenEditorComponent\n */\n\nimport type { DataScreen, DataFieldSlot, ScreenLayout } from '../../data-fields/types.js';\nimport { getDataField } from '../../data-fields/registry.js';\nimport { addSlotToScreen, removeSlotFromScreen, updateSlot, reorderSlots } from '../../data-fields/screens.js';\nimport { FieldPickerComponent, type FieldSelectEvent } from './FieldPickerComponent.js';\n\n// Ensure FieldPicker is registered\nimport './FieldPickerComponent.js';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface ScreenSaveEvent {\n    screen: DataScreen;\n}\n\n// ============================================================================\n// Component Definition\n// ============================================================================\n\n/**\n * Screen editor component for configuring data screens\n */\nexport class ScreenEditorComponent extends HTMLElement {\n    private shadow: ShadowRoot;\n    private screen: DataScreen | null = null;\n    private draggedSlotId: string | null = null;\n    private fieldPicker: FieldPickerComponent | null = null;\n    private editingSlotId: string | null = null;\n\n    // Layout options\n    private static readonly LAYOUTS: { value: ScreenLayout; label: string }[] = [\n        { value: 'auto', label: 'Auto' },\n        { value: 'grid-2', label: '2 Columns' },\n        { value: 'grid-3', label: '3 Columns' },\n        { value: 'grid-4', label: '4 Columns' },\n        { value: 'list', label: 'List' },\n    ];\n\n    constructor() {\n        super();\n        this.shadow = this.attachShadow({ mode: 'open' });\n    }\n\n    // ========================================================================\n    // Lifecycle\n    // ========================================================================\n\n    connectedCallback(): void {\n        this.render();\n        this.setupEventListeners();\n    }\n\n    disconnectedCallback(): void {\n        this.removeEventListeners();\n    }\n\n    // ========================================================================\n    // Public API\n    // ========================================================================\n\n    /**\n     * Set the screen to edit\n     */\n    public setScreen(screen: DataScreen): void {\n        this.screen = { ...screen, slots: [...screen.slots] };\n        this.render();\n    }\n\n    /**\n     * Get the current screen configuration\n     */\n    public getScreen(): DataScreen | null {\n        return this.screen;\n    }\n\n    /**\n     * Reset to original screen (discard changes)\n     */\n    public reset(originalScreen: DataScreen): void {\n        this.screen = { ...originalScreen, slots: [...originalScreen.slots] };\n        this.render();\n    }\n\n    // ========================================================================\n    // Rendering\n    // ========================================================================\n\n    private render(): void {\n        if (!this.screen) {\n            this.shadow.innerHTML = `\n                <style>${this.getStyles()}</style>\n                <div class=\"editor editor--empty\">\n                    <p>No screen selected</p>\n                </div>\n            `;\n            return;\n        }\n\n        this.shadow.innerHTML = `\n            <style>${this.getStyles()}</style>\n            <div class=\"editor\">\n                <header class=\"editor__header\">\n                    <div class=\"editor__name-group\">\n                        <span class=\"editor__icon\">${this.screen.icon}</span>\n                        <input \n                            type=\"text\" \n                            class=\"editor__name-input\" \n                            value=\"${this.escapeHtml(this.screen.name)}\"\n                            placeholder=\"Screen Name\"\n                            data-action=\"rename\"\n                        >\n                    </div>\n                    <select class=\"editor__layout-select\" data-action=\"layout\">\n                        ${ScreenEditorComponent.LAYOUTS.map(\n                            (l) => `\n                            <option value=\"${l.value}\" ${l.value === this.screen!.layout ? 'selected' : ''}>\n                                ${l.label}\n                            </option>\n                        `\n                        ).join('')}\n                    </select>\n                </header>\n                \n                <div class=\"editor__slots\">\n                    ${\n                        this.screen.slots.length === 0\n                            ? '<p class=\"editor__empty\">No fields added yet. Click \"Add Field\" to get started.</p>'\n                            : this.screen.slots.map((slot) => this.renderSlot(slot)).join('')\n                    }\n                </div>\n                \n                <div class=\"editor__actions\">\n                    <button class=\"editor__btn editor__btn--add\" data-action=\"add-field\">\n                        <span>+</span> Add Field\n                    </button>\n                </div>\n                \n                <footer class=\"editor__footer\">\n                    <button class=\"editor__btn editor__btn--cancel\" data-action=\"cancel\">Cancel</button>\n                    <button class=\"editor__btn editor__btn--save\" data-action=\"save\">Save Changes</button>\n                </footer>\n            </div>\n        `;\n    }\n\n    private renderSlot(slot: DataFieldSlot): string {\n        const field = getDataField(slot.fieldId);\n        const fieldName = field?.name ?? 'Unknown Field';\n        const fieldIcon = field?.icon ?? '‚ùì';\n\n        return `\n            <div \n                class=\"editor__slot\" \n                data-slot-id=\"${slot.id}\"\n                draggable=\"true\"\n            >\n                <div class=\"editor__slot-drag\" title=\"Drag to reorder\">‚ãÆ‚ãÆ</div>\n                <span class=\"editor__slot-icon\">${fieldIcon}</span>\n                <div class=\"editor__slot-info\">\n                    <span class=\"editor__slot-name\">${this.escapeHtml(fieldName)}</span>\n                    <span class=\"editor__slot-size\">${slot.size}</span>\n                </div>\n                <div class=\"editor__slot-actions\">\n                    <button class=\"editor__slot-btn\" data-action=\"edit-slot\" data-slot-id=\"${slot.id}\" title=\"Edit\">\n                        ‚úèÔ∏è\n                    </button>\n                    <button class=\"editor__slot-btn editor__slot-btn--delete\" data-action=\"delete-slot\" data-slot-id=\"${slot.id}\" title=\"Remove\">\n                        üóëÔ∏è\n                    </button>\n                </div>\n            </div>\n        `;\n    }\n\n    private getStyles(): string {\n        return `\n            :host {\n                display: block;\n            }\n            \n            .editor {\n                background: var(--color-bg, #1a1a2e);\n                border-radius: 12px;\n                overflow: hidden;\n            }\n            \n            .editor--empty {\n                padding: 2rem;\n                text-align: center;\n                color: var(--color-text-secondary, #999);\n            }\n            \n            .editor__header {\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                gap: 1rem;\n                padding: 1rem;\n                border-bottom: 1px solid var(--color-border, #333);\n            }\n            \n            .editor__name-group {\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n                flex: 1;\n            }\n            \n            .editor__icon {\n                font-size: 1.5rem;\n            }\n            \n            .editor__name-input {\n                flex: 1;\n                padding: 0.5rem;\n                border: 1px solid transparent;\n                border-radius: 6px;\n                background: transparent;\n                color: var(--color-text, #fff);\n                font-size: 1.125rem;\n                font-weight: 600;\n            }\n            \n            .editor__name-input:hover,\n            .editor__name-input:focus {\n                border-color: var(--color-border, #333);\n                background: var(--color-bg-secondary, #252540);\n            }\n            \n            .editor__layout-select {\n                padding: 0.5rem 0.75rem;\n                border: 1px solid var(--color-border, #333);\n                border-radius: 6px;\n                background: var(--color-bg-secondary, #252540);\n                color: var(--color-text, #fff);\n                font-size: 0.9rem;\n                cursor: pointer;\n            }\n            \n            .editor__slots {\n                padding: 1rem;\n                min-height: 200px;\n            }\n            \n            .editor__empty {\n                text-align: center;\n                color: var(--color-text-secondary, #999);\n                padding: 2rem;\n            }\n            \n            .editor__slot {\n                display: flex;\n                align-items: center;\n                gap: 0.75rem;\n                padding: 0.75rem;\n                background: var(--color-bg-secondary, #252540);\n                border: 2px solid transparent;\n                border-radius: 8px;\n                margin-bottom: 0.5rem;\n                cursor: grab;\n                transition: all 0.2s ease;\n            }\n            \n            .editor__slot:hover {\n                border-color: var(--color-border, #333);\n            }\n            \n            .editor__slot.dragging {\n                opacity: 0.5;\n                cursor: grabbing;\n            }\n            \n            .editor__slot.drag-over {\n                border-color: var(--color-primary, #4361ee);\n                border-style: dashed;\n            }\n            \n            .editor__slot-drag {\n                color: var(--color-text-secondary, #999);\n                font-weight: bold;\n                cursor: grab;\n            }\n            \n            .editor__slot-icon {\n                font-size: 1.25rem;\n            }\n            \n            .editor__slot-info {\n                flex: 1;\n                min-width: 0;\n            }\n            \n            .editor__slot-name {\n                display: block;\n                font-weight: 500;\n                color: var(--color-text, #fff);\n            }\n            \n            .editor__slot-size {\n                display: block;\n                font-size: 0.75rem;\n                color: var(--color-text-secondary, #999);\n                text-transform: uppercase;\n            }\n            \n            .editor__slot-actions {\n                display: flex;\n                gap: 0.25rem;\n            }\n            \n            .editor__slot-btn {\n                background: none;\n                border: none;\n                padding: 0.375rem;\n                cursor: pointer;\n                border-radius: 4px;\n                opacity: 0.6;\n                transition: all 0.2s ease;\n            }\n            \n            .editor__slot-btn:hover {\n                opacity: 1;\n                background: var(--color-bg-hover, #333);\n            }\n            \n            .editor__slot-btn--delete:hover {\n                background: rgba(255, 0, 0, 0.2);\n            }\n            \n            .editor__actions {\n                padding: 0 1rem 1rem;\n            }\n            \n            .editor__btn {\n                padding: 0.625rem 1rem;\n                border-radius: 6px;\n                font-weight: 500;\n                cursor: pointer;\n                transition: all 0.2s ease;\n            }\n            \n            .editor__btn--add {\n                width: 100%;\n                background: var(--color-bg-secondary, #252540);\n                border: 2px dashed var(--color-border, #333);\n                color: var(--color-text, #fff);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                gap: 0.5rem;\n            }\n            \n            .editor__btn--add:hover {\n                border-color: var(--color-primary, #4361ee);\n                background: rgba(67, 97, 238, 0.1);\n            }\n            \n            .editor__btn--add span {\n                font-size: 1.25rem;\n                font-weight: bold;\n            }\n            \n            .editor__footer {\n                display: flex;\n                justify-content: flex-end;\n                gap: 0.75rem;\n                padding: 1rem;\n                border-top: 1px solid var(--color-border, #333);\n            }\n            \n            .editor__btn--cancel {\n                background: none;\n                border: 1px solid var(--color-border, #333);\n                color: var(--color-text, #fff);\n            }\n            \n            .editor__btn--cancel:hover {\n                background: var(--color-bg-hover, #333);\n            }\n            \n            .editor__btn--save {\n                background: var(--color-primary, #4361ee);\n                border: none;\n                color: #fff;\n            }\n            \n            .editor__btn--save:hover {\n                background: var(--color-primary-hover, #3451de);\n            }\n        `;\n    }\n\n    // ========================================================================\n    // Event Handling\n    // ========================================================================\n\n    private setupEventListeners(): void {\n        const container = this.shadow.querySelector('.editor') as HTMLElement;\n        if (!container) return;\n\n        this.shadow.addEventListener('click', this.handleClick.bind(this));\n        this.shadow.addEventListener('input', this.handleInput.bind(this));\n        this.shadow.addEventListener('change', this.handleChange.bind(this));\n        container.addEventListener('dragstart', this.handleDragStart.bind(this));\n        container.addEventListener('dragover', this.handleDragOver.bind(this));\n        container.addEventListener('drop', this.handleDrop.bind(this));\n        container.addEventListener('dragend', this.handleDragEnd.bind(this));\n    }\n\n    private removeEventListeners(): void {\n        // Listeners are cleaned up with shadow DOM\n    }\n\n    private handleClick(e: Event): void {\n        const target = e.target as HTMLElement;\n        const actionElement = target.closest('[data-action]') as HTMLElement;\n\n        if (!actionElement) return;\n\n        const action = actionElement.dataset.action;\n        const slotId = actionElement.dataset.slotId;\n\n        switch (action) {\n            case 'add-field':\n                this.openFieldPicker();\n                break;\n            case 'edit-slot':\n                if (slotId) this.editSlot(slotId);\n                break;\n            case 'delete-slot':\n                if (slotId) this.deleteSlot(slotId);\n                break;\n            case 'save':\n                this.saveChanges();\n                break;\n            case 'cancel':\n                this.dispatchEvent(new CustomEvent('cancel'));\n                break;\n        }\n    }\n\n    private handleInput(e: Event): void {\n        const target = e.target as HTMLElement;\n\n        if (target.classList.contains('editor__name-input') && this.screen) {\n            this.screen.name = (target as HTMLInputElement).value;\n        }\n    }\n\n    private handleChange(e: Event): void {\n        const target = e.target as HTMLElement;\n\n        if (target.classList.contains('editor__layout-select') && this.screen) {\n            this.screen.layout = (target as HTMLSelectElement).value as ScreenLayout;\n        }\n    }\n\n    // Drag and drop handlers\n    private handleDragStart(e: DragEvent): void {\n        const slotEl = (e.target as HTMLElement).closest('.editor__slot') as HTMLElement;\n        if (!slotEl) return;\n\n        this.draggedSlotId = slotEl.dataset.slotId ?? null;\n        slotEl.classList.add('dragging');\n\n        if (e.dataTransfer) {\n            e.dataTransfer.effectAllowed = 'move';\n        }\n    }\n\n    private handleDragOver(e: DragEvent): void {\n        e.preventDefault();\n\n        const slotEl = (e.target as HTMLElement).closest('.editor__slot') as HTMLElement;\n        if (!slotEl || slotEl.dataset.slotId === this.draggedSlotId) return;\n\n        // Remove drag-over from all slots\n        this.shadow.querySelectorAll('.editor__slot').forEach((el) => {\n            el.classList.remove('drag-over');\n        });\n\n        slotEl.classList.add('drag-over');\n    }\n\n    private handleDrop(e: DragEvent): void {\n        e.preventDefault();\n\n        const targetEl = (e.target as HTMLElement).closest('.editor__slot') as HTMLElement;\n        if (!targetEl || !this.draggedSlotId || !this.screen) return;\n\n        const targetSlotId = targetEl.dataset.slotId;\n        if (!targetSlotId || targetSlotId === this.draggedSlotId) return;\n\n        // Reorder: move dragged slot to target position\n        const currentOrder = this.screen.slots.map((s) => s.id);\n        const fromIndex = currentOrder.indexOf(this.draggedSlotId);\n        const toIndex = currentOrder.indexOf(targetSlotId);\n\n        if (fromIndex >= 0 && toIndex >= 0) {\n            // Remove from original position\n            currentOrder.splice(fromIndex, 1);\n            // Insert at new position\n            currentOrder.splice(toIndex, 0, this.draggedSlotId);\n            // Apply new order\n            this.screen = reorderSlots(this.screen, currentOrder);\n            this.render();\n        }\n    }\n\n    private handleDragEnd(_e: DragEvent): void {\n        this.draggedSlotId = null;\n        this.shadow.querySelectorAll('.editor__slot').forEach((el) => {\n            el.classList.remove('dragging', 'drag-over');\n        });\n    }\n\n    // ========================================================================\n    // Actions\n    // ========================================================================\n\n    private openFieldPicker(editingSlotId?: string): void {\n        // Create picker if needed\n        if (!this.fieldPicker) {\n            this.fieldPicker = document.createElement('bpt-field-picker') as FieldPickerComponent;\n            this.fieldPicker.addEventListener('select', this.handleFieldSelect.bind(this));\n            this.fieldPicker.addEventListener('close', () => {\n                this.editingSlotId = null;\n            });\n            document.body.appendChild(this.fieldPicker);\n        }\n\n        this.editingSlotId = editingSlotId ?? null;\n\n        // Get pre-selected field ID if editing\n        let preselectedFieldId: string | undefined;\n        if (editingSlotId && this.screen) {\n            const slot = this.screen.slots.find((s) => s.id === editingSlotId);\n            preselectedFieldId = slot?.fieldId;\n        }\n\n        this.fieldPicker.open(preselectedFieldId);\n    }\n\n    private handleFieldSelect(e: Event): void {\n        const detail = (e as CustomEvent<FieldSelectEvent>).detail;\n\n        if (!this.screen) return;\n\n        if (this.editingSlotId) {\n            // Update existing slot\n            this.screen = updateSlot(this.screen, this.editingSlotId, {\n                fieldId: detail.fieldId,\n                size: detail.size,\n            });\n        } else {\n            // Add new slot using fieldId and size\n            this.screen = addSlotToScreen(this.screen, detail.fieldId, detail.size);\n        }\n\n        this.editingSlotId = null;\n        this.render();\n    }\n\n    private editSlot(slotId: string): void {\n        this.openFieldPicker(slotId);\n    }\n\n    private deleteSlot(slotId: string): void {\n        if (!this.screen) return;\n\n        this.screen = removeSlotFromScreen(this.screen, slotId);\n        this.render();\n    }\n\n    private saveChanges(): void {\n        if (!this.screen) return;\n\n        this.dispatchEvent(\n            new CustomEvent<ScreenSaveEvent>('save', {\n                detail: { screen: this.screen },\n            })\n        );\n    }\n\n    // ========================================================================\n    // Helper Methods\n    // ========================================================================\n\n    private escapeHtml(str: string): string {\n        const div = document.createElement('div');\n        div.textContent = str;\n        return div.innerHTML;\n    }\n}\n\n// Register the custom element\nif (!customElements.get('bpt-screen-editor')) {\n    customElements.define('bpt-screen-editor', ScreenEditorComponent);\n}\n"],"names":["ScreenEditorComponent","screen","originalScreen","l","slot","field","getDataField","fieldName","fieldIcon","container","actionElement","action","slotId","target","slotEl","el","targetEl","targetSlotId","currentOrder","s","fromIndex","toIndex","reorderSlots","_e","editingSlotId","preselectedFieldId","detail","updateSlot","addSlotToScreen","removeSlotFromScreen","str","div"],"mappings":"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"}